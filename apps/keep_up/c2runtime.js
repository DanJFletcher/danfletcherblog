// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var r,aa,ca,da,ea,fa,ga,ha,u,ia,ja,ka,la,ma,na,pa,qa,ra,sa,ta,va,wa,xa,ya,Aa,Ba,w,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Oa,Pa,Qa,Ra,Sa,Ta,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb={},Yb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.bd=this.$c=this.dd=this.cd=this.pd=this.od=this.Xb=this.Wb=0}function b(a,b,c,d){a<b?c<d?(s=a<c?a:c,t=b>d?b:d):(s=a<d?a:d,t=b>c?b:c):c<d?(s=b<c?b:c,t=a>d?a:d):(s=b<d?b:d,t=a>c?a:c)}function d(){this.items=this.If=null;this.kk=0;A&&(this.If=new Set);this.Qk=[];this.Ph=!0}function e(a){D[E++]=a}function h(){this.Lb=this.Hp=this.y=this.r=0}function f(a){this.gc=[];this.vn=this.xn=this.yn=this.wn=0;this.Kn=null;this.Lm(a)}function g(a,
b){this.Oq=a;this.Nq=b;this.cells={}}function n(a,b){this.Oq=a;this.Nq=b;this.cells={}}function m(a,b,c){var d;return C.length?(d=C.pop(),d.Br=a,d.x=b,d.y=c,d):new aa(a,b,c)}function l(a,b,c){this.Br=a;this.x=b;this.y=c;this.Mc=new ca}function k(a,b,c){var d;return G.length?(d=G.pop(),d.Br=a,d.x=b,d.y=c,d):new da(a,b,c)}function q(a,b,c){this.Br=a;this.x=b;this.y=c;this.Mc=[];this.jk=!0;this.qg=new ca;this.ql=!1}function p(a,b){return a.Of-b.Of}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};u=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,b){return a>b?a:b};ma=function(a,b){return a<b?a:b};na=Math.PI;pa=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var b=a|0;return b===a?b:b+1};
ra=function(a,b,c,d,h,k,f,z){var g,l,A,e;a<c?(l=a,g=c):(l=c,g=a);h<f?(e=h,A=f):(e=f,A=h);if(g<e||l>A)return!1;b<d?(l=b,g=d):(l=d,g=b);k<z?(e=k,A=z):(e=z,A=k);if(g<e||l>A)return!1;g=h-a+f-c;l=k-b+z-d;a=c-a;b=d-b;h=f-h;k=z-k;z=ka(b*h-k*a);return ka(h*l-k*g)>z?!1:ka(a*l-b*g)<=z};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.zl=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.rC=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.sC=function(a,b,c){return!(a.right+
b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.ed=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Un=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};sa=a;c.prototype.Km=function(a){this.Wb=a.left;this.Xb=a.top;this.od=a.right;this.pd=a.top;this.cd=a.right;this.dd=a.bottom;this.$c=a.left;this.bd=a.bottom};c.prototype.Ax=function(a,b){if(0===b)this.Km(a);else{var c=
Math.sin(b),d=Math.cos(b),h=a.left*c,k=a.top*c,f=a.right*c,c=a.bottom*c,z=a.left*d,g=a.top*d,l=a.right*d,d=a.bottom*d;this.Wb=z-k;this.Xb=g+h;this.od=l-k;this.pd=g+f;this.cd=l-c;this.dd=d+f;this.$c=z-c;this.bd=d+h}};c.prototype.offset=function(a,b){this.Wb+=a;this.Xb+=b;this.od+=a;this.pd+=b;this.cd+=a;this.dd+=b;this.$c+=a;this.bd+=b;return this};var s=0,t=0;c.prototype.$u=function(a){b(this.Wb,this.od,this.cd,this.$c);a.left=s;a.right=t;b(this.Xb,this.pd,this.dd,this.bd);a.top=s;a.bottom=t};c.prototype.ed=
function(a,b){var c=this.od-this.Wb,d=this.pd-this.Xb,h=this.cd-this.Wb,k=this.dd-this.Xb,f=a-this.Wb,z=b-this.Xb,g=c*c+d*d,l=c*h+d*k,d=c*f+d*z,A=h*h+k*k,e=h*f+k*z,n=1/(g*A-l*l),c=(A*d-l*e)*n,g=(g*e-l*d)*n;if(0<=c&&0<g&&1>c+g)return!0;c=this.$c-this.Wb;d=this.bd-this.Xb;g=c*c+d*d;l=c*h+d*k;d=c*f+d*z;n=1/(g*A-l*l);c=(A*d-l*e)*n;g=(g*e-l*d)*n;return 0<=c&&0<g&&1>c+g};c.prototype.Mh=function(a,b){if(b)switch(a){case 0:return this.Wb;case 1:return this.od;case 2:return this.cd;case 3:return this.$c;case 4:return this.Wb;
default:return this.Wb}else switch(a){case 0:return this.Xb;case 1:return this.pd;case 2:return this.dd;case 3:return this.bd;case 4:return this.Xb;default:return this.Xb}};c.prototype.ji=function(){return(this.Wb+this.od+this.cd+this.$c)/4};c.prototype.ki=function(){return(this.Xb+this.pd+this.dd+this.bd)/4};c.prototype.Pv=function(a){var b=a.ji(),c=a.ki();if(this.ed(b,c))return!0;b=this.ji();c=this.ki();if(a.ed(b,c))return!0;var d,h,k,f,g,z,l,A;for(l=0;4>l;l++)for(A=0;4>A;A++)if(b=this.Mh(l,!0),
c=this.Mh(l,!1),d=this.Mh(l+1,!0),h=this.Mh(l+1,!1),k=a.Mh(A,!0),f=a.Mh(A,!1),g=a.Mh(A+1,!0),z=a.Mh(A+1,!1),ra(b,c,d,h,k,f,g,z))return!0;return!1};ta=c;va=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};wa=function(a,b){var c,d;b=pa(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};xa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};ya=function(a,b){a.push.apply(a,b)};Aa=function(a,b){var c,d;c=0;for(d=a.length;c<
d;++c)if(a[c]===b)return c;return-1};Ba=function(a,b){var c=Aa(a,b);-1!==c&&wa(a,c)};w=function(a){return a/(180/na)};Ca=function(a){return 180/na*a};Da=function(a){a%=360;0>a&&(a+=360);return a};Ea=function(a){a%=2*na;0>a&&(a+=2*na);return a};Fa=function(a){return Da(Ca(a))};Ga=function(a){return Ea(w(a))};Ha=function(a,b,c,d){return Math.atan2(d-b,c-a)};Ia=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),h=Math.sin(b),k=Math.cos(b),c=c*h+d*k;return 1<=c?0:-1>=c?na:Math.acos(c)};Ja=
function(a,b,c){var d=Math.sin(a),h=Math.cos(a),k=Math.sin(b),f=Math.cos(b);return Math.acos(d*k+h*f)>c?0<h*k-d*f?Ea(a+c):Ea(a-c):Ea(b)};Ka=function(a,b){var c=Math.sin(a),d=Math.cos(a),h=Math.sin(b),k=Math.cos(b);return 0>=d*h-c*k};La=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Oa=function(a,b){return!a!==!b};Pa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Qa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var v=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-v};var x=!1,B=x=!1,z=!1;"undefined"!==typeof window&&(x=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),x=!x&&/safari/i.test(navigator.userAgent),B=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);
var A=!x&&!z&&!B&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.gh()?!1:A?this.If.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(A)this.If.has(a)||(this.If.add(a),this.Ph=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.kk++,this.Ph=!1):(this.items={},this.items[b]=a,this.kk=1,this.Ph=!1)}};d.prototype.remove=function(a){if(!this.gh())if(A)this.If.has(a)&&(this.If["delete"](a),
this.Ph=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.kk--,this.Ph=!1)}};d.prototype.clear=function(){this.gh()||(A?this.If.clear():(this.items=null,this.kk=0),this.Qk.length=0,this.Ph=!0)};d.prototype.gh=function(){return 0===this.count()};d.prototype.count=function(){return A?this.If.size:this.kk};var D=null,E=0;d.prototype.eE=function(){if(!this.Ph){if(A)this.Qk.length=this.If.size,D=this.Qk,E=0,this.If.forEach(e),D=null,E=0;else{var a=this.Qk;a.length=
this.kk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.Ph=!0}};d.prototype.Eg=function(){this.eE();return this.Qk};ca=d;new ca;Sa=function(a,b){A?Ta(a,b.If):Wa(a,b.Eg())};Ta=function(a,b){var c,d,h,k;d=c=0;for(h=a.length;c<h;++c)k=a[c],b.has(k)||(a[d++]=k);a.length=d};Wa=function(a,b){var c,d,h,k;d=c=0;for(h=a.length;c<h;++c)k=a[c],-1===Aa(b,k)&&(a[d++]=k);a.length=d};h.prototype.add=function(a){this.y=a-this.r;this.Hp=this.Lb+this.y;this.r=this.Hp-this.Lb-this.y;this.Lb=
this.Hp};h.prototype.reset=function(){this.Lb=this.Hp=this.y=this.r=0};Xa=h;Ya=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.Lm=function(a){this.ix=a;this.Ge=a.length/2;this.gc.length=a.length;this.En=this.Fn=-1;this.cv=0};f.prototype.dj=function(){return!this.ix.length};f.prototype.Ma=function(){for(var a=this.gc,b=a[0],c=b,d=a[1],h=d,k,f,g=1,z=this.Ge;g<z;++g)f=2*g,k=a[f],f=a[f+1],k<b&&(b=k),k>c&&(c=k),f<d&&(d=f),f>h&&(h=f);this.wn=b;this.xn=c;this.yn=d;this.vn=h};
f.prototype.Km=function(a,b,c){this.gc.length=8;this.Ge=4;var d=this.gc;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.Fn=a.right-a.left;this.En=a.bottom-a.top;this.Ma()};f.prototype.Kk=function(a,b,c,d,h){this.gc.length=8;this.Ge=4;var k=this.gc;k[0]=a.Wb-b;k[1]=a.Xb-c;k[2]=a.od-b;k[3]=a.pd-c;k[4]=a.cd-b;k[5]=a.dd-c;k[6]=a.$c-b;k[7]=a.bd-c;this.Fn=d;this.En=h;this.Ma()};f.prototype.zx=function(a){this.Ge=a.Ge;xa(this.gc,a.gc);
this.wn=a.wn;this.yn-a.yn;this.xn=a.xn;this.vn=a.vn};f.prototype.Si=function(a,b,c){if(this.Fn!==a||this.En!==b||this.cv!==c){this.Fn=a;this.En=b;this.cv=c;var d,h,k,f,g,z=0,l=1,A=this.ix,e=this.gc;0!==c&&(z=Math.sin(c),l=Math.cos(c));c=0;for(k=this.Ge;c<k;c++)d=2*c,h=d+1,f=A[d]*a,g=A[h]*b,e[d]=f*l-g*z,e[h]=g*l+f*z;this.Ma()}};f.prototype.ed=function(a,b){var c=this.gc;if(a===c[0]&&b===c[1])return!0;var d,h,k,f=this.Ge,g=this.wn-110,z=this.yn-101,l=this.xn+131,A=this.vn+120,e,n,m=0,p=0;for(d=0;d<
f;d++)h=2*d,k=(d+1)%f*2,e=c[h],h=c[h+1],n=c[k],k=c[k+1],ra(g,z,a,b,e,h,n,k)&&m++,ra(l,A,a,b,e,h,n,k)&&p++;return 1===m%2||1===p%2};f.prototype.Sl=function(a,b,c){var d=a.gc,h=this.gc;if(this.ed(d[0]+b,d[1]+c)||a.ed(h[0]-b,h[1]-c))return!0;var k,f,g,z,l,A,e,n,m,p,q,D;k=0;for(z=this.Ge;k<z;k++)for(f=2*k,g=(k+1)%z*2,n=h[f],f=h[f+1],m=h[g],p=h[g+1],g=0,e=a.Ge;g<e;g++)if(l=2*g,A=(g+1)%e*2,q=d[l]+b,l=d[l+1]+c,D=d[A]+b,A=d[A+1]+c,ra(n,f,m,p,q,l,D,A))return!0;return!1};Za=f;g.prototype.Vh=function(a,b,c){var d;
d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};g.prototype.oe=function(a){return pa(a/this.Oq)};g.prototype.pe=function(a){return pa(a/this.Nq)};g.prototype.update=function(a,b,c){var d,h,k,f,g;if(b)for(d=b.left,h=b.right;d<=h;++d)for(k=b.top,f=b.bottom;k<=f;++k)if(!c||!c.ed(d,k))if(g=this.Vh(d,k,!1))g.remove(a),g.gh()&&(g.Mc.clear(),1E3>C.length&&C.push(g),this.cells[d][k]=null);if(c)for(d=c.left,h=c.right;d<=
h;++d)for(k=c.top,f=c.bottom;k<=f;++k)b&&b.ed(d,k)||this.Vh(d,k,!0).Kr(a)};g.prototype.lp=function(a,b){var c,d,h,k,f,g;c=this.oe(a.left);h=this.pe(a.top);d=this.oe(a.right);for(f=this.pe(a.bottom);c<=d;++c)for(k=h;k<=f;++k)(g=this.Vh(c,k,!1))&&g.dump(b)};$a=g;n.prototype.Vh=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=k(this,a,b),this.cells[a][b]=d):null:c?(d=k(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};n.prototype.oe=function(a){return pa(a/this.Oq)};n.prototype.pe=function(a){return pa(a/
this.Nq)};n.prototype.update=function(a,b,c){var d,h,k,f,g;if(b)for(d=b.left,h=b.right;d<=h;++d)for(k=b.top,f=b.bottom;k<=f;++k)if(!c||!c.ed(d,k))if(g=this.Vh(d,k,!1))g.remove(a),g.gh()&&(g.reset(),1E3>G.length&&G.push(g),this.cells[d][k]=null);if(c)for(d=c.left,h=c.right;d<=h;++d)for(k=c.top,f=c.bottom;k<=f;++k)b&&b.ed(d,k)||this.Vh(d,k,!0).Kr(a)};n.prototype.lp=function(a,b,c,d,h){var k,f;a=this.oe(a);b=this.pe(b);c=this.oe(c);for(k=this.pe(d);a<=c;++a)for(d=b;d<=k;++d)(f=this.Vh(a,d,!1))&&f.dump(h)};
n.prototype.bD=function(a){var b,c,d,h,k;b=a.left;d=a.top;c=a.right;for(h=a.bottom;b<=c;++b)for(a=d;a<=h;++a)if(k=this.Vh(b,a,!1))k.jk=!1};ab=n;var C=[];l.prototype.gh=function(){return this.Mc.gh()};l.prototype.Kr=function(a){this.Mc.add(a)};l.prototype.remove=function(a){this.Mc.remove(a)};l.prototype.dump=function(a){ya(a,this.Mc.Eg())};aa=l;var G=[];q.prototype.gh=function(){if(!this.Mc.length)return!0;if(this.Mc.length>this.qg.count())return!1;this.nr();return!0};q.prototype.Kr=function(a){this.qg.contains(a)?
(this.qg.remove(a),this.qg.gh()&&(this.ql=!1)):this.Mc.length?(this.Mc[this.Mc.length-1].dg()>a.dg()&&(this.jk=!1),this.Mc.push(a)):(this.Mc.push(a),this.jk=!0)};q.prototype.remove=function(a){this.qg.add(a);this.ql=!0;30<=this.qg.count()&&this.nr()};q.prototype.nr=function(){this.ql&&(this.qg.count()===this.Mc.length?this.reset():(Sa(this.Mc,this.qg),this.qg.clear(),this.ql=!1))};q.prototype.gB=function(){this.jk||(this.Mc.sort(p),this.jk=!0)};q.prototype.reset=function(){this.Mc.length=0;this.jk=
!0;this.qg.clear();this.ql=!1};q.prototype.dump=function(a){this.nr();this.gB();this.Mc.length&&a.push(this.Mc)};da=q;var F="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");bb=function(a){return 0>=a||11<=a?"source-over":F[a-1]};cb=function(a,b,c){if(c)switch(a.md=c.ONE,a.fd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.md=c.ONE;a.fd=c.ONE;break;case 3:a.md=c.ONE;a.fd=c.ZERO;break;case 4:a.md=c.ONE_MINUS_DST_ALPHA;a.fd=c.ONE;break;
case 5:a.md=c.DST_ALPHA;a.fd=c.ZERO;break;case 6:a.md=c.ZERO;a.fd=c.SRC_ALPHA;break;case 7:a.md=c.ONE_MINUS_DST_ALPHA;a.fd=c.ZERO;break;case 8:a.md=c.ZERO;a.fd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.md=c.DST_ALPHA;a.fd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.md=c.ONE_MINUS_DST_ALPHA,a.fd=c.SRC_ALPHA}};db=function(a){return Math.round(1E6*a)/1E6};eb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};fb=function(a){a=a.target;
return!a||a===document||a===window||document&&document.body&&a===document.body||eb(a.tagName,"canvas")?!0:!1}})();var Zb="undefined"!==typeof Float32Array?Float32Array:Array;function $b(a){var c=new Zb(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}function ac(a){var c=new Zb(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}
function bc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}function cc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function dc(a,c,b,d){d||(d=ac());var e,h,f,g,n,m,l,k,q=a[0],p=a[1];a=a[2];h=b[0];f=b[1];e=b[2];b=c[1];m=c[2];q===c[0]&&p===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],m=p-c[1],l=a-c[2],k=1/Math.sqrt(b*b+m*m+l*l),b*=k,m*=k,l*=k,c=f*l-e*m,e=e*b-h*l,h=h*m-f*b,(k=Math.sqrt(c*c+e*e+h*h))?(k=1/k,c*=k,e*=k,h*=k):h=e=c=0,f=m*h-l*e,g=l*c-b*h,n=b*e-m*c,(k=Math.sqrt(f*f+g*g+n*n))?(k=1/k,f*=k,g*=k,n*=k):n=g=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=g,d[6]=m,d[7]=0,d[8]=h,d[9]=n,d[10]=l,d[11]=0,d[12]=-(c*q+e*p+h*a),d[13]=-(f*q+g*p+n*a),d[14]=-(b*q+m*p+l*a),d[15]=1)}
(function(){function a(a){this.Yh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.dv=$b([0,0,100]);this.hw=$b([0,0,0]);this.Wx=$b([0,1,0]);this.St=$b([1,1,1]);this.qv=!0;this.Ks=ac();this.bf=ac();this.$v=ac();this.$q=ac();this.U=a;this.Lv()}function c(a,b,c){this.U=a;this.Mm=b;this.name=c;this.Xe=a.getAttribLocation(b,"aPos");this.di=a.getAttribLocation(b,"aTex");this.fw=a.getUniformLocation(b,"matP");this.Oo=a.getUniformLocation(b,"matMV");this.pk=
a.getUniformLocation(b,"opacity");this.gw=a.getUniformLocation(b,"samplerFront");this.fm=a.getUniformLocation(b,"samplerBack");this.lj=a.getUniformLocation(b,"destStart");this.kj=a.getUniformLocation(b,"destEnd");this.rs=a.getUniformLocation(b,"seconds");this.qs=a.getUniformLocation(b,"pixelWidth");this.os=a.getUniformLocation(b,"pixelHeight");this.em=a.getUniformLocation(b,"layerScale");this.dm=a.getUniformLocation(b,"layerAngle");this.hm=a.getUniformLocation(b,"viewOrigin");this.gm=a.getUniformLocation(b,
"scrollPos");this.nC=!!(this.qs||this.os||this.rs||this.fm||this.lj||this.kj||this.em||this.dm||this.hm||this.gm);this.pw=this.qw=-999;this.Qo=1;this.lw=this.kw=0;this.nw=this.jw=this.iw=1;this.sw=this.rw=this.vw=this.uw=this.mw=0;this.Vr=[];this.ow=ac();this.pk&&a.uniform1f(this.pk,1);this.gw&&a.uniform1i(this.gw,0);this.fm&&a.uniform1i(this.fm,1);this.lj&&a.uniform2f(this.lj,0,0);this.kj&&a.uniform2f(this.kj,1,1);this.em&&a.uniform1f(this.em,1);this.dm&&a.uniform1f(this.dm,0);this.hm&&a.uniform2f(this.hm,
0,0);this.gm&&a.uniform2f(this.gm,0,0);this.$i=!1}function b(a,b){this.type=a;this.X=b;this.U=b.U;this.eg=this.hf=this.Ww=0;this.gb=this.Lf=null;this.Bx=[]}a.prototype.Lv=function(){var a=this.U,b;this.aw=1;this.ej=this.bi=null;this.On=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.bw=a.ONE;this.Zv=a.ONE_MINUS_SRC_ALPHA;this.$s=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.$s);this.Xm=
Array(4);this.Qm=Array(4);for(b=0;4>b;b++)this.Xm[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Xm[b]),this.Qm[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Qm[b]);this.Sg=0;this.pC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.pC);this.Rt=new Float32Array(16E3);this.Bt=new Float32Array(16E3);this.wD=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,
a.STATIC_DRAW);this.bt=this.Fg=0;this.Dc=[];b=this.Yq({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Dc.push(b);b=this.Yq({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Dc.push(b);for(var e in ec)ec.hasOwnProperty(e)&&this.Dc.push(this.Yq(ec[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Oh=[];this.Og=0;this.be=!1;this.ov=this.Yl=-1;this.Bl=null;this.GB=a.createFramebuffer();this.ox=null;this.Ai=$b([0,0,0]);this.Gw=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Gw&&
(this.Gw=2048);this.zg(0)};c.prototype.Kt=function(a){var b=this.ow;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])bc(a,this.ow),this.U.uniformMatrix4fv(this.Oo,!1,a)};a.prototype.Yq=function(a,b,d){var e=this.U,m=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(m,a.src);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(m),
null;var l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,b);e.compileShader(l);if(!e.getShaderParameter(l,e.COMPILE_STATUS))return e.deleteShader(m),e.deleteShader(l),null;b=e.createProgram();e.attachShader(b,m);e.attachShader(b,l);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(m),e.deleteShader(l),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(m);e.deleteShader(l);d=new c(e,b,d);d.Wn=a.Wn||0;d.Xn=a.Xn||0;d.Zq=!!a.Zq;d.Hq=!!a.Hq;d.xa=a.xa||[];a=0;for(m=
d.xa.length;a<m;a++)d.xa[a][1]=e.getUniformLocation(b,d.xa[a][0]),d.Vr.push(0),e.uniform1f(d.xa[a][1],0);return d};a.prototype.Ar=function(a){var b,c;b=0;for(c=this.Dc.length;b<c;b++)if(this.Dc[b].name===a)return b;return-1};a.prototype.hx=function(a,b,c){var d=this.bf,e=this.Ks,l=[0,0,0,0,0,0,0,0];l[0]=d[0]*a+d[4]*b+d[12];l[1]=d[1]*a+d[5]*b+d[13];l[2]=d[2]*a+d[6]*b+d[14];l[3]=d[3]*a+d[7]*b+d[15];l[4]=e[0]*l[0]+e[4]*l[1]+e[8]*l[2]+e[12]*l[3];l[5]=e[1]*l[0]+e[5]*l[1]+e[9]*l[2]+e[13]*l[3];l[6]=e[2]*
l[0]+e[6]*l[1]+e[10]*l[2]+e[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};a.prototype.Jk=function(a,b,c){if(this.width!==a||this.height!==b||c){this.Th();this.width=a;this.height=b;this.U.viewport(0,0,a,b);b=a/b;var d=this.Ks,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=ac());var l=b-a,k=e-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/k;d[6]=0;d[7]=0;d[8]=(b+a)/l;d[9]=(e+c)/k;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;dc(this.dv,this.hw,this.Wx,this.bf);a=[0,0];b=[0,0];this.hx(0,0,a);this.hx(1,1,b);this.St[0]=1/(b[0]-a[0]);this.St[1]=-1/(b[1]-a[1]);a=0;for(b=this.Dc.length;a<b;a++)c=this.Dc[a],c.$i=!1,c.fw&&(this.U.useProgram(c.Mm),this.U.uniformMatrix4fv(c.fw,!1,this.Ks));this.U.useProgram(this.Dc[this.Yl].Mm);this.U.bindTexture(this.U.TEXTURE_2D,null);this.U.activeTexture(this.U.TEXTURE1);this.U.bindTexture(this.U.TEXTURE_2D,null);this.U.activeTexture(this.U.TEXTURE0);this.ej=
this.bi=null}};a.prototype.wg=function(){dc(this.dv,this.hw,this.Wx,this.bf);cc(this.bf,this.St)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ai[0]=a;this.Ai[1]=b;this.Ai[2]=0;var c=this.bf,d=this.Ai,e=d[0],l=d[1],d=d[2];c[12]=c[0]*e+c[4]*l+c[8]*d+c[12];c[13]=c[1]*e+c[5]*l+c[9]*d+c[13];c[14]=c[2]*e+c[6]*l+c[10]*d+c[14];c[15]=c[3]*e+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ai[0]=a,this.Ai[1]=b,this.Ai[2]=1,cc(this.bf,this.Ai)};a.prototype.mt=function(a){if(0!==
a){var b=this.bf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],l=b[1],k=b[2],q=b[3],p=b[4],s=b[5],t=b[6],v=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+p*d;c[1]=l*a+s*d;c[2]=k*a+t*d;c[3]=q*a+v*d;c[4]=e*-d+p*a;c[5]=l*-d+s*a;c[6]=k*-d+t*a;c[7]=q*-d+v*a}};a.prototype.Dg=function(){for(var a=!1,b=0;16>b;b++)if(this.$v[b]!==this.bf[b]){a=!0;break}a&&(a=this.Hf(),a.type=5,a.gb?bc(this.bf,a.gb):a.gb=ac(this.bf),bc(this.bf,this.$v),this.be=
!1)};b.prototype.PA=function(){this.U.bindTexture(this.U.TEXTURE_2D,this.Lf)};b.prototype.QA=function(){var a=this.U;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Lf);a.activeTexture(a.TEXTURE0)};b.prototype.MA=function(){var a=this.Ww,b=this.X;b.On=a;b=b.Bl;b.pk&&b.Qo!==a&&(b.Qo=a,this.U.uniform1f(b.pk,a))};b.prototype.JA=function(){this.U.drawElements(this.U.TRIANGLES,this.eg,this.U.UNSIGNED_SHORT,2*this.hf)};b.prototype.LA=function(){this.U.blendFunc(this.hf,this.eg)};b.prototype.SA=
function(){var a,b,c,d=this.X.Dc,e=this.X.ov;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Oo?(c.Kt(this.gb),c.$i=!0):c.$i=!1;bc(this.gb,this.X.$q)};b.prototype.KA=function(){var a=this.U,b=this.X;this.Lf?(b.ej===this.Lf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.ej=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.GB),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Lf,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.EA=function(){var a=this.U;0===this.hf?(a.clearColor(this.gb[0],this.gb[1],this.gb[2],this.gb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.gb[0],this.gb[1],this.gb[2],this.gb[3]),a.clearColor(0,0,0,0),a.clear(this.U.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.IA=function(){var a=this.U,b=this.X,c=b.Dc[1];a.useProgram(c.Mm);!c.$i&&c.Oo&&(c.Kt(b.$q),c.$i=!0);a.enableVertexAttribArray(c.Xe);a.bindBuffer(a.ARRAY_BUFFER,
b.$s);a.vertexAttribPointer(c.Xe,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.hf/4,this.eg);c=b.Bl;a.useProgram(c.Mm);0<=c.Xe&&(a.enableVertexAttribArray(c.Xe),a.bindBuffer(a.ARRAY_BUFFER,b.Xm[b.Sg]),a.vertexAttribPointer(c.Xe,2,a.FLOAT,!1,0,0));0<=c.di&&(a.enableVertexAttribArray(c.di),a.bindBuffer(a.ARRAY_BUFFER,b.Qm[b.Sg]),a.vertexAttribPointer(c.di,2,a.FLOAT,!1,0,0))};b.prototype.NA=function(){var a=this.U,b=this.X,c=b.Dc[this.hf];b.ov=this.hf;b.Bl=c;a.useProgram(c.Mm);!c.$i&&c.Oo&&(c.Kt(b.$q),
c.$i=!0);c.pk&&c.Qo!==b.On&&(c.Qo=b.On,a.uniform1f(c.pk,b.On));0<=c.Xe&&(a.enableVertexAttribArray(c.Xe),a.bindBuffer(a.ARRAY_BUFFER,b.Xm[b.Sg]),a.vertexAttribPointer(c.Xe,2,a.FLOAT,!1,0,0));0<=c.di&&(a.enableVertexAttribArray(c.di),a.bindBuffer(a.ARRAY_BUFFER,b.Qm[b.Sg]),a.vertexAttribPointer(c.di,2,a.FLOAT,!1,0,0))};b.prototype.OA=function(){var a,b,c=this.X.Bl,d=this.U;a=this.gb;c.fm&&this.X.ej!==this.Lf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Lf),this.X.ej=this.Lf,d.activeTexture(d.TEXTURE0));
var e=a[0];c.qs&&e!==c.qw&&(c.qw=e,d.uniform1f(c.qs,e));e=a[1];c.os&&e!==c.pw&&(c.pw=e,d.uniform1f(c.os,e));e=a[2];b=a[3];!c.lj||e===c.kw&&b===c.lw||(c.kw=e,c.lw=b,d.uniform2f(c.lj,e,b));e=a[4];b=a[5];!c.kj||e===c.iw&&b===c.jw||(c.iw=e,c.jw=e,d.uniform2f(c.kj,e,b));e=a[6];c.em&&e!==c.nw&&(c.nw=e,d.uniform1f(c.em,e));e=a[7];c.dm&&e!==c.mw&&(c.mw=e,d.uniform1f(c.dm,e));e=a[8];b=a[9];!c.hm||e===c.uw&&b===c.vw||(c.uw=e,c.vw=b,d.uniform2f(c.hm,e,b));e=a[10];b=a[11];!c.gm||e===c.rw&&b===c.sw||(c.rw=e,c.sw=
b,d.uniform2f(c.gm,e,b));c.rs&&d.uniform1f(c.rs,Ra()/1E3);if(c.xa.length)for(a=0,b=c.xa.length;a<b;a++)e=this.Bx[a],e!==c.Vr[a]&&(c.Vr[a]=e,d.uniform1f(c.xa[a][1],e))};a.prototype.Hf=function(){this.Og===this.Oh.length&&this.Oh.push(new b(0,this));return this.Oh[this.Og++]};a.prototype.Th=function(){if(0!==this.Og&&!this.U.isContextLost()){var a=this.U;0<this.bt&&(a.bindBuffer(a.ARRAY_BUFFER,this.$s),a.bufferData(a.ARRAY_BUFFER,this.wD.subarray(0,this.bt),a.STREAM_DRAW),b&&0<=b.Xe&&"<point>"===b.name&&
a.vertexAttribPointer(b.Xe,4,a.FLOAT,!1,0,0));if(0<this.Fg){var b=this.Bl;a.bindBuffer(a.ARRAY_BUFFER,this.Xm[this.Sg]);a.bufferData(a.ARRAY_BUFFER,this.Rt.subarray(0,this.Fg),a.STREAM_DRAW);b&&0<=b.Xe&&"<point>"!==b.name&&a.vertexAttribPointer(b.Xe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Qm[this.Sg]);a.bufferData(a.ARRAY_BUFFER,this.Bt.subarray(0,this.Fg),a.STREAM_DRAW);b&&0<=b.di&&"<point>"!==b.name&&a.vertexAttribPointer(b.di,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Og;a<b;a++)switch(c=
this.Oh[a],c.type){case 1:c.JA();break;case 2:c.PA();break;case 3:c.MA();break;case 4:c.LA();break;case 5:c.SA();break;case 6:c.KA();break;case 7:c.EA();break;case 8:c.IA();break;case 9:c.NA();break;case 10:c.OA();break;case 11:c.QA()}this.bt=this.Fg=this.Og=0;this.be=!1;this.Sg++;4<=this.Sg&&(this.Sg=0)}};a.prototype.Cj=function(a){if(a!==this.aw){var b=this.Hf();b.type=3;this.aw=b.Ww=a;this.be=!1}};a.prototype.je=function(a){if(a!==this.bi){var b=this.Hf();b.type=2;this.bi=b.Lf=a;this.be=!1}};a.prototype.si=
function(a,b){if(a!==this.bw||b!==this.Zv){var c=this.Hf();c.type=4;c.hf=a;c.eg=b;this.bw=a;this.Zv=b;this.be=!1}};a.prototype.xx=function(){this.si(this.U.ONE,this.U.ONE_MINUS_SRC_ALPHA)};a.prototype.kp=function(a,b,c,d,e,l,k,q){15992<=this.Fg&&this.Th();var p=this.Fg,s=this.Rt,t=this.Bt;if(this.be)this.Oh[this.Og-1].eg+=6;else{var v=this.Hf();v.type=1;v.hf=p/4*3;v.eg=6;this.be=!0}s[p]=a;t[p++]=0;s[p]=b;t[p++]=0;s[p]=c;t[p++]=1;s[p]=d;t[p++]=0;s[p]=e;t[p++]=1;s[p]=l;t[p++]=1;s[p]=k;t[p++]=0;s[p]=
q;t[p++]=1;this.Fg=p};a.prototype.tg=function(a,b,c,d,e,l,k,q,p){15992<=this.Fg&&this.Th();var s=this.Fg,t=this.Rt,v=this.Bt;if(this.be)this.Oh[this.Og-1].eg+=6;else{var x=this.Hf();x.type=1;x.hf=s/4*3;x.eg=6;this.be=!0}var x=p.left,B=p.top,z=p.right;p=p.bottom;t[s]=a;v[s++]=x;t[s]=b;v[s++]=B;t[s]=c;v[s++]=z;t[s]=d;v[s++]=B;t[s]=e;v[s++]=z;t[s]=l;v[s++]=p;t[s]=k;v[s++]=x;t[s]=q;v[s++]=p;this.Fg=s};a.prototype.zg=function(a){if(this.Yl!==a){if(!this.Dc[a]){if(0===this.Yl)return;a=0}var b=this.Hf();
b.type=9;this.Yl=b.hf=a;this.be=!1}};a.prototype.Fm=function(a){a=this.Dc[a];return!(!a.lj&&!a.kj)};a.prototype.et=function(a){a=this.Dc[a];return!!(a.lj||a.kj||a.Zq)};a.prototype.CD=function(a){a=this.Dc[a];return 0!==a.Wn||0!==a.Xn};a.prototype.SB=function(a){return this.Dc[a].Wn};a.prototype.TB=function(a){return this.Dc[a].Xn};a.prototype.UB=function(a,b){return this.Dc[a].xa[b][2]};a.prototype.hp=function(a){return this.Dc[a].Hq};a.prototype.Ik=function(a,b,c,d,e,l,k,q,p,s,t,v,x,B){var z=this.Dc[this.Yl],
A,D;if(z.nC||B.length){A=this.Hf();A.type=10;A.gb?bc(this.bf,A.gb):A.gb=ac();D=A.gb;D[0]=b;D[1]=c;D[2]=d;D[3]=e;D[4]=l;D[5]=k;D[6]=q;D[7]=p;D[8]=s;D[9]=t;D[10]=v;D[11]=x;A.Lf=z.fm?a:null;if(B.length)for(c=A.Bx,c.length=B.length,a=0,b=B.length;a<b;a++)c[a]=B[a];this.be=!1}};a.prototype.clear=function(a,b,c,d){var e=this.Hf();e.type=7;e.hf=0;e.gb||(e.gb=ac());e.gb[0]=a;e.gb[1]=b;e.gb[2]=c;e.gb[3]=d;this.be=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.Hf();e.type=7;e.hf=1;e.gb||
(e.gb=ac());e.gb[0]=a;e.gb[1]=b;e.gb[2]=c;e.gb[3]=d;this.be=!1}};a.prototype.BD=function(){this.Th();this.U.flush()};var d=[],e={};a.prototype.uA=function(){d.length=0;e={}};a.prototype.Mo=function(a,b,c,n){b=!!b;c=!!c;var m=a.src+","+b+","+c+(b?",undefined":""),l=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(m))return l=e[m],l.Dn++,l;this.Th();var k=this.U,q=ia(a.width)&&ia(a.height),l=k.createTexture();k.bindTexture(k.TEXTURE_2D,l);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=
k.RGBA,s=k.RGBA,t=k.UNSIGNED_BYTE;if(n&&!this.Yh)switch(n){case 1:s=p=k.RGB;break;case 2:t=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=p=k.RGB,t=k.UNSIGNED_SHORT_5_6_5}if(!q&&b){n=document.createElement("canvas");n.width=ja(a.width);n.height=ja(a.height);var v=n.getContext("2d");v.webkitImageSmoothingEnabled=c;v.mozImageSmoothingEnabled=c;v.msImageSmoothingEnabled=c;v.imageSmoothingEnabled=c;v.drawImage(a,0,0,a.width,a.height,0,0,n.width,n.height);k.texImage2D(k.TEXTURE_2D,
0,p,s,t,n)}else k.texImage2D(k.TEXTURE_2D,0,p,s,t,a);b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),q&&this.qv?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.bi=null;l.wl=a.width;l.ul=a.height;l.Dn=1;l.bv=m;d.push(l);return e[m]=l};a.prototype.Rg=function(a,b,c,e){this.Th();var m=this.U;this.Yh&&(e=!1);var l=m.createTexture();m.bindTexture(m.TEXTURE_2D,l);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,a,b,0,m.RGBA,e?m.UNSIGNED_SHORT_4_4_4_4:m.UNSIGNED_BYTE,null);m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,c?m.LINEAR:m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,c?m.LINEAR:m.NEAREST);m.bindTexture(m.TEXTURE_2D,null);this.bi=null;l.wl=a;l.ul=b;d.push(l);return l};a.prototype.kE=function(a,b,c){this.Th();var d=this.U;this.Yh&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,
0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.bi=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Dn&&1<a.Dn?a.Dn--:(this.Th(),a===this.bi&&(this.U.bindTexture(this.U.TEXTURE_2D,null),this.bi=null),a===this.ej&&(this.U.activeTexture(this.U.TEXTURE1),this.U.bindTexture(this.U.TEXTURE_2D,null),this.U.activeTexture(this.U.TEXTURE0),this.ej=null),
Ba(d,a),"undefined"!==typeof a.bv&&delete e[a.bv],this.U.deleteTexture(a)))};a.prototype.yg=function(a){if(a!==this.ox){var b=this.Hf();b.type=6;this.ox=b.Lf=a;this.be=!1}};gb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.vf=(this.wo=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.fh=!!a.dc;this.Tl="undefined"!==typeof window.AppMobi||this.fh;this.Ve=!!window.c2cocoonjs;this.wf=!!window.c2ejecta;this.Ve&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.wf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Pb=this.fh||this.Ve||this.wf;this.Yh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Tv=/tizen/i.test(navigator.userAgent);this.Rv=/android/i.test(navigator.userAgent)&&!this.Tv&&!this.Yh;this.Sr=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Yh;this.Yv=/ipad/i.test(navigator.userAgent);this.Xv=this.Sr||this.Yv||this.wf;this.BC=this.Sr&&/os\s6/i.test(navigator.userAgent);this.vo=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Yh;this.Qv=/amazonwebappplatform/i.test(navigator.userAgent);this.wC=/firefox/i.test(navigator.userAgent);this.yC=/safari/i.test(navigator.userAgent)&&!this.vo&&!this.Yh;this.Zh="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Vv=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.AC=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.hk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Qr=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Uv=this.Vv||this.AC||this.Qr;this.uC=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Sv=this.Rv&&!this.vo&&!this.wo&&!this.wC&&!this.Qv&&!this.Pb;this.devicePixelRatio=
1;this.We=this.vf||this.wo||this.Tl||this.Ve||this.Rv||this.Xv||this.hk||this.Qr||this.uC||this.Tv||this.wf;this.We||(this.We=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Zh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Zh=!0);this.vC="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.gv=document.getElementById("c2canvasdiv");
this.hb=this.X=this.U=null;this.rr="";this.ao=!1;this.Qw=this.Rw=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.fh&&(window.c2runtime=this);this.Zh&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.Sv&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ia=this.width;this.Ha=this.height;this.Mn=this.width;this.Ln=this.height;this.$l=window.innerWidth;this.Zl=window.innerHeight;this.IB=!1;this.$a=!0;this.Vl=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.V=[];this.ic=[];this.hs={};this.yf=[];this.jr={};this.Yg=[];this.Sk=[];this.Sp=[];this.eA=[];this.fA=[];this.Gx=null;this.Vi={};this.Mr=this.Xh=!1;this.xf=0;this.Or=!1;this.sf=[];this.jh=this.zd=this.Jo=
this.qt="";this.Om=this.Dx=!1;this.Wq=this.jm=this.Xg=this.Aa=0;this.yi=1;this.ai=new Xa;this.Wp=new Xa;this.Do=0;this.Iw=!0;this.cp=this.eo=this.El=this.Td=this.gj=this.qr=0;this.xl=null;this.Sn=[];this.ir=[];this.Vn=-1;this.ss=[[]];this.Ht=this.Po=0;this.jp(null);this.Gl=this.Nw=this.zm=0;this.Gp=[];this.Lp=this.np=-1;this.Xl=!0;this.No=0;this.Ul=!1;this.UD=0;this.tl=null;this.lC=!1;this.Xr=0;this.yd=this.fk=this.gt=!1;this.Pw=new ca;this.Qs=new ca;this.Rs=new ca;this.op=[];this.Jf=new Za([]);this.At=
new Za([]);this.Tj=[];this.so={};this.Wj={};this.Sj={};this.Rk={};this.Zu={};this.ew=this.Ho=this.de=this.xe=this.dw=this.Go=this.yb=null;this.Pk=this.Rr=!1;this.sr=[null,null];this.Zi=0;this.ni={};this.Cp=this.ok=null;this.bp=[];this.ID()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,k){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,
data:b}).onsuccess=c}}function h(a,b,c){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(d){d=d.target.result;d.onerror=c;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}function f(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function g(a){var b,c=
{};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].Wf||(c[b]=a[b]);return c}b.prototype.ID=function(){var a=this,b;b=this.hk?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Vv||this.hk||this.Qr)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Pb&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(k){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.hk?b.onreadystatechange=function(){4===b.readyState&&a.Lo(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Lo(b.response);else if(a.wf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Lo(JSON.parse(c))}else a.Lo(JSON.parse(b.responseText))},b.onerror=function(a){fa("Error requesting "+c+":");fa(a)});b.send()};b.prototype.qC=function(){var b=this,d,k,e,l,f,g,h,p,n;this.devicePixelRatio=(this.cj=(!this.Pb||this.wf)&&
this.gE&&!this.Sv)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Wc();k=!(!this.IB&&(!this.Eq||this.Zh||this.Uv||this.hk||this.wo||this.vf||this.Qv));0<this.Kd&&this.setSize(a(),c(),!0);try{this.eB&&(this.Ve||this.wf||!this.Pb)&&(d={alpha:k,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.U=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(q){}if(this.U){this.Pb||(this.Tc=document.createElement("canvas"),
jQuery(this.Tc).appendTo(this.canvas.parentNode),this.Tc.oncontextmenu=function(){return!1},this.Tc.onselectstart=function(){return!1},this.Tc.width=this.Mn,this.Tc.height=this.Ln,jQuery(this.Tc).css({width:this.Mn+"px",height:this.Ln+"px"}),this.bx(),this.Zs=this.Tc.getContext("2d"));this.X=new gb(this.U,this.We);this.X.Jk(this.canvas.width,this.canvas.height);this.X.qv=0!==this.TA;this.hb=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.mD();ea("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.X.Lv();b.X.Jk(b.X.width,b.X.height,!0);b.xe=null;b.de=null;b.sr[0]=null;b.sr[1]=null;b.nD();b.$a=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(k=this.V.length;d<k;d++)for(f=this.V[d],e=0,l=f.ua.length;e<l;e++)h=f.ua[e],h.Uc=this.X.Ar(h.id),this.Pk=this.Pk||this.X.Fm(h.Uc);d=0;for(k=this.yf.length;d<k;d++){p=this.yf[d];e=0;for(l=p.ua.length;e<l;e++)h=p.ua[e],h.Uc=
this.X.Ar(h.id);e=0;for(l=p.Ca.length;e<l;e++)for(n=p.Ca[e],f=0,g=n.ua.length;f<g;f++)h=n.ua[f],h.Uc=this.X.Ar(h.id),this.Pk=this.Pk||this.X.Fm(h.Uc)}}else{if(0<this.Kd&&this.fh){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.hb=AppMobi.canvas.getContext("2d");try{this.hb.samplingMode=this.Xa?"smooth":"sharp",this.hb.globalScale=1,this.hb.HTML5CompatibilityMode=!0,this.hb.imageSmoothingEnabled=this.Xa}catch(m){}0!==this.width&&0!==this.height&&
(this.hb.width=this.width,this.hb.height=this.height)}this.hb||(d=this.Ve?{antialias:!!this.Xa,alpha:k}:{alpha:k},this.hb=this.canvas.getContext("2d",d),this.hb.webkitImageSmoothingEnabled=this.Xa,this.hb.mozImageSmoothingEnabled=this.Xa,this.hb.msImageSmoothingEnabled=this.Xa,this.hb.imageSmoothingEnabled=this.Xa);this.Zs=this.Tc=null}this.Kp=function(){b.He(!1)};window==window.top||this.Pb||this.Uv||this.hk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Ve&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.Jo="__c2_continuouspreview",this.Om=!0),this.vD&&!this.We&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.Pb||(d=function(a){if(fb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Kd&&this.cj&&1<this.devicePixelRatio&&this.setSize(this.Bc,this.Ac,!0);this.Sx();this.jC();this.go();this.W={}};b.prototype.setSize=function(a,b,c){var d=0,k=0,e=0,l=0,l=0,f=this.BC&&
this.yC&&!navigator.standalone&&!this.Pb&&!this.vf;f&&(b+=60);if(this.$l!==a||this.Zl!==b||c){this.$l=a;this.Zl=b;var g=this.Kd,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ul)&&!this.vf;if(h||0!==this.Kd||c)h&&0<this.Zi&&(g=this.Zi),c=this.devicePixelRatio,4<=g?(e=this.Bc/this.Ac,a/b>e?(e*=b,5===g?(l=e*c/this.Bc,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Bc*l/c,l=this.Ac*l/c,d=(a-e)/2,k=(b-l)/2,a=e,b=l):(d=(a-e)/2,a=e)):
(l=a/e,5===g?(l=l*c/this.Ac,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Bc*l/c,l=this.Ac*l/c,d=(a-e)/2,k=(b-l)/2,a=e):k=(b-l)/2,b=l),h&&!this.Zh&&(k=d=0)):this.Zh&&this.Ul&&0===this.xv&&(d=Math.floor((a-this.Bc)/2),k=Math.floor((b-this.Ac)/2),a=this.Bc,b=this.Ac),2>g&&(this.sl=c),this.cj&&this.Yv&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.Mn=Math.round(a),this.Ln=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.$a=!0,this.hy?(this.Ia=this.width,this.Ha=this.height,
this.Ue=!0):this.width<this.Bc&&this.height<this.Ac||1===g?(this.Ia=this.width,this.Ha=this.height,this.Ue=!0):(this.Ia=this.Bc,this.Ha=this.Ac,this.Ue=!1,2===g?(e=this.Bc/this.Ac,g=this.$l/this.Zl,g<e?this.Ia=this.Ha*g:g>e&&(this.Ha=this.Ia/g)):3===g&&(e=this.Bc/this.Ac,g=this.$l/this.Zl,g>e?this.Ia=this.Ha*g:g<e&&(this.Ha=this.Ia/g))),this.gv&&!this.Pb&&(jQuery(this.gv).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==
typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.wf?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.cj&&!this.Pb&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Tc&&(this.Tc.width=Math.round(a),
this.Tc.height=Math.round(b),jQuery(this.Tc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.X&&this.X.Jk(Math.round(a*c),Math.round(b*c)),this.fh&&this.hb&&(this.hb.width=Math.round(a),this.hb.height=Math.round(b)),this.hb&&(this.hb.webkitImageSmoothingEnabled=this.Xa,this.hb.mozImageSmoothingEnabled=this.Xa,this.hb.msImageSmoothingEnabled=this.Xa,this.hb.imageSmoothingEnabled=this.Xa),this.Sx(),this.Pb||!f&&!this.Sr||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Sx=
function(){if(this.iA&&0!==this.Ys){var a="portrait";2===this.Ys&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.mD=function(){this.X.uA();this.Rr=!0;var a,b,c;a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.dp&&c.dp()};b.prototype.nD=
function(){this.Rr=!1;var a,b,c;a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.Ws&&c.Ws()};b.prototype.bx=function(){if(!this.Pb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ul)&&!this.vf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Tc).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
b.prototype.setSuspended=function(a){var b;if(a&&!this.Vl)for(ea("[Construct 2] Suspending"),this.Vl=!0,-1!==this.np&&n&&n(this.np),-1!==this.Lp&&clearTimeout(this.Lp),a=0,b=this.Gp.length;a<b;a++)this.Gp[a](!0);else if(!a&&this.Vl){ea("[Construct 2] Resuming");this.Vl=!1;this.Do=Ra();this.gj=Ra();a=this.jm=this.eo=0;for(b=this.Gp.length;a<b;a++)this.Gp[a](!1);this.He(!1)}};b.prototype.Ih=function(a){return this.bp[a]};b.prototype.Lo=function(a){a&&a.project||fa("Project model unavailable");a=a.project;
this.name=a[0];this.wv=a[1];this.Kd=a[12];this.xv=a[12];this.Bc=a[10];this.Ac=a[11];this.Xw=this.Bc/2;this.Yw=this.Ac/2;this.Pb&&!this.wf&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.xv=this.Kd=3);this.Pt=a[18];this.cm=a[19];0===this.cm&&(this.ok=new Image,this.ok.src="loading-logo.png");this.zm=a[21];this.bp=fc();this.Ag=new y(this);var b,c,d,k,e,l,f,g,h;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],
d=this.Ih(f[0]),hb(f,d.prototype),h=new d(this),h.Bp=f[1],h.$h=f[2],h.Kw=f[9],h.Ua&&h.Ua(),this.plugins.push(h);this.bp=fc();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];e=this.Ih(f[1]);h=null;d=0;for(k=this.plugins.length;d<k;d++)if(this.plugins[d]instanceof e){h=this.plugins[d];break}var p=new h.Nb(h);p.name=f[0];p.pa=f[2];p.Lr=f[3].slice(0);p.jE=f[3].length;p.mA=f[4];p.JB=f[5];p.La=f[11];p.pa?(p.Ak=[],p.Zg=this.Gl++,p.Jb=null):(p.Ak=null,p.Zg=-1,p.Jb=[]);p.Zn=null;p.ak=null;p.sv=null;p.we=!1;p.ae=
null;f[6]?(p.Ct=f[6][0],p.Dt=f[6][1],p.Et=f[6][2]):(p.Ct=null,p.Dt=0,p.Et=0);p.Zd=f[7]?f[7]:null;p.index=b;p.u=[];p.Qn=[];p.wi=[new ib(p)];p.Vg=0;p.Re=null;p.zA=0;p.Mk=!0;p.Tp=jb;p.MB=kb;p.RB=lb;p.Pa=mb;p.Hm=nb;p.ip=ob;p.Aj=pb;p.io=qb;p.tr=rb;p.yr=sb;p.Me=tb;p.Bv=ub;p.Gn=new $a(this.Bc,this.Ac);p.tn=!0;p.un=!1;p.W={};p.toString=wb;p.ic=[];d=0;for(k=f[8].length;d<k;d++){g=f[8][d];var n=this.Ih(g[1]),q=null;e=0;for(l=this.ic.length;e<l;e++)if(this.ic[e]instanceof n){q=this.ic[e];break}q||(q=new n(this),
q.Ps=[],q.Os=new ca,q.Ua&&q.Ua(),this.ic.push(q),gc&&q instanceof gc&&(this.Gx=q));-1===q.Ps.indexOf(p)&&q.Ps.push(p);e=new q.Nb(q,p);e.name=g[0];e.La=g[2];e.Ua();p.ic.push(e)}p.global=f[9];p.Nr=f[10];p.ua=[];d=0;for(k=f[12].length;d<k;d++)p.ua.push({id:f[12][d][0],name:f[12][d][1],Uc:-1,Zc:!0,index:d});p.QF=f[13];this.Pt&&!p.pa&&!p.Nr&&h.$h||p.Ua();p.name&&(this.types[p.name]=p);this.V.push(p);h.Bp&&(d=new h.rb(p),d.uid=this.zm++,d.jx=this.Nw++,d.aj=0,d.Nl=xb,d.toString=yb,d.da=f[14],d.Ua(),p.u.push(d),
this.ni[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],l=this.V[e[0]],d=1,k=e.length;d<k;d++)f=this.V[e[d]],f.Jb.push(l),l.Ak.push(f);b=0;for(c=a[27].length;b<c;b++){e=a[27][b];l=[];d=0;for(k=e.length;d<k;d++)l.push(this.V[e[d]]);d=0;for(k=l.length;d<k;d++)l[d].we=!0,l[d].ae=l}if(0<this.Gl)for(b=0,c=this.V.length;b<c;b++)if(f=this.V[b],!f.pa&&f.Jb.length){f.Zn=Array(this.Gl);f.ak=Array(this.Gl);f.sv=Array(this.Gl);p=[];d=q=n=g=0;for(k=f.Jb.length;d<k;d++)for(h=f.Jb[d],f.Zn[h.Zg]=
g,g+=h.jE,f.ak[h.Zg]=n,n+=h.mA,f.sv[h.Zg]=q,q+=h.JB,e=0,l=h.ua.length;e<l;e++)p.push(va({},h.ua[e]));f.ua=p.concat(f.ua);d=0;for(k=f.ua.length;d<k;d++)f.ua[d].index=d}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new zb(this,f),this.hs[d.name]=d,this.yf.push(d);b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new Ab(this,f),this.jr[d.name]=d,this.Yg.push(d);b=0;for(c=this.Yg.length;b<c;b++)this.Yg[b].fc();b=0;for(c=this.Yg.length;b<c;b++)this.Yg[b].Zx();b=0;for(c=this.Sp.length;b<c;b++)this.Sp[b].fc();this.Sp.length=
0;this.hA=a[7];this.rg=a[9];this.sl=1;this.eB=a[13];this.Xa=a[14];this.Eq=a[15];this.gE=a[17];this.Ys=a[20];this.iA=0<this.Ys;this.vD=a[22];this.Ue=this.hy=a[23];this.TA=a[24];this.zD=a[25];this.Dp=Date.now();this.bp.length=0;this.qC()};var m=!1;b.prototype.gy=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){m=a.av=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.wf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){m=
a.av=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.Sk.push(a)};b.prototype.HB=function(a){var b,c;b=0;for(c=this.Sk.length;b<c;b++)if(this.Sk[b].vA===a)return this.Sk[b];return null};var l=0,k=!1;b.prototype.jC=function(){this.tl&&(l=this.tl.NF(this.hA))};b.prototype.Uu=function(){var a=l,b=0,c=0,d=!0,e,f,c=0;for(e=this.Sk.length;c<e;c++){f=this.Sk[c];var g=f.lv;if(!g||0>=g)g=5E4;a+=g;f.src&&(f.complete||f.loaded)&&!f.av?b+=g:d=
!1}d&&this.zD&&this.tl&&(k||(this.tl.OF(),k=!0),c=this.tl.GF(),b+=c,c<l&&(d=!1));this.Bj=0==a?0:b/a;return d};b.prototype.go=function(){if(this.hb||this.X){var a=this.hb||this.Zs;this.Tc&&this.bx();this.Bj=0;this.cw=-1;if(this.Uu())this.kC();else{var b=Date.now()-this.Dp;if(a){var c=this.width,d=this.height,k=this.devicePixelRatio;this.Tc&&(c=this.Mn,d=this.Ln,k=1);if(3!==this.cm&&(this.Ve||500<=b&&this.cw!=this.Bj)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.cm&&this.ok.complete,e=40*k,l=0,
f=80*k,g;c&&(f=this.ok.width*k,g=this.ok.height*k,e=f/2,l=g/2,a.drawImage(this.ok,pa(b-e),pa(d-l),f,g));1>=this.cm?(b=pa(b-e)+.5,d=pa(d+(l+(c?12*k:0)))+.5,a.fillStyle=m?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(f*this.Bj),6*k),a.strokeStyle="black",a.strokeRect(b,d,f,6*k),a.strokeStyle="white",a.strokeRect(b-1*k,d-1*k,f+2*k,8*k)):2===this.cm&&(a.font=this.wf?"12pt ArialMT":"12pt Arial",a.fillStyle=m?"#f00":"#999",a.PF="middle",k=Math.round(100*this.Bj)+"%",c=a.measureText?a.measureText(k):null,
a.fillText(k,b-(c?c.width:0)/2,d))}this.cw=this.Bj}setTimeout(function(a){return function(){a.go()}}(this),this.Ve?10:100)}}};b.prototype.kC=function(){this.Tc&&(this.canvas.parentNode.removeChild(this.Tc),this.Tc=this.Zs=null);this.Dp=Date.now();this.gj=Ra();var a,b,c;if(this.Pt)for(a=0,b=this.V.length;a<b;a++)c=this.V[a],c.pa||c.Nr||!c.Ub.$h||c.Ua();else this.Xl=!1;a=0;for(b=this.yf.length;a<b;a++)this.yf[a].wA();2<=this.Kd&&(a=this.Bc/this.Ac,b=this.width/this.height,this.sl=2!==this.Kd&&b>a||
2===this.Kd&&b<a?this.height/this.Ac:this.width/this.Bc);this.wv?this.hs[this.wv].yt():this.yf[0].yt();this.Pt||(this.No=1,this.trigger(y.prototype.R.nu,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.lD&&c.lD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.He(!1);this.fh&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.He=function(b){if(this.yb){var d=Ra();if(this.lC&&this.gt&&29>d-this.Xr)this.gt=!1,this.Xr=d,q?this.np=q(this.Kp,this.canvas):this.Lp=setTimeout(this.Kp,this.We?1:16);else{this.gt=!0;this.Xr=d;var k=this.Kd,e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.vf;(e||this.Ul)&&0<this.Zi&&(k=this.Zi);
0<k&&(!this.Xv||window.self!==window.top)&&(k=window.innerHeight,this.$l===window.innerWidth&&this.Zl===k||this.setSize(a(),c()));this.Pb||(e?(this.ao||(this.rr=jQuery(this.canvas).css("margin")||"0",this.ao=!0),this.vo||this.Zh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.ao?(this.vo||this.Zh||jQuery(this.canvas).css("margin",this.rr),this.rr=
"",this.ao=!1,0===this.Kd&&this.setSize(Math.round(this.Rw/this.devicePixelRatio),Math.round(this.Qw/this.devicePixelRatio),!0)):(this.Rw=this.width,this.Qw=this.height));this.Xl&&(e=this.Uu(),this.No=this.Bj,e&&(this.Xl=!1,this.Bj=1,this.trigger(y.prototype.R.nu,null)));this.GC();!this.$a&&!this.Ve||this.Rr||this.Om||b||(this.$a=!1,this.X?this.Se():this.Zf(),this.Cp&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Cp[0],this.Cp[1]),this.trigger(y.prototype.R.cz,null)),this.Cp=null));
this.HF||(this.Td++,this.El++,this.eo++);this.jm+=Ra()-d;this.Vl||b||(q?this.np=q(this.Kp,this.canvas):this.Lp=setTimeout(this.Kp,this.We?1:16))}}};b.prototype.GC=function(){var a,b,c,d,k,e,l,f,g;a=Ra();1E3<=a-this.gj&&(this.gj+=1E3,1E3<=a-this.gj&&(this.gj=a),this.qr=this.eo,this.eo=0,this.Wq=this.jm,this.jm=0);this.Iw&&(0!==this.Do&&(b=a-this.Do,0!==b||this.vC?(this.Xg=b/1E3,.5<this.Xg?this.Xg=0:.1<this.Xg&&(this.Xg=.1)):(10<=this.SF&&(this.Iw=!1),this.Xg=1/60)),this.Do=a);this.Aa=this.Xg*this.yi;
this.ai.add(this.Aa);this.Wp.add(this.Xg);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ul)&&!this.vf;2<=this.Kd||a&&0<this.Zi?(b=this.Bc/this.Ac,c=this.width/this.height,d=this.Kd,a&&0<this.Zi&&(d=this.Zi),this.sl=2!==d&&c>b||2===d&&c<b?this.height/this.Ac:this.width/this.Bc,this.yb&&(this.yb.ux(this.yb.scrollX),this.yb.wx(this.yb.scrollY))):this.sl=this.cj?this.devicePixelRatio:1;this.Wc();this.xf++;this.Ag.LD();this.xf--;this.Wc();
this.xf++;c=this.Pw.Eg();a=0;for(b=c.length;a<b;a++)c[a].IF();a=0;for(b=this.V.length;a<b;a++)if(l=this.V[a],!l.pa&&(l.ic.length||l.Jb.length))for(c=0,d=l.u.length;c<d;c++)for(f=l.u[c],k=0,e=f.Ba.length;k<e;k++)f.Ba[k].He();a=0;for(b=this.V.length;a<b;a++)if(l=this.V[a],!l.pa&&(l.ic.length||l.Jb.length))for(c=0,d=l.u.length;c<d;c++)for(f=l.u[c],k=0,e=f.Ba.length;k<e;k++)g=f.Ba[k],g.yD&&g.yD();c=this.Qs.Eg();a=0;for(b=c.length;a<b;a++)c[a].He();this.xf--;this.mC();for(a=0;this.xl&&10>a++;)this.pv(this.xl);
a=0;for(b=this.Yg.length;a<b;a++)this.Yg[a].Er=!1;this.yb.Cl&&this.yb.Cl.nc();this.op.length=0;this.xf++;a=0;for(b=this.V.length;a<b;a++)if(l=this.V[a],!l.pa&&(l.ic.length||l.Jb.length))for(c=0,d=l.u.length;c<d;c++)for(f=l.u[c],k=0,e=f.Ba.length;k<e;k++)g=f.Ba[k],g.Jp&&g.Jp();c=this.Rs.Eg();a=0;for(b=c.length;a<b;a++)c[a].Jp();this.xf--};b.prototype.pv=function(a){var b=this.yb;this.yb.WD();var c,d,k,e,l,f,g;if(this.X)for(c=0,d=this.V.length;c<d;c++)l=this.V[c],l.pa||!l.Jt||l.global&&0!==l.u.length||
-1!==a.Rl.indexOf(l)||l.Jt();b==a&&(this.Ag.Ud.length=0);a.yt();c=0;for(d=this.V.length;c<d;c++)if(l=this.V[c],l.global||l.Ub.Bp)for(a=0,b=l.u.length;a<b;a++)if(f=l.u[a],f.Ss&&f.Ss(),f.Ba)for(k=0,e=f.Ba.length;k<e;k++)g=f.Ba[k],g.Ss&&g.Ss();this.$a=!0;this.Wc()};b.prototype.Nx=function(a){this.Qs.add(a)};b.prototype.ZD=function(a){this.Rs.add(a)};b.prototype.dk=function(a){return a&&-1!==a.ym?this.Xg*a.ym:this.Aa};b.prototype.Zf=function(){this.yb.Zf(this.hb);this.fh&&this.hb.present()};b.prototype.Se=
function(){this.yb.Se(this.X);this.X.BD()};b.prototype.Pu=function(a){a&&this.Sn.push(a)};b.prototype.HD=function(a){Ba(this.Sn,a)};b.prototype.Ll=function(a){a=a.toString();return this.ni.hasOwnProperty(a)?this.ni[a]:null};var p=[];b.prototype.Ci=function(a){var b,c;b=a.type.name;var d=null;if(this.Vi.hasOwnProperty(b)){if(d=this.Vi[b],d.contains(a))return}else d=p.length?p.pop():new ca,this.Vi[b]=d;d.add(a);this.Xh=!0;if(a.we)for(b=0,c=a.siblings.length;b<c;b++)this.Ci(a.siblings[b]);this.Mr&&d.Qk.push(a);
this.xf++;this.trigger(Object.getPrototypeOf(a.type.Ub).R.ez,a);this.xf--};b.prototype.Wc=function(){if(this.Xh){var a,b,c,d,k,e;this.Mr=!0;c=0;for(k=this.sf.length;c<k;++c)for(a=this.sf[c],b=a.type,b.u.push(a),d=0,e=b.Jb.length;d<e;++d)b.Jb[d].u.push(a),b.Jb[d].Mk=!0;this.sf.length=0;this.Uy();Qa(this.Vi);this.Xh=this.Mr=!1}};b.prototype.Uy=function(){for(var a in this.Vi)this.Vi.hasOwnProperty(a)&&this.uy(this.Vi[a])};b.prototype.uy=function(a){var b=a.Eg(),c=b[0].type,d,k,e,l,f,g;Sa(c.u,a);c.Mk=
!0;0===c.u.length&&(c.un=!1);d=0;for(k=c.Jb.length;d<k;++d)g=c.Jb[d],Sa(g.u,a),g.Mk=!0;d=0;for(k=this.Ag.Ud.length;d<k;++d)if(f=this.Ag.Ud[d],f.Fd.hasOwnProperty(c.index)&&Sa(f.Fd[c.index].dh,a),!c.pa)for(e=0,l=c.Jb.length;e<l;++e)g=c.Jb[e],f.Fd.hasOwnProperty(g.index)&&Sa(f.Fd[g.index].dh,a);if(f=b[0].N){if(f.Mf)for(e=f.u,d=0,k=e.length;d<k;++d)l=e[d],a.contains(l)&&(l.Ma(),f.ie.update(l,l.Rd,null),l.Rd.set(0,0,-1,-1));Sa(f.u,a);f.Jm(0)}for(d=0;d<b.length;++d)this.ty(b[d],c);a.clear();p.push(a);
this.$a=!0};b.prototype.ty=function(a,b){var c,d,k;c=0;for(d=this.Sn.length;c<d;++c)this.Sn[c](a);a.Qh&&b.Gn.update(a,a.Qh,null);(c=a.N)&&c.Hk(a,!0);if(a.Ba)for(c=0,d=a.Ba.length;c<d;++c)k=a.Ba[c],k.Fk&&k.Fk(),k.behavior.Os.remove(a);this.Pw.remove(a);this.Qs.remove(a);this.Rs.remove(a);a.Fk&&a.Fk();this.ni.hasOwnProperty(a.uid.toString())&&delete this.ni[a.uid.toString()];this.cp--;100>b.Qn.length&&b.Qn.push(a)};b.prototype.mv=function(a,b,c,d){if(a.pa){var k=pa(Math.random()*a.Ak.length);return this.mv(a.Ak[k],
b,c,d)}return a.Re?this.Rh(a.Re,b,!1,c,d,!1):null};var s=[];b.prototype.Rh=function(a,b,c,d,k,e){var l,f,g,h;if(!a)return null;var p=this.V[a[1]],q=p.Ub.$h;if(this.Xl&&q&&!p.Nr||q&&!this.X&&11===a[0][11])return null;var n=b;q||(b=null);var m;p.Qn.length?(m=p.Qn.pop(),m.he=!0,p.Ub.rb.call(m,p)):(m=new p.Ub.rb(p),m.he=!1);m.uid=c&&!e?a[2]:this.zm++;this.ni[m.uid.toString()]=m;m.jx=this.Nw++;m.aj=p.u.length;l=0;for(f=this.sf.length;l<f;++l)this.sf[l].type===p&&m.aj++;m.Nl=xb;m.toString=yb;g=a[3];if(m.he)Qa(m.W);
else{m.W={};if("undefined"!==typeof cr_is_preview)for(m.Ov=[],m.Ov.length=g.length,l=0,f=g.length;l<f;l++)m.Ov[l]=g[l][1];m.yc=[];m.yc.length=g.length}l=0;for(f=g.length;l<f;l++)m.yc[l]=g[l][0];if(q){var v=a[0];m.x=ga(d)?v[0]:d;m.y=ga(k)?v[1]:k;m.z=v[2];m.width=v[3];m.height=v[4];m.depth=v[5];m.G=v[6];m.opacity=v[7];m.Ld=v[8];m.Md=v[9];m.Hd=v[10];l=v[11];!this.X&&p.ua.length&&(m.Hd=l);m.yl=bb(m.Hd);this.U&&cb(m,m.Hd,this.U);if(m.he){l=0;for(f=v[12].length;l<f;l++)for(g=0,h=v[12][l].length;g<h;g++)m.Ob[l][g]=
v[12][l][g];m.Ib.set(0,0,0,0);m.Qh.set(0,0,-1,-1);m.Rd.set(0,0,-1,-1);m.jb.Km(m.Ib);m.Kq.length=0}else{m.Ob=v[12].slice(0);l=0;for(f=m.Ob.length;l<f;l++)m.Ob[l]=v[12][l].slice(0);m.Va=[];m.Lh=[];m.Lh.length=p.ua.length;m.Ib=new sa(0,0,0,0);m.Qh=new sa(0,0,-1,-1);m.Rd=new sa(0,0,-1,-1);m.jb=new ta;m.Kq=[];m.na=Bb;m.wF=Cb;m.ed=Db;m.Ma=Eb;m.fE=Fb;m.$x=Gb;m.dg=Hb}m.zh=!1;m.bE=0;m.aE=0;m.$D=null;14===v.length&&(m.zh=!0,m.bE=v[13][0],m.aE=v[13][1],m.$D=v[13][2]);l=0;for(f=p.ua.length;l<f;l++)m.Lh[l]=!0;
m.Ch=Ib;m.Ch();m.by=!!m.Va.length;m.Jq=!0;m.Mq=!0;p.tn=!0;m.visible=!0;m.ym=-1;m.N=b;m.Of=b.u.length;"undefined"===typeof m.Ga&&(m.Ga=null);this.$a=m.Qg=!0}var x;l=s.length=0;for(f=p.Jb.length;l<f;l++)s.push.apply(s,p.Jb[l].ic);s.push.apply(s,p.ic);if(m.he)for(l=0,f=s.length;l<f;l++){var t=s[l];x=m.Ba[l];x.he=!0;t.behavior.rb.call(x,t,m);v=a[4][l];g=0;for(h=v.length;g<h;g++)x.da[g]=v[g];x.Ua();t.behavior.Os.add(m)}else for(m.Ba=[],l=0,f=s.length;l<f;l++)t=s[l],x=new t.behavior.rb(t,m),x.he=!1,x.da=
a[4][l].slice(0),x.Ua(),m.Ba.push(x),t.behavior.Os.add(m);v=a[5];if(m.he)for(l=0,f=v.length;l<f;l++)m.da[l]=v[l];else m.da=v.slice(0);this.sf.push(m);this.Xh=!0;b&&(b.rl(m,!0),1!==b.Pd||1!==b.Qd)&&(p.un=!0);this.cp++;if(p.we){if(m.we=!0,m.he?m.siblings.length=0:m.siblings=[],!c&&!e){l=0;for(f=p.ae.length;l<f;l++)if(p.ae[l]!==p){if(!p.ae[l].Re)return null;m.siblings.push(this.Rh(p.ae[l].Re,n,!1,q?m.x:d,q?m.y:k,!0))}l=0;for(f=m.siblings.length;l<f;l++)for(m.siblings[l].siblings.push(m),g=0;g<f;g++)l!==
g&&m.siblings[l].siblings.push(m.siblings[g])}}else m.we=!1,m.siblings=null;m.Ua();l=0;for(f=m.Ba.length;l<f;l++)m.Ba[l].cx&&m.Ba[l].cx();return m};b.prototype.Kl=function(a){var b,c;b=0;for(c=this.yb.Ca.length;b<c;b++){var d=this.yb.Ca[b];if(eb(d.name,a))return d}return null};b.prototype.ah=function(a){a=pa(a);0>a&&(a=0);a>=this.yb.Ca.length&&(a=this.yb.Ca.length-1);return this.yb.Ca[a]};b.prototype.Rq=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Pa().ab=!0};b.prototype.Hm=function(a){var b,
c;b=0;for(c=a.length;b<c;b++)a[b].Hm()};b.prototype.ip=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ip()};b.prototype.Aj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Aj()};b.prototype.Xx=function(a){if(a.tn){var b,c,d=a.u;b=0;for(c=d.length;b<c;++b)d[b].$x();d=this.sf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].$x();a.tn=!1}};b.prototype.ur=function(a,b,c,d){var k,l,e=a?1!==a.Pd||1!==a.Qd:!1;if(b.pa)for(a=0,k=b.Ak.length;a<k;++a)l=b.Ak[a],e||l.un?ya(d,l.u):(this.Xx(l),l.Gn.lp(c,d));
else e||b.un?ya(d,b.u):(this.Xx(b),b.Gn.lp(c,d))};b.prototype.WB=function(a,b,c,d){var k,l;k=0;for(l=b.length;k<l;++k)this.ur(a,b[k],c,d)};b.prototype.VB=function(a,b,c){var d=this.Gx;d&&this.WB(a,d.Ps,b,c)};b.prototype.Pm=function(a,b,c){var d=a.Pa(),k,l,e,f,g,h;if(d.ab)for(d.ab=!1,k=d.u.length=0,f=a.u.length;k<f;k++)e=a.u[k],e.Ma(),g=e.N.tc(b,c,!0),h=e.N.tc(b,c,!1),e.ed(g,h)&&d.u.push(e);else{k=l=0;for(f=d.u.length;k<f;k++)e=d.u[k],e.Ma(),g=e.N.tc(b,c,!0),h=e.N.tc(b,c,!1),e.ed(g,h)&&(d.u[l]=d.u[k],
l++);d.u.length=l}a.Me();return d.Dr()};b.prototype.xi=function(a,b){if(!(a&&b&&a!==b&&a.Qg&&b.Qg))return!1;a.Ma();b.Ma();var c=a.N,d=b.N,k,l,e,f,g,h,p,m;if(c===d||c.Pd===d.Pd&&d.Qd===d.Qd&&c.scale===d.scale&&c.G===d.G&&c.qd===d.qd){if(!a.Ib.rC(b.Ib)||!a.jb.Pv(b.jb)||a.zh&&b.zh)return!1;if(a.zh)return this.Kx(a,b);if(b.zh)return this.Kx(b,a);p=a.Ga&&!a.Ga.dj();k=b.Ga&&!b.Ga.dj();if(!p&&!k)return!0;p?(a.Ga.Si(a.width,a.height,a.G),p=a.Ga):(this.Jf.Kk(a.jb,a.x,a.y,a.width,a.height),p=this.Jf);k?(b.Ga.Si(b.width,
b.height,b.G),m=b.Ga):(this.Jf.Kk(b.jb,b.x,b.y,b.width,b.height),m=this.Jf);return p.Sl(m,b.x-a.x,b.y-a.y)}p=a.Ga&&!a.Ga.dj();k=b.Ga&&!b.Ga.dj();p?(a.Ga.Si(a.width,a.height,a.G),this.Jf.zx(a.Ga)):this.Jf.Kk(a.jb,a.x,a.y,a.width,a.height);p=this.Jf;k?(b.Ga.Si(b.width,b.height,b.G),this.At.zx(b.Ga)):this.At.Kk(b.jb,b.x,b.y,b.width,b.height);m=this.At;k=0;for(l=p.Ge;k<l;k++)e=2*k,f=e+1,g=p.gc[e],h=p.gc[f],p.gc[e]=c.Kb(g+a.x,h+a.y,!0),p.gc[f]=c.Kb(g+a.x,h+a.y,!1);p.Ma();k=0;for(l=m.Ge;k<l;k++)e=2*k,f=
e+1,g=m.gc[e],h=m.gc[f],m.gc[e]=d.Kb(g+b.x,h+b.y,!0),m.gc[f]=d.Kb(g+b.x,h+b.y,!1);m.Ma();return p.Sl(m,0,0)};var t=new ta;new sa(0,0,0,0);var v=[];b.prototype.Kx=function(a,b){var c,d,k,l,e=b.Ib,f=a.x,g=a.y;a.CF(e,v);var h=b.Ga&&!b.Ga.dj();c=0;for(d=v.length;c<d;++c)if(k=v[c],l=k.GD,e.sC(l,f,g)&&(t.Km(l),t.offset(f,g),t.Pv(b.jb)))if(h)if(b.Ga.Si(b.width,b.height,b.G),k.sg){if(k.sg.Sl(b.Ga,b.x-(f+l.left),b.y-(g+l.top)))return v.length=0,!0}else{if(this.Jf.Kk(t,0,0,l.right-l.left,l.bottom-l.top),this.Jf.Sl(b.Ga,
b.x,b.y))return v.length=0,!0}else if(k.sg){if(this.Jf.Kk(b.jb,0,0,b.width,b.height),k.sg.Sl(this.Jf,-(f+l.left),-(g+l.top)))return v.length=0,!0}else return v.length=0,!0;v.length=0;return!1};b.prototype.Tx=function(a,b){if(!b)return!1;var c,d,k,l,e;c=0;for(d=a.ic.length;c<d;c++)if(a.ic[c].behavior instanceof b)return!0;if(!a.pa)for(c=0,d=a.Jb.length;c<d;c++)for(e=a.Jb[c],k=0,l=e.ic.length;k<l;k++)if(e.ic[k].behavior instanceof b)return!0;return!1};b.prototype.Ux=function(a){return this.Tx(a,Yb.SE)};
b.prototype.It=function(a){return this.Tx(a,Yb.TE)};var x=[];b.prototype.Kf=function(a){var b,c,d;a.Ma();this.VB(a.N,a.Ib,x);b=0;for(c=x.length;b<c;++b)if(d=x[b],d.W.solidEnabled&&this.xi(a,d))return x.length=0,d;x.length=0;return null};b.prototype.FD=function(a,b,c,d){d=d||50;var k=a.x,l=a.y,e,f=null,g=null;for(e=0;e<d;e++)if(a.x=k+b*e,a.y=l+c*e,a.na(),!this.xi(a,f)&&((f=this.Kf(a))&&(g=f),!f&&!f))return g&&this.DD(a,b,c,g),!0;a.x=k;a.y=l;a.na();return!1};b.prototype.DD=function(a,b,c,d){var k=2,
l,e=!1;l=!1;for(var f=a.x,g=a.y;16>=k;)l=1/k,k*=2,a.x+=b*l*(e?1:-1),a.y+=c*l*(e?1:-1),a.na(),this.xi(a,d)?l=e=!0:(l=e=!1,f=a.x,g=a.y);l&&(a.x=f,a.y=g,a.na())};b.prototype.kx=function(a,b){var c=ga(b)?100:b,d=0,k=a.x,l=a.y,e=0,f=0,g=0,h=this.Kf(a);if(!h)return!0;for(;d<=c;){switch(e){case 0:f=0;g=-1;d++;break;case 1:f=1;g=-1;break;case 2:f=1;g=0;break;case 3:g=f=1;break;case 4:f=0;g=1;break;case 5:f=-1;g=1;break;case 6:f=-1;g=0;break;case 7:g=f=-1}e=(e+1)%8;a.x=pa(k+f*d);a.y=pa(l+g*d);a.na();if(!this.xi(a,
h)&&(h=this.Kf(a),!h))return!0}a.x=k;a.y=l;a.na();return!1};b.prototype.Gk=function(a,b){a.Qg&&b.Qg&&this.op.push([a,b])};b.prototype.sA=function(a,b){var c,d,k;c=0;for(d=this.op.length;c<d;c++)if(k=this.op[c],k[0]==a&&k[1]==b||k[0]==b&&k[1]==a)return!0;return!1};b.prototype.qA=function(a,b,c){var d=a.x,k=a.y,l=la(10,La(b,c,d,k)),e=Ha(b,c,d,k),f=this.Kf(a);if(!f)return Ea(e+na);var g=f,h,p,m,q,n=w(5);for(h=1;36>h;h++)if(p=e-h*n,a.x=b+Math.cos(p)*l,a.y=c+Math.sin(p)*l,a.na(),!this.xi(a,g)&&(g=this.Kf(a),
!g)){m=p;break}36===h&&(m=Ea(e+na));g=f;for(h=1;36>h;h++)if(p=e+h*n,a.x=b+Math.cos(p)*l,a.y=c+Math.sin(p)*l,a.na(),!this.xi(a,g)&&(g=this.Kf(a),!g)){q=p;break}36===h&&(q=Ea(e+na));a.x=d;a.y=k;a.na();if(q===m)return q;a=Ia(q,m)/2;a=Ka(q,m)?Ea(m+a+na):Ea(q+a);m=Math.cos(e);e=Math.sin(e);q=Math.cos(a);a=Math.sin(a);b=m*q+e*a;return Ha(0,0,m-2*b*q,e-2*b*a)};var B=-1;b.prototype.trigger=function(a,b,c){if(!this.yb)return!1;var d=this.yb.Cl;if(!d)return!1;var k=!1,l,e,f;B++;var g=d.cr;e=0;for(f=g.length;e<
f;++e)l=this.Qx(a,b,g[e],c),k=k||l;l=this.Qx(a,b,d,c);B--;return k||l};b.prototype.Qx=function(a,b,c,d){var k=!1,l,e,f,g;if(b)for(f=this.Gt(a,b,b.type.name,c,d),k=k||f,g=b.type.Jb,l=0,e=g.length;l<e;++l)f=this.Gt(a,b,g[l].name,c,d),k=k||f;else f=this.Gt(a,b,"system",c,d),k=k||f;return k};b.prototype.Gt=function(a,b,c,d,k){var l,e=!1,f=!1,f="undefined"!==typeof k,g=(f?d.uv:d.Rx)[c];if(!g)return e;var h=null;d=0;for(l=g.length;d<l;++d)if(g[d].method==a){h=g[d].Dl;break}if(!h)return e;a=f?h[k]:h;if(!a)return null;
d=0;for(l=a.length;d<l;d++)k=a[d][0],f=a[d][1],f=this.EB(b,c,k,f),e=e||f;return e};b.prototype.EB=function(a,b,c,d){var k,l,e=!1;this.Ht++;var f=this.Sc().Jd;f&&this.Hm(f.ti);var g=1<this.Ht;this.Hm(c.ti);g&&this.ED();var h=this.jp(c);h.Jd=c;a&&(k=this.types[b].Pa(),k.ab=!1,k.u.length=1,k.u[0]=a,this.types[b].Me());a=!0;if(c.parent){b=h.Jx;for(k=c.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(l=b.length;k<l;k++)if(!b[k].ND()){a=!1;break}}a&&(this.El++,c.df?c.MD(d):c.nc(),e=e||h.fj);this.gp();
g&&this.xD();this.Aj(c.ti);f&&this.Aj(f.ti);this.Xh&&0===this.xf&&0===B&&!this.Or&&this.Wc();this.Ht--;return e};b.prototype.jo=function(){var a=this.Sc();return a.Jd.Ic[a.uc]};b.prototype.ED=function(){this.Po++;this.Po>=this.ss.length&&this.ss.push([])};b.prototype.xD=function(){this.Po--};b.prototype.zv=function(){return this.ss[this.Po]};b.prototype.jp=function(a){this.Vn++;this.Vn>=this.ir.length&&this.ir.push(new Jb);var b=this.Sc();b.reset(a);return b};b.prototype.gp=function(){this.Vn--};
b.prototype.Sc=function(){return this.ir[this.Vn]};b.prototype.Av=function(a,b){for(var c,d,k,l,e,f;b;){c=0;for(d=b.jf.length;c<d;c++)if(f=b.jf[c],f instanceof Kb&&eb(a,f.name))return f;b=b.parent}c=0;for(d=this.Yg.length;c<d;c++)for(e=this.Yg[c],k=0,l=e.Uh.length;k<l;k++)if(f=e.Uh[k],f instanceof Kb&&eb(a,f.name))return f;return null};b.prototype.Cv=function(a){var b,c;b=0;for(c=this.yf.length;b<c;b++)if(this.yf[b].La===a)return this.yf[b];return null};b.prototype.oo=function(a){var b,c;b=0;for(c=
this.V.length;b<c;b++)if(this.V[b].La===a)return this.V[b];return null};b.prototype.NB=function(a){var b,c;b=0;for(c=this.Tj.length;b<c;b++)if(this.Tj[b].La===a)return this.Tj[b];return null};b.prototype.mC=function(){var a=this,b=this.qt,c=this.jh,d=this.Jo,k=!1;this.Dx&&(k=!0,b="__c2_continuouspreview",this.Dx=!1);if(b.length){this.Wc();c=this.SD();if(window.indexedDB&&!this.Ve)e(b,c,function(){ea("Saved state to IndexedDB storage ("+c.length+" bytes)");a.jh=c;a.trigger(y.prototype.R.qq,null);a.jh=
"";k&&f()},function(d){try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+" bytes)"),a.jh=c,a.trigger(y.prototype.R.qq,null),a.jh="",k&&f()}catch(l){ea("Failed to save game state: "+d+"; "+l)}});else try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+" bytes)"),a.jh=c,this.trigger(y.prototype.R.qq,null),a.jh="",k&&f()}catch(l){ea("Error saving to WebStorage: "+l)}this.zd=this.Jo=this.qt=""}d.length&&(window.indexedDB&&!this.Ve?h(d,
function(b){b?(a.zd=b,ea("Loaded state from IndexedDB storage ("+a.zd.length+" bytes)")):(a.zd=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+a.zd.length+" bytes)"));a.Om=!1;a.zd.length||a.trigger(y.prototype.R.pq,null)},function(){a.zd=localStorage.getItem("__c2save_"+d)||"";ea("Loaded state from WebStorage ("+a.zd.length+" bytes)");a.Om=!1;a.zd.length||a.trigger(y.prototype.R.pq,null)}):(this.zd=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+
this.zd.length+" bytes)"),this.Om=!1,a.zd.length||a.trigger(y.prototype.R.pq,null)),this.qt=this.Jo="");this.zd.length&&(this.Wc(),this.FC(this.zd),this.jh=this.zd,this.trigger(y.prototype.R.mz,null),this.zd=this.jh="")};b.prototype.SD=function(){var a,b,c,d,k,l,e,f={c2save:!0,version:1,rt:{time:this.ai.Lb,walltime:this.Wp.Lb,timescale:this.yi,tickcount:this.Td,execcount:this.El,next_uid:this.zm,running_layout:this.yb.La,start_time_offset:Date.now()-this.Dp},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(b=this.V.length;a<b;a++)if(k=this.V[a],!k.pa&&!this.Ux(k)){l={instances:[]};Pa(k.W)&&(l.ex=g(k.W));c=0;for(d=k.u.length;c<d;c++)l.instances.push(this.pt(k.u[c]));f.types[k.La.toString()]=l}a=0;for(b=this.yf.length;a<b;a++)c=this.yf[a],f.layouts[c.La.toString()]=c.Sd();d=f.events.groups;a=0;for(b=this.Tj.length;a<b;a++)c=this.Tj[a],d[c.La.toString()]=this.so[c.Ol].ro;b=f.events.cnds;for(e in this.Wj)this.Wj.hasOwnProperty(e)&&(a=this.Wj[e],Pa(a.W)&&(b[e]={ex:g(a.W)}));
b=f.events.acts;for(e in this.Sj)this.Sj.hasOwnProperty(e)&&(a=this.Sj[e],Pa(a.W)&&(b[e]={ex:a.W}));b=f.events.vars;for(e in this.Rk)this.Rk.hasOwnProperty(e)&&(a=this.Rk[e],a.xo||a.parent&&!a.Wl||(b[e]=a.data));f.system=this.Ag.Sd();return JSON.stringify(f)};b.prototype.nx=function(){var a,b,c,d,k,l;this.ni={};a=0;for(b=this.V.length;a<b;a++)if(c=this.V[a],!c.pa)for(d=0,k=c.u.length;d<k;d++)l=c.u[d],this.ni[l.uid.toString()]=l};b.prototype.FC=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=
a.rt;this.ai.reset();this.ai.Lb=b.time;this.Wp.reset();this.Wp.Lb=b.walltime||0;this.yi=b.timescale;this.Td=b.tickcount;this.El=b.execcount;this.Dp=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.yb.La)if(c=this.Cv(c))this.pv(c);else return;var d,k,l,e,f,g,h;g=a.types;for(k in g)if(g.hasOwnProperty(k)&&(e=this.oo(parseInt(k,10)))&&!e.pa&&!this.Ux(e)){g[k].ex?e.W=g[k].ex:Qa(e.W);f=e.u;l=g[k].instances;c=0;for(d=ma(f.length,l.length);c<d;c++)this.Ko(f[c],l[c]);c=l.length;for(d=f.length;c<
d;c++)this.Ci(f[c]);c=f.length;for(d=l.length;c<d;c++){f=null;if(e.Ub.$h&&(f=this.yb.no(l[c].w.l),!f))continue;f=this.Rh(e.Re,f,!1,0,0,!0);this.Ko(f,l[c])}e.Mk=!0}this.Wc();this.nx();d=a.layouts;for(k in d)d.hasOwnProperty(k)&&(c=this.Cv(parseInt(k,10)))&&c.ye(d[k]);d=a.events.groups;for(k in d)d.hasOwnProperty(k)&&(c=this.NB(parseInt(k,10)))&&this.so[c.Ol]&&(this.so[c.Ol].ro=d[k]);c=a.events.cnds;for(k in c)c.hasOwnProperty(k)&&this.Wj.hasOwnProperty(k)&&(this.Wj[k].W=c[k].ex);c=a.events.acts;for(k in c)c.hasOwnProperty(k)&&
this.Sj.hasOwnProperty(k)&&(this.Sj[k].W=c[k].ex);c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.Rk.hasOwnProperty(k)&&(this.Rk[k].data=c[k]);this.zm=b.next_uid;this.Ag.ye(a.system);c=0;for(d=this.V.length;c<d;c++)if(e=this.V[c],!e.pa)for(k=0,a=e.u.length;k<a;k++){f=e.u[k];if(e.we)for(g=f.Nl(),b=f.siblings.length=0,l=e.ae.length;b<l;b++)h=e.ae[b],e!==h&&f.siblings.push(h.u[g]);f.Mg&&f.Mg();if(f.Ba)for(b=0,l=f.Ba.length;b<l;b++)g=f.Ba[b],g.Mg&&g.Mg()}this.$a=!0}};b.prototype.pt=function(a,b){var c,
d,k,l,e;l=a.type;k=l.Ub;var f={};b?f.c2=!0:f.uid=a.uid;Pa(a.W)&&(f.ex=g(a.W));if(a.yc&&a.yc.length)for(f.ivs={},c=0,d=a.yc.length;c<d;c++)f.ivs[a.type.Lr[c].toString()]=a.yc[c];if(k.$h){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.N.La,zi:a.dg()};0!==a.G&&(k.a=a.G);1!==a.opacity&&(k.o=a.opacity);.5!==a.Ld&&(k.hX=a.Ld);.5!==a.Md&&(k.hY=a.Md);0!==a.Hd&&(k.bm=a.Hd);a.visible||(k.v=a.visible);a.Qg||(k.ce=a.Qg);-1!==a.ym&&(k.mts=a.ym);if(l.ua.length)for(k.fx=[],c=0,d=l.ua.length;c<d;c++)e=l.ua[c],k.fx.push({name:e.name,
active:a.Lh[e.index],params:a.Ob[e.index]});f.w=k}if(a.Ba&&a.Ba.length)for(f.behs={},c=0,d=a.Ba.length;c<d;c++)l=a.Ba[c],l.Sd&&(f.behs[l.type.La.toString()]=l.Sd());a.Sd&&(f.data=a.Sd());return f};b.prototype.PB=function(a,b){var c,d;c=0;for(d=a.Lr.length;c<d;c++)if(a.Lr[c]===b)return c;return-1};b.prototype.LB=function(a,b){var c,d;c=0;for(d=a.Ba.length;c<d;c++)if(a.Ba[c].type.La===b)return c;return-1};b.prototype.Ko=function(a,b,c){var d,k,l,e,f;f=a.type;l=f.Ub;if(c){if(!b.c2)return}else a.uid=
b.uid;b.ex?a.W=b.ex:Qa(a.W);if(k=b.ivs)for(d in k)k.hasOwnProperty(d)&&(c=this.PB(f,parseInt(d,10)),0>c||c>=a.yc.length||(a.yc[c]=k[d]));if(l.$h){l=b.w;a.N.La!==l.l&&(c=a.N,a.N=this.yb.no(l.l),a.N?(c.Hk(a,!0),a.N.rl(a,!0),a.na(),a.N.Jm(0)):(a.N=c,this.Ci(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.Of=l.zi;a.G=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.Ld=l.hasOwnProperty("hX")?l.hX:.5;a.Md=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.Qg=l.hasOwnProperty("ce")?
l.ce:!0;a.ym=l.hasOwnProperty("mts")?l.mts:-1;a.Hd=l.hasOwnProperty("bm")?l.bm:0;a.yl=bb(a.Hd);this.U&&cb(a,a.Hd,this.U);a.na();if(l.hasOwnProperty("fx"))for(c=0,k=l.fx.length;c<k;c++)e=f.yr(l.fx[c].name),0>e||(a.Lh[e]=l.fx[c].active,a.Ob[e]=l.fx[c].params);a.Ch()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(l=this.LB(a,parseInt(d,10)),0>l||a.Ba[l].ye(f[d]));b.data&&a.ye(b.data)};Lb=function(a){return new b(document.getElementById(a))};Mb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=
Lb;window.cr_createDCRuntime=Mb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.MF=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.Cl=null;this.scrollX=this.i.Bc/2;this.scrollY=this.i.Ac/2;this.scale=1;this.G=0;this.bk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Vx=b[3];this.Cx=b[4];this.La=b[5];var c=b[6],d,e;this.Ca=[];this.Rl=[];d=0;for(e=c.length;d<e;d++){var f=new Nb(this,c[d]);f.Ow=d;this.Ca.push(f)}c=b[7];this.bj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.i.V[f[1]];g.Re||(g.Re=f);this.bj.push(f);-1===this.Rl.indexOf(g)&&this.Rl.push(g)}this.ua=[];this.Va=[];this.Ob=
[];d=0;for(e=b[8].length;d<e;d++)this.ua.push({id:b[8][d][0],name:b[8][d][1],Uc:-1,Zc:!0,index:d}),this.Ob.push(b[8][d][2].slice(0));this.Ch();this.qi=new sa(0,0,1,1);this.ht=new sa(0,0,1,1);this.oi={}}function c(a,b){return a.Of-b.Of}function b(a,b){this.zc=a;this.i=a.i;this.u=[];this.scale=1;this.G=0;this.Wi=!1;this.Ah=new sa(0,0,0,0);this.Ox=new ta;this.oc=this.Zb=this.pc=this.Yb=0;this.Fj=!1;this.Eh=-1;this.name=b[0];this.index=b[1];this.La=b[2];this.visible=b[3];this.Nh=b[4];this.Bh=b[5];this.Pd=
b[6];this.Qd=b[7];this.opacity=b[8];this.or=b[9];this.Mf=b[10];this.qd=b[11];this.Hd=b[12];this.dB=b[13];this.yl="source-over";this.fd=this.md=0;this.ie=null;this.nk=d();this.yh=!0;this.Co=new sa(0,0,-1,-1);this.Qe=new sa(0,0,-1,-1);this.Mf&&(this.ie=new ab(this.i.Bc,this.i.Ac));this.ri=!1;var c=b[14],e,f;this.gk=[];e=0;for(f=c.length;e<f;e++){var g=c[e],h=this.i.V[g[1]];h.Re||(h.Re=g,h.zA=this.index);this.gk.push(g);-1===this.zc.Rl.indexOf(h)&&this.zc.Rl.push(h)}this.ua=[];this.Va=[];this.Ob=[];
e=0;for(f=b[15].length;e<f;e++)this.ua.push({id:b[15][e][0],name:b[15][e][1],Uc:-1,Zc:!0,index:e}),this.Ob.push(b[15][e][2].slice(0));this.Ch();this.qi=new sa(0,0,1,1);this.ht=new sa(0,0,1,1)}function d(){return g.length?g.pop():[]}function e(a){a.length=0;g.push(a)}a.prototype.RD=function(a){var b=a.type.La.toString();this.oi.hasOwnProperty(b)||(this.oi[b]=[]);this.oi[b].push(this.i.pt(a))};a.prototype.Gv=function(){var a=this.Ca[0];return!a.Bh&&1===a.opacity&&!a.or&&a.visible};a.prototype.Ch=function(){this.Va.length=
0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Zc&&this.Va.push(c)};a.prototype.xr=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};var h=[],f=!0;a.prototype.yt=function(){this.Cx&&(this.Cl=this.i.jr[this.Cx],this.Cl.Zx());this.i.yb=this;this.scrollX=this.i.Bc/2;this.scrollY=this.i.Ac/2;var a,b,d,e,g,m,n;a=0;for(d=this.i.V.length;a<d;a++)if(b=this.i.V[a],!b.pa)for(g=b.u,b=0,e=g.length;b<e;b++)if(m=g[b],m.N){var x=m.N.Ow;x>=this.Ca.length&&
(x=this.Ca.length-1);m.N=this.Ca[x];-1===m.N.u.indexOf(m)&&m.N.u.push(m);m.N.Fj=!0}if(!f)for(a=0,d=this.Ca.length;a<d;++a)this.Ca[a].u.sort(c);h.length=0;this.oA();a=0;for(d=this.Ca.length;a<d;a++)m=this.Ca[a],m.xA(),m.Lt();g=!1;if(!this.bk){for(n in this.oi)if(this.oi.hasOwnProperty(n)&&(b=this.i.oo(parseInt(n,10)))&&!b.pa&&this.i.It(b)){e=this.oi[n];a=0;for(d=e.length;a<d;a++){m=null;if(b.Ub.$h&&(m=this.no(e[a].w.l),!m))continue;m=this.i.Rh(b.Re,m,!1,0,0,!0);this.i.Ko(m,e[a]);g=!0;h.push(m)}e.length=
0}a=0;for(d=this.Ca.length;a<d;a++)this.Ca[a].u.sort(c),this.Ca[a].Fj=!0}g&&(this.i.Wc(),this.i.nx());for(a=0;a<h.length;a++)if(m=h[a],m.type.we)for(d=m.Nl(),b=0,e=m.type.ae.length;b<e;b++)n=m.type.ae[b],m.type!==n&&(n.u.length>d?m.siblings.push(n.u[d]):n.Re&&(g=this.i.Rh(n.Re,m.N,!0,m.x,m.y,!0),this.i.Wc(),n.Tp(),m.siblings.push(g),h.push(g)));a=0;for(d=this.bj.length;a<d;a++)this.i.Rh(this.bj[a],null,!0);this.i.xl=null;this.i.Wc();if(this.i.hb&&!this.i.Pb)for(a=0,d=this.i.V.length;a<d;a++)n=this.i.V[a],
!n.pa&&n.u.length&&n.ct&&n.ct(this.i.hb);a=0;for(d=h.length;a<d;a++)m=h[a],this.i.trigger(Object.getPrototypeOf(m.type.Ub).R.oq,m);h.length=0;this.i.trigger(y.prototype.R.mu,null);this.bk=!1};a.prototype.wA=function(){var a,b,c,d,e;b=a=0;for(c=this.bj.length;a<c;a++)d=this.bj[a],e=this.i.V[d[1]],e.global?this.i.Rh(d,null,!0):(this.bj[b]=d,b++);this.bj.length=b};a.prototype.WD=function(){this.i.trigger(y.prototype.R.lz,null);this.i.Ag.Ud.length=0;var a,b,c,d,e,g;if(!this.bk)for(a=0,b=this.Ca.length;a<
b;a++)for(this.Ca[a].Mt(),e=this.Ca[a].u,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.i.It(g.type)&&this.RD(g);a=0;for(b=this.Ca.length;a<b;a++){e=this.Ca[a].u;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.i.Ci(g);this.i.Wc();e.length=0;this.Ca[a].Fj=!0}a=0;for(b=this.i.V.length;a<b;a++)if(e=this.i.V[a],!(e.global||e.Ub.$h||e.Ub.Bp||e.pa)){c=0;for(d=e.u.length;c<d;c++)this.i.Ci(e.u[c]);this.i.Wc()}f=!1};new sa(0,0,0,0);a.prototype.Zf=function(a){var b,c=a,d=!1,e=!this.i.Ue;e&&(this.i.Ho||
(this.i.Ho=document.createElement("canvas"),b=this.i.Ho,b.width=this.i.Ia,b.height=this.i.Ha,this.i.ew=b.getContext("2d"),d=!0),b=this.i.Ho,c=this.i.ew,b.width!==this.i.Ia&&(b.width=this.i.Ia,d=!0),b.height!==this.i.Ha&&(b.height=this.i.Ha,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Xa,c.mozImageSmoothingEnabled=this.i.Xa,c.msImageSmoothingEnabled=this.i.Xa,c.imageSmoothingEnabled=this.i.Xa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.Eq&&!this.Gv()&&c.clearRect(0,0,this.i.Ia,
this.i.Ha);var f,g,d=0;for(f=this.Ca.length;d<f;d++)g=this.Ca[d],g.visible&&0<g.opacity&&11!==g.Hd&&(g.u.length||!g.Bh)?g.Zf(c):g.Lt();e&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Se=function(a){var b=0<this.Va.length||this.i.Pk||!this.i.Ue;if(b){this.i.de||(this.i.de=a.Rg(this.i.Ia,this.i.Ha,this.i.Xa));if(this.i.de.wl!==this.i.Ia||this.i.de.ul!==this.i.Ha)a.deleteTexture(this.i.de),this.i.de=a.Rg(this.i.Ia,this.i.Ha,this.i.Xa);a.yg(this.i.de);this.i.Ue||a.Jk(this.i.Ia,this.i.Ha)}else this.i.de&&
(a.yg(null),a.deleteTexture(this.i.de),this.i.de=null);this.i.Eq&&!this.Gv()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ca.length;c<d;c++)e=this.Ca[c],e.visible&&0<e.opacity&&(e.u.length||!e.Bh)?e.Se(a):e.Lt();b&&(0===this.Va.length||1===this.Va.length&&this.i.Ue?(1===this.Va.length?(b=this.Va[0].index,a.zg(this.Va[0].Uc),a.Ik(null,1/this.i.Ia,1/this.i.Ha,0,0,1,1,this.scale,this.G,0,0,this.i.Ia/2,this.i.Ha/2,this.Ob[b]),a.hp(this.Va[0].Uc)&&(this.i.$a=!0)):a.zg(0),this.i.Ue||a.Jk(this.i.width,this.i.height),
a.yg(null),a.Cj(1),a.je(this.i.de),a.xx(),a.wg(),a.Dg(),b=this.i.width/2,c=this.i.height/2,a.kp(-b,c,b,c,b,-c,-b,-c),a.je(null)):this.jt(a,null,null,null))};a.prototype.Ml=function(){return 0<this.Va.length||this.i.Pk||!this.i.Ue?this.i.de:null};a.prototype.Dv=function(){var a=this.Ca[0].ve(),b,c,d;b=1;for(c=this.Ca.length;b<c;b++)d=this.Ca[b],(0!==d.Pd||0!==d.Qd)&&d.ve()<a&&(a=d.ve());return a};a.prototype.ux=function(a){if(!this.Vx){var b=1/this.Dv()*this.i.Ia/2;a>this.width-b&&(a=this.width-b);
a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.$a=!0)};a.prototype.wx=function(a){if(!this.Vx){var b=1/this.Dv()*this.i.Ha/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.$a=!0)};a.prototype.oA=function(){this.ux(this.scrollX);this.wx(this.scrollY)};a.prototype.jt=function(a,b,c,d){var e=c?c.Va:b?b.Va:this.Va,f=1,g=0,h=0,m=0,n=this.i.Ia,A=this.i.Ha;c?(f=c.N.ve(),g=c.N.te(),h=c.N.Yb,m=c.N.Zb,n=c.N.pc,A=c.N.oc):b&&(f=b.ve(),g=b.te(),h=b.Yb,m=b.Zb,n=b.pc,
A=b.oc);var D=this.i.sr,E,C,G,F,H=0,Y=1,oa,ba=this.i.Ia,V=this.i.Ha,vb=ba/2,ua=V/2,M=b?b.qi:this.qi,I=b?b.ht:this.ht,Q=0,X=0,L=0,Z=0,T=ba,Ma=ba,S=V,Na=V,za=G=0,Ua=c?c.N.te():0;if(c){E=0;for(C=e.length;E<C;E++)G+=a.SB(e[E].Uc),za+=a.TB(e[E].Uc);F=c.Ib;Q=b.Kb(F.left,F.top,!0,!0);L=b.Kb(F.left,F.top,!1,!0);T=b.Kb(F.right,F.bottom,!0,!0);S=b.Kb(F.right,F.bottom,!1,!0);0!==Ua&&(E=b.Kb(F.right,F.top,!0,!0),C=b.Kb(F.right,F.top,!1,!0),X=b.Kb(F.left,F.bottom,!0,!0),Z=b.Kb(F.left,F.bottom,!1,!0),F=Math.min(Q,
T,E,X),T=Math.max(Q,T,E,X),Q=F,F=Math.min(L,S,C,Z),S=Math.max(L,S,C,Z),L=F);Q-=G;L-=za;T+=G;S+=za;I.left=Q/ba;I.top=1-L/V;I.right=T/ba;I.bottom=1-S/V;X=Q=pa(Q);Z=L=pa(L);Ma=T=qa(T);Na=S=qa(S);X-=G;Z-=za;Ma+=G;Na+=za;0>Q&&(Q=0);0>L&&(L=0);T>ba&&(T=ba);S>V&&(S=V);0>X&&(X=0);0>Z&&(Z=0);Ma>ba&&(Ma=ba);Na>V&&(Na=V);M.left=Q/ba;M.top=1-L/V;M.right=T/ba;M.bottom=1-S/V}else M.left=I.left=0,M.top=I.top=0,M.right=I.right=1,M.bottom=I.bottom=1;za=c&&((c.G||Ua)&&a.Fm(e[0].Uc)||0!==G||0!==za||1!==c.opacity||c.type.Ub.Kw)||
b&&!c&&1!==b.opacity;a.xx();if(za){D[H]||(D[H]=a.Rg(ba,V,this.i.Xa));if(D[H].wl!==ba||D[H].ul!==V)a.deleteTexture(D[H]),D[H]=a.Rg(ba,V,this.i.Xa);a.zg(0);a.yg(D[H]);oa=Na-Z;a.clearRect(X,V-Z-oa,Ma-X,oa);c?c.Se(a):(a.je(this.i.xe),a.Cj(b.opacity),a.wg(),a.translate(-vb,-ua),a.Dg(),a.tg(Q,S,T,S,T,L,Q,L,M));I.left=I.top=0;I.right=I.bottom=1;c&&(F=M.top,M.top=M.bottom,M.bottom=F);H=1;Y=0}a.Cj(1);G=e.length-1;var Ua=a.et(e[G].Uc)||!b&&!c&&!this.i.Ue,Va=0;E=0;for(C=e.length;E<C;E++){D[H]||(D[H]=a.Rg(ba,
V,this.i.Xa));if(D[H].wl!==ba||D[H].ul!==V)a.deleteTexture(D[H]),D[H]=a.Rg(ba,V,this.i.Xa);a.zg(e[E].Uc);Va=e[E].index;a.hp(e[E].Uc)&&(this.i.$a=!0);0!=E||za?(a.Ik(d,1/ba,1/V,I.left,I.top,I.right,I.bottom,f,g,h,m,(h+n)/2,(m+A)/2,c?c.Ob[Va]:b?b.Ob[Va]:this.Ob[Va]),a.je(null),E!==G||Ua?(a.yg(D[H]),oa=Na-Z,F=V-Z-oa,a.clearRect(X,F,Ma-X,oa)):(c?a.si(c.md,c.fd):b&&a.si(b.md,b.fd),a.yg(d)),a.je(D[Y]),a.wg(),a.translate(-vb,-ua),a.Dg(),a.tg(Q,S,T,S,T,L,Q,L,M),E!==G||Ua||a.je(null)):(a.yg(D[H]),oa=Na-Z,F=
V-Z-oa,a.clearRect(X,F,Ma-X,oa),c?(a.Ik(d,1/c.width,1/c.height,I.left,I.top,I.right,I.bottom,f,g,h,m,(h+n)/2,(m+A)/2,c.Ob[Va]),c.Se(a)):(a.Ik(d,1/ba,1/V,0,0,1,1,f,g,h,m,(h+n)/2,(m+A)/2,b?b.Ob[Va]:this.Ob[Va]),a.je(b?this.i.xe:this.i.de),a.wg(),a.translate(-vb,-ua),a.Dg(),a.tg(Q,S,T,S,T,L,Q,L,M)),I.left=I.top=0,I.right=I.bottom=1,c&&!Ua&&(F=S,S=L,L=F));H=0===H?1:0;Y=0===H?1:0}Ua&&(a.zg(0),c?a.si(c.md,c.fd):b?a.si(b.md,b.fd):this.i.Ue||(a.Jk(this.i.width,this.i.height),vb=this.i.width/2,ua=this.i.height/
2,L=Q=0,T=this.i.width,S=this.i.height),a.yg(d),a.je(D[Y]),a.wg(),a.translate(-vb,-ua),a.Dg(),c&&1===e.length&&!za?a.tg(Q,L,T,L,T,S,Q,S,M):a.tg(Q,S,T,S,T,L,Q,L,M),a.je(null))};a.prototype.no=function(a){var b,c;b=0;for(c=this.Ca.length;b<c;b++)if(this.Ca[b].La===a)return this.Ca[b];return null};a.prototype.Sd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.G,w:this.width,h:this.height,fv:this.bk,persist:this.oi,fx:[],layers:{}};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],
d.fx.push({name:c.name,active:c.Zc,params:this.Ob[c.index]});a=0;for(b=this.Ca.length;a<b;a++)c=this.Ca[a],d.layers[c.La.toString()]=c.Sd();return d};a.prototype.ye=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.G=a.a;this.width=a.w;this.height=a.h;this.oi=a.persist;"undefined"!==typeof a.fv&&(this.bk=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.xr(f[b].name))d.Zc=f[b].active,this.Ob[d.index]=f[b].params;this.Ch();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.no(parseInt(e,10)))&&a.ye(b[e])};zb=a;b.prototype.Ch=function(){this.Va.length=0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Zc&&this.Va.push(c)};b.prototype.xr=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};b.prototype.xA=function(){var a,b,c,d,e,f;b=a=0;for(c=this.gk.length;a<c;a++){d=this.gk[a];e=this.i.V[d[1]];f=this.i.It(e);e=!0;if(!f||this.zc.bk)d=this.i.Rh(d,this,!0),h.push(d),d.type.global&&(e=!1);e&&(this.gk[b]=
this.gk[a],b++)}this.gk.length=b;this.i.Wc();!this.i.X&&this.ua.length&&(this.Hd=this.dB);this.yl=bb(this.Hd);this.i.U&&cb(this,this.Hd,this.i.U);this.yh=!0};b.prototype.Hk=function(a,b){var c=Aa(this.u,a);0>c||(b&&this.Mf&&a.Rd&&a.Rd.right>=a.Rd.left&&(a.Ma(),this.ie.update(a,a.Rd,null),a.Rd.set(0,0,-1,-1)),c===this.u.length-1?this.u.pop():(wa(this.u,c),this.Jm(c)),this.yh=!0)};b.prototype.rl=function(a,b){a.Of=this.u.length;this.u.push(a);b&&this.Mf&&a.Rd&&a.na();this.yh=!0};b.prototype.AD=function(a){this.u.unshift(a);
this.Jm(0)};b.prototype.jD=function(a,b,c){var d=a.dg();b=b.dg();wa(this.u,d);d<b&&b--;c&&b++;b===this.u.length?this.u.push(a):this.u.splice(b,0,a);this.Jm(d<b?d:b)};b.prototype.Jm=function(a){-1===this.Eh?this.Eh=a:a<this.Eh&&(this.Eh=a);this.yh=this.Fj=!0};b.prototype.Mt=function(){if(this.Fj){-1===this.Eh&&(this.Eh=0);var a,b,c;if(this.Mf)for(a=this.Eh,b=this.u.length;a<b;++a)c=this.u[a],c.Of=a,this.ie.bD(c.Rd);else for(a=this.Eh,b=this.u.length;a<b;++a)this.u[a].Of=a;this.Fj=!1;this.Eh=-1}};b.prototype.ve=
function(a){return this.QB()*(this.i.Ue||a?this.i.sl:1)};b.prototype.QB=function(){return(this.scale*this.zc.scale-1)*this.qd+1};b.prototype.te=function(){return this.Wi?0:Ea(this.zc.G+this.G)};var g=[],n=[],m=[];b.prototype.Ev=function(){this.Mt();this.ie.lp(this.Yb,this.Zb,this.pc,this.oc,m);if(!m.length)return d();if(1===m.length){var a=d();xa(a,m[0]);m.length=0;return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,f=void 0,g=void 0,h=void 0,v=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],h=a[c+
1],v=d(),x=g,B=h,z=v,A=0,D=0,E=0,C=x.length,G=B.length,F=void 0,H=void 0;for(z.length=C+G;A<C&&D<G;++E)F=x[A],H=B[D],F.Of<H.Of?(z[E]=F,++A):(z[E]=H,++D);for(;A<C;++A,++E)z[E]=x[A];for(;D<G;++D,++E)z[E]=B[D];b||(e(g),e(h));n.push(v)}1===f%2&&(b?(g=d(),xa(g,a[f-1]),n.push(g)):n.push(a[f-1]));xa(a,n);n.length=0;b=!1}a=m[0];m.length=0;return a};b.prototype.Zf=function(a){this.ri=this.or||1!==this.opacity||0!==this.Hd;var b=this.i.canvas,c=a,d=!1;this.ri&&(this.i.Go||(this.i.Go=document.createElement("canvas"),
b=this.i.Go,b.width=this.i.Ia,b.height=this.i.Ha,this.i.dw=b.getContext("2d"),d=!0),b=this.i.Go,c=this.i.dw,b.width!==this.i.Ia&&(b.width=this.i.Ia,d=!0),b.height!==this.i.Ha&&(b.height=this.i.Ha,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Xa,c.mozImageSmoothingEnabled=this.i.Xa,c.msImageSmoothingEnabled=this.i.Xa,c.imageSmoothingEnabled=this.i.Xa),this.Bh&&c.clearRect(0,0,this.i.Ia,this.i.Ha));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Bh||(c.fillStyle="rgb("+this.Nh[0]+","+
this.Nh[1]+","+this.Nh[2]+")",c.fillRect(0,0,this.i.Ia,this.i.Ha));c.save();this.Wi=!0;var d=this.tc(0,0,!0,!0),f=this.tc(0,0,!1,!0);this.Wi=!1;this.i.rg&&(d=Math.round(d),f=Math.round(f));this.lt(d,f,c);var g=this.ve();c.scale(g,g);c.translate(-d,-f);this.Mf?(this.Qe.left=this.ie.oe(this.Yb),this.Qe.top=this.ie.pe(this.Zb),this.Qe.right=this.ie.oe(this.pc),this.Qe.bottom=this.ie.pe(this.oc),this.yh||!this.Qe.Un(this.Co)?(e(this.nk),d=this.Ev(),this.yh=!1,this.Co.zl(this.Qe)):d=this.nk):d=this.u;
for(var h,m=null,f=0,g=d.length;f<g;++f)h=d[f],h!==m&&(this.UA(h,c),m=h);this.Mf&&(this.nk=d);c.restore();this.ri&&(a.globalCompositeOperation=this.yl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.UA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ma();var c=a.Ib;c.right<this.Yb||c.bottom<this.Zb||c.left>this.pc||c.top>this.oc||(b.globalCompositeOperation=a.yl,a.Zf(b))}};b.prototype.Lt=function(){this.Wi=!0;var a=this.tc(0,0,!0,!0),b=this.tc(0,0,!1,!0);this.Wi=!1;this.i.rg&&
(a=Math.round(a),b=Math.round(b));this.lt(a,b,null)};b.prototype.lt=function(a,b,c){var d=this.ve();this.Yb=a;this.Zb=b;this.pc=a+1/d*this.i.Ia;this.oc=b+1/d*this.i.Ha;a=this.te();0!==a&&(c&&(c.translate(this.i.Ia/2,this.i.Ha/2),c.rotate(-a),c.translate(this.i.Ia/-2,this.i.Ha/-2)),this.Ah.set(this.Yb,this.Zb,this.pc,this.oc),this.Ah.offset((this.Yb+this.pc)/-2,(this.Zb+this.oc)/-2),this.Ox.Ax(this.Ah,a),this.Ox.$u(this.Ah),this.Ah.offset((this.Yb+this.pc)/2,(this.Zb+this.oc)/2),this.Yb=this.Ah.left,
this.Zb=this.Ah.top,this.pc=this.Ah.right,this.oc=this.Ah.bottom)};b.prototype.Se=function(a){var b=0,c=0;if(this.ri=this.or||1!==this.opacity||0<this.Va.length||0!==this.Hd){this.i.xe||(this.i.xe=a.Rg(this.i.Ia,this.i.Ha,this.i.Xa));if(this.i.xe.wl!==this.i.Ia||this.i.xe.ul!==this.i.Ha)a.deleteTexture(this.i.xe),this.i.xe=a.Rg(this.i.Ia,this.i.Ha,this.i.Xa);a.yg(this.i.xe);this.Bh&&a.clear(0,0,0,0)}this.Bh||a.clear(this.Nh[0]/255,this.Nh[1]/255,this.Nh[2]/255,1);this.Wi=!0;var d=this.tc(0,0,!0,!0),
b=this.tc(0,0,!1,!0);this.Wi=!1;this.i.rg&&(d=Math.round(d),b=Math.round(b));this.lt(d,b,null);d=this.ve();a.wg();a.scale(d,d);a.mt(-this.te());a.translate((this.Yb+this.pc)/-2,(this.Zb+this.oc)/-2);a.Dg();this.Mf?(this.Qe.left=this.ie.oe(this.Yb),this.Qe.top=this.ie.pe(this.Zb),this.Qe.right=this.ie.oe(this.pc),this.Qe.bottom=this.ie.pe(this.oc),this.yh||!this.Qe.Un(this.Co)?(e(this.nk),b=this.Ev(),this.yh=!1,this.Co.zl(this.Qe)):b=this.nk):b=this.u;var f,g,h=null,c=0;for(f=b.length;c<f;++c)g=b[c],
g!==h&&(this.VA(b[c],a),h=g);this.Mf&&(this.nk=b);this.ri&&(b=this.Va.length?this.Va[0].Uc:0,c=this.Va.length?this.Va[0].index:0,0===this.Va.length||1===this.Va.length&&!a.et(b)&&1===this.opacity?(1===this.Va.length?(a.zg(b),a.Ik(this.zc.Ml(),1/this.i.Ia,1/this.i.Ha,0,0,1,1,d,this.te(),this.Yb,this.Zb,(this.Yb+this.pc)/2,(this.Zb+this.oc)/2,this.Ob[c]),a.hp(b)&&(this.i.$a=!0)):a.zg(0),a.yg(this.zc.Ml()),a.Cj(this.opacity),a.je(this.i.xe),a.si(this.md,this.fd),a.wg(),a.Dg(),d=this.i.Ia/2,b=this.i.Ha/
2,a.kp(-d,b,d,b,d,-b,-d,-b),a.je(null)):this.zc.jt(a,this,null,this.zc.Ml()))};b.prototype.VA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ma();var c=a.Ib;c.right<this.Yb||c.bottom<this.Zb||c.left>this.pc||c.top>this.oc||(a.by?this.WA(a,b):(b.zg(0),b.si(a.md,a.fd),a.Se(b)))}};b.prototype.WA=function(a,b){var c=a.Va[0].Uc,d=a.Va[0].index,e=this.ve();if(1!==a.Va.length||b.et(c)||b.CD(c)||(a.G||a.N.te())&&b.Fm(c)||1!==a.opacity||a.type.Ub.Kw)this.zc.jt(b,this,a,this.ri?this.i.xe:this.zc.Ml()),
b.wg(),b.scale(e,e),b.mt(-this.te()),b.translate((this.Yb+this.pc)/-2,(this.Zb+this.oc)/-2),b.Dg();else{b.zg(c);b.si(a.md,a.fd);b.hp(c)&&(this.i.$a=!0);var f=0,g=0,h=0,m=0;b.Fm(c)&&(c=a.Ib,f=this.Kb(c.left,c.top,!0,!0),g=this.Kb(c.left,c.top,!1,!0),h=this.Kb(c.right,c.bottom,!0,!0),c=this.Kb(c.right,c.bottom,!1,!0),f/=windowWidth,g=1-g/windowHeight,h/=windowWidth,m=1-c/windowHeight);b.Ik(this.ri?this.i.xe:this.zc.Ml(),1/a.width,1/a.height,f,g,h,m,e,this.te(),this.Yb,this.Zb,(this.Yb+this.pc)/2,(this.Zb+
this.oc)/2,a.Ob[d]);a.Se(b)}};b.prototype.tc=function(a,b,c,d){var e=this.i.devicePixelRatio;this.i.cj&&(a*=e,b*=e);var e=this.i.Xw,f=this.i.Yw,e=(this.zc.scrollX-e)*this.Pd+e,f=(this.zc.scrollY-f)*this.Qd+f,g=e,h=f,m=1/this.ve(!d);d?(g-=this.i.Ia*m/2,h-=this.i.Ha*m/2):(g-=this.i.width*m/2,h-=this.i.height*m/2);g+=a*m;h+=b*m;b=this.te();0!==b&&(g-=e,h-=f,a=Math.cos(b),b=Math.sin(b),d=g*a-h*b,h=h*a+g*b,g=d+e,h+=f);return c?g:h};b.prototype.Kb=function(a,b,c,d){var e=this.i.Xw,f=this.i.Yw,g=(this.zc.scrollX-
e)*this.Pd+e,h=(this.zc.scrollY-f)*this.Qd+f,f=g,e=h,m=this.te();if(0!==m){a-=g;b-=h;var n=Math.cos(-m),m=Math.sin(-m),A=a*n-b*m;b=b*n+a*m;a=A+g;b+=h}g=1/this.ve(!d);d?(f-=this.i.Ia*g/2,e-=this.i.Ha*g/2):(f-=this.i.width*g/2,e-=this.i.height*g/2);f=(a-f)/g;e=(b-e)/g;a=this.i.devicePixelRatio;this.i.cj&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Sd=function(){var a,b,c,d={s:this.scale,a:this.G,vl:this.Yb,vt:this.Zb,vr:this.pc,vb:this.oc,v:this.visible,bc:this.Nh,t:this.Bh,px:this.Pd,py:this.Qd,o:this.opacity,
zr:this.qd,fx:[],instances:[]};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Zc,params:this.Ob[c.index]});return d};b.prototype.ye=function(a){var b,d;this.scale=a.s;this.G=a.a;this.Yb=a.vl;this.Zb=a.vt;this.pc=a.vr;this.oc=a.vb;this.visible=a.v;this.Nh=a.bc;this.Bh=a.t;this.Pd=a.px;this.Qd=a.py;this.opacity=a.o;this.qd=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.xr(e[a].name))d.Zc=e[a].active,this.Ob[d.index]=e[a].params;this.Ch();this.u.sort(c);this.Fj=!0};
Nb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,k;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);k=p[b.length];d=0;for(e=k.length;d<e;d++)if(f=k[d],a(b,f))return f;k.push(b);return b}
function d(a,b){this.i=a;this.Rx={};this.uv={};this.Er=!1;this.Jv=new ca;this.cr=[];this.Fq=[];this.name=b[0];var c=b[1];this.Uh=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Mv(c[d],null,this.Uh)}function e(a){this.type=a;this.u=[];this.Wa=[];this.ab=!0}function h(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.ti=[];this.Hv=this.Mp=this.Ft=this.Jr=this.group=this.Fx=!1;this.Ic=[];this.qf=[];this.jf=[];this.Ol="";this.ro=this.Jr=this.group=!1;this.jv=null;c[1]&&(this.Ol=c[1][1].toLowerCase(),
this.group=!0,this.Jr=!!c[1][0],this.jv=[],this.ro=this.Jr,this.i.Tj.push(this),this.i.so[this.Ol]=this);this.df=c[2];this.La=c[4];this.group||(this.i.Zu[this.La.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Ob(this,d[a]);e.index=a;this.Ic.push(e);this.Qu(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Pb(this,d[a]),e.index=a,this.qf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Mv(c[a],this,this.jf);this.yo=!1;this.Ic.length&&(this.yo=null==this.Ic[0].type&&
this.Ic[0].Rc==y.prototype.R.Fy)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.we))for(c=0,d=a.ae.length;c<d;c++)e=a.ae[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.se=a;this.sheet=a.sheet;this.i=a.i;this.xa=[];this.kb=[];this.W={};this.index=-1;this.pl=!1;this.Rc=this.i.Ih(b[1]);this.trigger=0<b[3];this.tv=2===b[3];this.uo=b[5];this.CC=b[6];this.La=b[7];this.i.Wj[this.La.toString()]=this;-1===b[0]?(this.type=null,this.nc=this.ot,this.Qi=null,this.Ne=-1):(this.type=
this.i.V[b[0]],this.nc=this.CC?this.OD:this.nt,b[2]?(this.Qi=this.type.io(b[2]),this.Ne=this.type.tr(b[2])):(this.Qi=null,this.Ne=-1),this.se.parent&&this.se.parent.vp());this.tv&&(this.nc=this.PD);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Qb(this,e[c]);this.xa.push(f)}this.kb.length=e.length}}function n(a,b){this.se=a;this.sheet=a.sheet;this.i=a.i;this.xa=[];this.kb=[];this.W={};this.index=-1;this.pl=!1;this.Rc=this.i.Ih(b[1]);-1===b[0]?(this.type=null,this.nc=this.ot,
this.Qi=null,this.Ne=-1):(this.type=this.i.V[b[0]],this.nc=this.nt,b[2]?(this.Qi=this.type.io(b[2]),this.Ne=this.type.tr(b[2])):(this.Qi=null,this.Ne=-1));this.La=b[3];this.i.Sj[this.La.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Qb(this,e[c]);this.xa.push(f)}this.kb.length=e.length}}function m(a,b){this.ia=a;this.se=a.se;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.ag=null;this.vi=0;this.get=null;this.iv=0;this.zc=null;this.key=0;this.object=null;this.index=
0;this.Tm=this.Dj=this.Tm=this.Dj=this.vv=this.Yi=this.Um=null;this.kf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.ag=new Rb(this,b[1]);this.vi=0;this.get=this.aC;break;case 1:this.ag=new Rb(this,b[1]);this.vi=0;this.get=this.bC;break;case 5:this.ag=new Rb(this,b[1]);this.vi=0;this.get=this.fC;break;case 3:case 8:this.iv=b[1];this.get=this.ZB;break;case 6:this.zc=this.i.hs[b[1]];this.get=this.gC;break;case 9:this.key=b[1];this.get=this.eC;break;case 4:this.object=this.i.V[b[1]];this.get=this.hC;
this.se.Qu(this.object);this.ia instanceof Pb?this.se.vp():this.se.parent&&this.se.parent.vp();break;case 10:this.index=b[1];a.type.pa?(this.get=this.cC,this.kf=!0):this.get=this.dC;break;case 11:this.Um=b[1];this.Yi=null;this.get=this.$B;break;case 2:case 12:this.vv=b[1];this.get=this.YB;break;case 13:for(this.get=this.iC,this.Dj=[],this.Tm=[],c=1,d=b.length;c<d;c++)e=new Qb(this.ia,b[c]),this.Dj.push(e),this.Tm.push(0)}}function l(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.name=
c[1];this.cy=c[2];this.Ir=c[3];this.Wl=!!c[4];this.xo=!!c[5];this.La=c[6];this.i.Rk[this.La.toString()]=this;this.data=this.Ir;this.parent?(this.nj=this.Wl||this.xo?-1:this.i.UD++,this.i.fA.push(this)):(this.nj=-1,this.i.eA.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.Ql=null;this.oC=c[1];this.Zc=!0}function q(){this.Jx=[];this.reset(null)}var p=[];d.prototype.toString=function(){return this.name};d.prototype.Mv=function(a,b,c){switch(a[0]){case 0:a=new Sb(this,
b,a);if(a.df)for(c.push(a),c=0,b=a.Ic.length;c<b;c++)a.Ic[c].trigger&&this.Nv(a,c);else a.Wv()?this.Nv(a,0):c.push(a);break;case 1:a=new Kb(this,b,a);c.push(a);break;case 2:a=new Tb(this,b,a),c.push(a)}};d.prototype.fc=function(){var a,b;a=0;for(b=this.Uh.length;a<b;a++)this.Uh[a].fc(a<b-1&&this.Uh[a+1].yo)};d.prototype.Zx=function(){this.cr.length=0;this.Fq.length=0;this.Ou(this);this.Fq.length=0};d.prototype.Ou=function(a){var b,c,d,e,f=a.cr,k=a.Fq,g=this.Jv.Eg();b=0;for(c=g.length;b<c;++b)d=g[b],
e=d.Ql,!d.Zc||a===e||-1<k.indexOf(e)||(k.push(e),e.Ou(a),f.push(e))};d.prototype.nc=function(a){this.i.JF||(this.Er=!0,a||(this.i.Or=!0));var b,c;b=0;for(c=this.Uh.length;b<c;b++){var d=this.Uh[b];d.nc();this.i.Rq(d.pb);this.i.Xh&&this.i.Wc()}a||(this.i.Or=!1)};d.prototype.Nv=function(a,b){a.df||this.i.Sp.push(a);var c,d,e=a.Ic[b],f;f=e.type?e.type.name:"system";var k=(c=e.tv)?this.uv:this.Rx;k[f]||(k[f]=[]);f=k[f];k=e.Rc;if(c){if(e.xa.length&&(e=e.xa[0],1===e.type&&2===e.ag.type)){e=e.ag.value.toLowerCase();
c=0;for(d=f.length;c<d;c++)if(f[c].method==k){c=f[c].Dl;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:k,Dl:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==k){f[c].Dl.push([a,b]);return}hc&&k===hc.prototype.R.Qj?f.unshift({method:k,Dl:[[a,b]]}):f.push({method:k,Dl:[[a,b]]})}};Ab=d;e.prototype.Dr=function(){return this.ab?this.type.u.length:this.u.length};e.prototype.ue=function(){return this.ab?this.type.u:this.u};e.prototype.Dm=function(a){a&&(a.i.Sc().Jd.df?(this.ab&&
(this.u.length=0,xa(this.Wa,a.type.u),this.ab=!1),a=this.Wa.indexOf(a),-1!==a&&(this.u.push(this.Wa[a]),this.Wa.splice(a,1))):(this.ab=!1,this.u.length=1,this.u[0]=a))};ib=e;window._c2hh_="19E67212653292A33E81E2383C2F6DFE36887535";h.prototype.fc=function(a){var c,d=this.parent;if(this.group)for(this.Mp=!0;d;){if(!d.group){this.Mp=!1;break}d=d.parent}this.Ft=!this.Wv()&&(!this.parent||this.parent.group&&this.parent.Mp);this.Hv=!!a;this.ti=this.pb.slice(0);for(d=this.parent;d;){a=0;for(c=d.pb.length;a<
c;a++)this.cA(d.pb[a]);d=d.parent}this.pb=b(this.pb);this.ti=b(this.ti);a=0;for(c=this.Ic.length;a<c;a++)this.Ic[a].fc();a=0;for(c=this.qf.length;a<c;a++)this.qf[a].fc();a=0;for(c=this.jf.length;a<c;a++)this.jf[a].fc(a<c-1&&this.jf[a+1].yo)};h.prototype.Qu=function(a){f(a,this.pb)};h.prototype.cA=function(a){f(a,this.ti)};h.prototype.vp=function(){this.Fx=!0;this.parent&&this.parent.vp()};h.prototype.Wv=function(){return this.Ic.length?this.Ic[0].trigger:!1};h.prototype.nc=function(){var a,b=!1,c,
d=this.i,e=this.i.Sc();e.Jd=this;var f=this.Ic;this.yo||(e.hr=!1);if(this.df){0===f.length&&(b=!0);e.uc=0;for(a=f.length;e.uc<a;e.uc++)f[e.uc].trigger||(c=f[e.uc].nc())&&(b=!0);(e.fj=b)&&this.rp()}else{e.uc=0;for(a=f.length;e.uc<a;e.uc++)if(c=f[e.uc].nc(),!c){e.fj=!1;this.Ft&&d.Xh&&d.Wc();return}e.fj=!0;this.rp()}this.fB(e)};h.prototype.fB=function(a){a.fj&&this.Hv&&(a.hr=!0);this.Ft&&this.i.Xh&&this.i.Wc()};h.prototype.MD=function(a){this.i.Sc().Jd=this;this.Ic[a].nc()&&(this.rp(),this.i.Sc().fj=
!0)};h.prototype.rp=function(){var a=this.i.Sc(),b;a.Yd=0;for(b=this.qf.length;a.Yd<b;a.Yd++)if(this.qf[a.Yd].nc())return;this.qx()};h.prototype.JD=function(){var a=this.i.Sc(),b;for(b=this.qf.length;a.Yd<b;a.Yd++)if(this.qf[a.Yd].nc())return;this.qx()};h.prototype.qx=function(){if(this.jf.length){var a,b,c,d,e=this.jf.length-1;this.i.jp(this);if(this.Fx)for(a=0,b=this.jf.length;a<b;a++)c=this.jf[a],(d=!this.Mp||!this.group&&a<e)&&this.i.ip(c.pb),c.nc(),d?this.i.Aj(c.pb):this.i.Rq(c.pb);else for(a=
0,b=this.jf.length;a<b;a++)this.jf[a].nc();this.i.gp()}};h.prototype.ND=function(){var a=this.i.Sc();a.Jd=this;var b=!1,c;a.uc=0;for(c=this.Ic.length;a.uc<c;a.uc++)if(this.Ic[a.uc].nc())b=!0;else if(!this.df)return!1;return this.df?b:!0};h.prototype.KD=function(){this.i.El++;var a=this.i.Sc().uc,b=this.i.jp(this);if(!this.df)for(b.uc=a+1,a=this.Ic.length;b.uc<a;b.uc++)if(!this.Ic[b.uc].nc()){this.i.gp();return}this.rp();this.i.gp()};h.prototype.xC=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=
b;--b)if(this.Ic[b].type===a.type)return!1;return!0};Sb=h;g.prototype.fc=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.fc(),c.kf&&(this.pl=!0)};g.prototype.PD=function(){return!0};g.prototype.ot=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.kb[a]=this.xa[a].get();return Oa(this.Rc.apply(this.i.Ag,this.kb),this.uo)};g.prototype.OD=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.kb[a]=this.xa[a].get();a=this.Rc.apply(this.Qi?this.Qi:this.type,this.kb);this.type.Me();
return a};g.prototype.nt=function(){var a,b,c,d,e,f,k,g,h=this.type,l=h.Pa(),m=this.se.df&&!this.trigger;b=0;var n=h.we,p=h.pa,q=h.Zg,s=this.Ne,t=-1<s,ua=this.pl,M=this.xa,I=this.kb,Q=this.uo,X=this.Rc,L;if(ua)for(b=0,e=M.length;b<e;++b)f=M[b],f.kf||(I[b]=f.get(0));else for(b=0,e=M.length;b<e;++b)I[b]=M[b].get(0);if(l.ab){l.u.length=0;l.Wa.length=0;L=h.u;a=0;for(d=L.length;a<d;++a){g=L[a];if(ua)for(b=0,e=M.length;b<e;++b)f=M[b],f.kf&&(I[b]=f.get(a));t?(b=0,p&&(b=g.type.ak[q]),b=X.apply(g.Ba[s+b],
I)):b=X.apply(g,I);(k=Oa(b,Q))?l.u.push(g):m&&l.Wa.push(g)}h.finish&&h.finish(!0);l.ab=!1;h.Me();return l.Dr()}c=0;L=(k=m&&!this.se.xC(this))?l.Wa:l.u;var Z=!1;a=0;for(d=L.length;a<d;++a){g=L[a];if(ua)for(b=0,e=M.length;b<e;++b)f=M[b],f.kf&&(I[b]=f.get(a));t?(b=0,p&&(b=g.type.ak[q]),b=X.apply(g.Ba[s+b],I)):b=X.apply(g,I);if(Oa(b,Q))if(Z=!0,k){if(l.u.push(g),n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Pa().u.push(f)}else{L[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],
f.type.Pa().u[c]=f;c++}else if(k){L[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Pa().Wa[c]=f;c++}else if(m&&(l.Wa.push(g),n))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Pa().Wa.push(f)}L.length=c;if(n)for(p=h.ae,a=0,d=p.length;a<d;a++)g=p[a].Pa(),k?g.Wa.length=c:g.u.length=c;c=Z;if(k&&!Z)for(a=0,d=l.u.length;a<d;a++){g=l.u[a];if(ua)for(b=0,e=M.length;b<e;b++)f=M[b],f.kf&&(I[b]=f.get(a));b=t?X.apply(g.Ba[s],I):X.apply(g,I);if(Oa(b,Q)){Z=!0;break}}h.finish&&h.finish(c||
m);return m?Z:l.Dr()};Ob=g;n.prototype.fc=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.fc(),c.kf&&(this.pl=!0)};n.prototype.ot=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.kb[a]=this.xa[a].get();return this.Rc.apply(this.i.Ag,this.kb)};n.prototype.nt=function(){var a=this.type.Pa().ue(),b=this.type.pa,c=this.type.Zg,d=this.Ne,e=-1<d,f=this.pl,k=this.xa,g=this.kb,h=this.Rc,l,m,n,p,q,s;if(f)for(m=0,p=k.length;m<p;++m)q=k[m],q.kf||(g[m]=q.get(0));else for(m=0,p=k.length;m<
p;++m)g[m]=k[m].get(0);l=0;for(n=a.length;l<n;++l){s=a[l];if(f)for(m=0,p=k.length;m<p;++m)q=k[m],q.kf&&(g[m]=q.get(l));e?(m=0,b&&(m=s.type.ak[c]),h.apply(s.Ba[d+m],g)):h.apply(s,g)}return!1};Pb=n;var s=[],t=-1;m.prototype.fc=function(){var a,b;if(11===this.type)this.Yi=this.i.Av(this.Um,this.se.parent);else if(13===this.type)for(a=0,b=this.Dj.length;a<b;a++)this.Dj[a].fc();this.ag&&this.ag.fc()};m.prototype.fD=function(a){this.kf||!a||a.Ub.Bp||(this.kf=!0)};m.prototype.yx=function(){this.kf=!0};m.prototype.Cc=
function(){t++;s.length===t&&s.push(new Ub);return s[t]};m.prototype.mc=function(){t--};m.prototype.aC=function(a){this.vi=a||0;a=this.Cc();this.ag.get(a);this.mc();return a.data};m.prototype.bC=function(a){this.vi=a||0;a=this.Cc();this.ag.get(a);this.mc();return u(a.data)?a.data:""};m.prototype.hC=function(){return this.object};m.prototype.ZB=function(){return this.iv};m.prototype.fC=function(a){this.vi=a||0;a=this.Cc();this.ag.get(a);this.mc();return a.Kc()?this.i.ah(a.data):this.i.Kl(a.data)};
m.prototype.gC=function(){return this.zc};m.prototype.eC=function(){return this.key};m.prototype.dC=function(){return this.index};m.prototype.cC=function(a){a=a||0;var b=this.ia.type,c=null,c=b.Pa(),d=c.ue();if(d.length)c=d[a%d.length].type;else if(c.Wa.length)c=c.Wa[a%c.Wa.length].type;else if(b.u.length)c=b.u[a%b.u.length].type;else return 0;return this.index+c.Zn[b.Zg]};m.prototype.$B=function(){return this.Yi};m.prototype.YB=function(){return this.vv};m.prototype.iC=function(){var a,b;a=0;for(b=
this.Dj.length;a<b;a++)this.Tm[a]=this.Dj[a].get();return this.Tm};Qb=m;l.prototype.fc=function(){this.pb=b(this.pb)};l.prototype.wp=function(a){var b=this.i.zv();this.parent&&!this.Wl&&b?(this.nj>=b.length&&(b.length=this.nj+1),b[this.nj]=a):this.data=a};l.prototype.XB=function(){var a=this.i.zv();return!this.parent||this.Wl||!a||this.xo?this.data:this.nj>=a.length||"undefined"===typeof a[this.nj]?this.Ir:a[this.nj]};l.prototype.nc=function(){!this.parent||this.Wl||this.xo||this.wp(this.Ir)};Kb=
l;k.prototype.toString=function(){return"include:"+this.Ql.toString()};k.prototype.fc=function(){this.Ql=this.i.jr[this.oC];this.sheet.Jv.add(this);this.pb=b(this.pb);for(var a=this.parent;a;)a.group&&a.jv.push(this),a=a.parent;this.dE()};k.prototype.nc=function(){this.parent&&this.i.Hm(this.i.V);this.Ql.Er||this.Ql.nc(!0);this.parent&&this.i.Aj(this.i.V)};k.prototype.dE=function(){for(var a=this.parent;a;){if(a.group&&!a.ro){this.Zc=!1;return}a=a.parent}this.Zc=!0};Tb=k;q.prototype.reset=function(a){this.Jd=
a;this.Yd=this.uc=0;this.Jx.length=0;this.hr=this.fj=!1};Jb=q})();
(function(){function a(a,c){this.ia=a;this.i=a.i;this.type=c[0];this.get=[this.sB,this.oB,this.AB,this.DB,this.iB,this.BB,this.wB,this.lB,this.vB,this.zB,this.jB,this.yB,this.mB,this.xB,this.tB,this.uB,this.pB,this.qB,this.kB,this.CB,this.rv,this.rB,this.rv,this.nB][this.type];var e=null;this.Od=this.xa=this.kb=this.Rc=this.Ip=this.Nc=this.first=this.value=null;this.Ne=-1;this.bh=null;this.Qt=-1;this.Yi=this.Um=null;this.Im=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Rb(a,c[1]);break;case 18:this.first=new Rb(a,c[1]);this.Nc=new Rb(a,c[2]);this.Ip=new Rb(a,c[3]);break;case 19:this.Rc=this.i.Ih(c[1]);this.Rc!==y.prototype.wc.random&&this.Rc!==y.prototype.wc.tA||this.ia.yx();this.kb=[];this.xa=[];3===c.length?(e=c[2],this.kb.length=e.length+1):this.kb.length=1;break;case 20:this.Od=this.i.V[c[1]];this.Ne=-1;this.Rc=this.i.Ih(c[2]);this.Im=c[3];Xb.Function&&this.Rc===Xb.Function.prototype.wc.vE&&this.ia.yx();this.bh=c[4]?new Rb(a,c[4]):null;this.kb=[];this.xa=
[];6===c.length?(e=c[5],this.kb.length=e.length+1):this.kb.length=1;break;case 21:this.Od=this.i.V[c[1]];this.Im=c[2];this.bh=c[3]?new Rb(a,c[3]):null;this.Qt=c[4];break;case 22:this.Od=this.i.V[c[1]];this.Od.io(c[2]);this.Ne=this.Od.tr(c[2]);this.Rc=this.i.Ih(c[3]);this.Im=c[4];this.bh=c[5]?new Rb(a,c[5]):null;this.kb=[];this.xa=[];7===c.length?(e=c[6],this.kb.length=e.length+1):this.kb.length=1;break;case 23:this.Um=c[1],this.Yi=null}this.ia.fD(this.Od);4<=this.type&&17>=this.type&&(this.first=
new Rb(a,c[1]),this.Nc=new Rb(a,c[2]));if(e){var h,f;h=0;for(f=e.length;h<f;h++)this.xa.push(new Rb(a,e[h]))}}function c(a,c){this.type=a||Vb.Pj;this.data=c||0;this.Ck=null;this.type==Vb.Pj&&(this.data=Math.floor(this.data))}a.prototype.fc=function(){23===this.type&&(this.Yi=this.ia.i.Av(this.Um,this.ia.se.parent));this.first&&this.first.fc();this.Nc&&this.Nc.fc();this.Ip&&this.Ip.fc();this.bh&&this.bh.fc();if(this.xa){var a,c;a=0;for(c=this.xa.length;a<c;a++)this.xa[a].fc()}};a.prototype.CB=function(a){this.kb[0]=
a;a=this.ia.Cc();var c,e;c=0;for(e=this.xa.length;c<e;c++)this.xa[c].get(a),this.kb[c+1]=a.data;this.ia.mc();this.Rc.apply(this.i.Ag,this.kb)};a.prototype.rv=function(a){var c=this.Od.Pa(),e=c.ue();if(!e.length)if(c.Wa.length)e=c.Wa;else{this.Im?a.ke(""):a.ib(0);return}this.kb[0]=a;a.Ck=this.Od;a=this.ia.Cc();var h,c=0;for(h=this.xa.length;c<h;c++)this.xa[c].get(a),this.kb[c+1]=a.data;c=this.ia.vi;this.bh&&(this.bh.get(a),a.Kc()&&(c=a.data,e=this.Od.u));this.ia.mc();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Ne?(a=0,this.Od.pa&&(a=e.type.ak[this.Od.Zg]),this.Rc.apply(e.Ba[this.Ne+a],this.kb)):this.Rc.apply(e,this.kb)};a.prototype.rB=function(a){var c=this.Od.Pa(),e=c.ue();if(!e.length)if(c.Wa.length)e=c.Wa;else{this.Im?a.ke(""):a.ib(0);return}c=this.ia.vi;if(this.bh){var h=this.ia.Cc();this.bh.get(h);if(h.Kc()){c=h.data;e=this.Od.u;c%=e.length;0>c&&(c+=e.length);e=e[c].yc[this.Qt];u(e)?a.ke(e):a.Z(e);this.ia.mc();return}this.ia.mc()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.Od.pa&&
(c=e.type.Zn[this.Od.Zg]);e=e.yc[this.Qt+c];u(e)?a.ke(e):a.Z(e)};a.prototype.sB=function(a){a.type=Vb.Pj;a.data=this.value};a.prototype.oB=function(a){a.type=Vb.Kj;a.data=this.value};a.prototype.AB=function(a){a.type=Vb.String;a.data=this.value};a.prototype.DB=function(a){this.first.get(a);a.Kc()&&(a.data=-a.data)};a.prototype.iB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data+=c.data,c.ik()&&a.yk());this.ia.mc()};a.prototype.BB=function(a){this.first.get(a);
var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data-=c.data,c.ik()&&a.yk());this.ia.mc()};a.prototype.wB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data*=c.data,c.ik()&&a.yk());this.ia.mc()};a.prototype.lB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data/=c.data,a.yk());this.ia.mc()};a.prototype.vB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data%=c.data,c.ik()&&a.yk());this.ia.mc()};
a.prototype.zB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&(a.data=Math.pow(a.data,c.data),c.ik()&&a.yk());this.ia.mc()};a.prototype.jB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()?c.zo()?a.ke(a.data.toString()+c.data):a.data&&c.data?a.ib(1):a.ib(0):a.zo()&&(a.data=c.zo()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.ia.mc()};a.prototype.yB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.Kc()&&c.Kc()&&
(a.data||c.data?a.ib(1):a.ib(0));this.ia.mc()};a.prototype.kB=function(a){this.first.get(a);a.data?this.Nc.get(a):this.Ip.get(a)};a.prototype.mB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data===c.data?1:0);this.ia.mc()};a.prototype.xB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data!==c.data?1:0);this.ia.mc()};a.prototype.tB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data<c.data?1:0);this.ia.mc()};a.prototype.uB=function(a){this.first.get(a);
var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data<=c.data?1:0);this.ia.mc()};a.prototype.pB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data>c.data?1:0);this.ia.mc()};a.prototype.qB=function(a){this.first.get(a);var c=this.ia.Cc();this.Nc.get(c);a.ib(a.data>=c.data?1:0);this.ia.mc()};a.prototype.nB=function(a){var c=this.Yi.XB();ha(c)?a.Z(c):a.ke(c)};Rb=a;c.prototype.ik=function(){return this.type===Vb.Kj};c.prototype.Kc=function(){return this.type===Vb.Pj||this.type===Vb.Kj};
c.prototype.zo=function(){return this.type===Vb.String};c.prototype.yk=function(){this.ik()||(this.zo()&&(this.data=parseFloat(this.data)),this.type=Vb.Kj)};c.prototype.ib=function(a){this.type=Vb.Pj;this.data=Math.floor(a)};c.prototype.Z=function(a){this.type=Vb.Kj;this.data=a};c.prototype.ke=function(a){this.type=Vb.String;this.data=a};c.prototype.TD=function(a){ha(a)?(this.type=Vb.Kj,this.data=a):u(a)?(this.type=Vb.String,this.data=a.toString()):(this.type=Vb.Pj,this.data=0)};Ub=c;Vb={Pj:0,Kj:1,
String:2}})();function y(a){this.i=a;this.Ud=[]}
y.prototype.Sd=function(){var a={},c,b,d,e,h,f,g,n;a.waits=[];var m=a.waits,l;c=0;for(b=this.Ud.length;c<b;c++){f=this.Ud[c];l={t:f.time,st:f.Ex,s:f.xt,ev:f.Zj.La,sm:[],sols:{}};f.Zj.qf[f.Yd]&&(l.act=f.Zj.qf[f.Yd].La);d=0;for(e=f.pb.length;d<e;d++)l.sm.push(f.pb[d].La);for(h in f.Fd)if(f.Fd.hasOwnProperty(h)){g=this.i.V[parseInt(h,10)];n={sa:f.Fd[h].sp,insts:[]};d=0;for(e=f.Fd[h].dh.length;d<e;d++)n.insts.push(f.Fd[h].dh[d].uid);l.sols[g.La.toString()]=n}m.push(l)}return a};
y.prototype.ye=function(a){a=a.waits;var c,b,d,e,h,f,g,n,m,l,k;c=this.Ud.length=0;for(b=a.length;c<b;c++)if(f=a[c],n=this.i.Zu[f.ev.toString()]){m=-1;d=0;for(e=n.qf.length;d<e;d++)if(n.qf[d].La===f.act){m=d;break}if(-1!==m){g={Fd:{},pb:[],dr:!1};g.time=f.t;g.Ex=f.st||"";g.xt=!!f.s;g.Zj=n;g.Yd=m;d=0;for(e=f.sm.length;d<e;d++)(n=this.i.oo(f.sm[d]))&&g.pb.push(n);for(h in f.sols)if(f.sols.hasOwnProperty(h)&&(n=this.i.oo(parseInt(h,10)))){m=f.sols[h];l={sp:m.sa,dh:[]};d=0;for(e=m.insts.length;d<e;d++)(k=
this.i.Ll(m.insts[d]))&&l.dh.push(k);g.Fd[n.index.toString()]=l}this.Ud.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=y.prototype;a.prototype.Hy=function(){return!0};a.prototype.mu=function(){return!0};a.prototype.lz=function(){return!0};a.prototype.yy=function(a,b,c){return Wb(a,b,c)};a.prototype.Gy=function(a){var b=this.i.jo(),c=b.W.Every_lastTime||0,d=this.i.ai.Lb;"undefined"===typeof b.W.Every_seconds&&(b.W.Every_seconds=a);var e=b.W.Every_seconds;if(d>=c+e)return b.W.Every_lastTime=c+e,d>=b.W.Every_lastTime+.04&&(b.W.Every_lastTime=d),b.W.Every_seconds=
a,!0;d<c-.1&&(b.W.Every_lastTime=d);return!1};a.prototype.Fy=function(){var a=this.i.Sc();return a.hr?!1:!a.fj};a.prototype.nu=function(){return!0};a.prototype.cz=function(){return!0};a.prototype.qq=function(){return!0};a.prototype.mz=function(){return!0};a.prototype.pq=function(){return!0};a.prototype.oy=function(a,b,c){return Ia(w(a),w(c))<=w(b)};a.prototype.Qy=function(a,b){return Ka(w(a),w(b))};a.prototype.Py=function(a,b,c){a=Ga(a);b=Ga(b);c=Ga(c);return Ka(c,b)?Ka(a,b)&&!Ka(a,c):!(!Ka(a,b)&&
Ka(a,c))};d.R=new a;c.prototype.Oy=function(a){this.i.Xl||this.i.xl||(this.i.xl=a)};c.prototype.Dy=function(a,b,c,d){if(b&&a&&(b=this.i.mv(a,b,c,d))){this.i.xf++;var e;this.i.trigger(Object.getPrototypeOf(a.Ub).R.oq,b);if(b.we)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.Ub).R.oq,e);this.i.xf--;a=a.Pa();a.ab=!1;a.u.length=1;a.u[0]=b;if(b.we)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Pa(),a.ab=!1,a.u.length=1,a.u[0]=e}};c.prototype.zz=
function(a,b){0===a.cy?ha(b)?a.wp(b):a.wp(parseFloat(b)):1===a.cy&&a.wp(b.toString())};c.prototype.yz=function(a){0>a&&(a=0);this.i.yi=a};var e=[],h=[];c.prototype.Mz=function(a){if(!(0>a)){var b,c,d,l=this.i.Sc(),k;k=e.length?e.pop():{Fd:{},pb:[]};k.dr=!1;k.time=this.i.ai.Lb+a;k.Ex="";k.xt=!1;k.Zj=l.Jd;k.Yd=l.Yd+1;a=0;for(b=this.i.V.length;a<b;a++)d=this.i.V[a],c=d.Pa(),c.ab&&-1===l.Jd.pb.indexOf(d)||(k.pb.push(d),d=void 0,d=h.length?h.pop():{dh:[]},d.sp=!1,d.sp=c.ab,xa(d.dh,c.u),k.Fd[a.toString()]=
d);this.Ud.push(k);return!0}};d.sb=new c;b.prototype["int"]=function(a,b){u(b)?(a.ib(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.ib(b)};b.prototype["float"]=function(a,b){u(b)?(a.Z(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Z(b)};b.prototype.random=function(a,b,c){void 0===c?a.Z(Math.random()*b):a.Z(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.Z(Math.sqrt(b))};b.prototype.abs=function(a,b){a.Z(Math.abs(b))};b.prototype.round=function(a,b){a.ib(Math.round(b))};b.prototype.floor=function(a,
b){a.ib(Math.floor(b))};b.prototype.ceil=function(a,b){a.ib(Math.ceil(b))};b.prototype.sin=function(a,b){a.Z(Math.sin(w(b)))};b.prototype.cos=function(a,b){a.Z(Math.cos(w(b)))};b.prototype.tan=function(a,b){a.Z(Math.tan(w(b)))};b.prototype.asin=function(a,b){a.Z(Ca(Math.asin(b)))};b.prototype.acos=function(a,b){a.Z(Ca(Math.acos(b)))};b.prototype.atan=function(a,b){a.Z(Ca(Math.atan(b)))};b.prototype.exp=function(a,b){a.Z(Math.exp(b))};b.prototype.log10=function(a,b){a.Z(Math.log(b)/Math.LN10)};b.prototype.max=
function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.Z(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.Z(b)};b.prototype.Aa=function(a){a.Z(this.i.Aa)};b.prototype.yi=function(a){a.Z(this.i.yi)};b.prototype.time=function(a){a.Z(this.i.ai.Lb)};b.prototype.Td=function(a){a.ib(this.i.Td)};
b.prototype.cp=function(a){a.ib(this.i.cp)};b.prototype.qr=function(a){a.ib(this.i.qr)};b.prototype.Wg=function(a,b,c,d,e){a.Z(La(b,c,d,e))};b.prototype.G=function(a,b,c,d,e){a.Z(Ca(Ha(b,c,d,e)))};b.prototype.DC=function(a){a.ib(this.i.yb.width)};b.prototype.find=function(a,b,c){u(b)&&u(c)?a.ib(b.search(new RegExp(Ya(c),"i"))):a.ib(-1)};b.prototype.left=function(a,b,c){a.ke(u(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.ke(u(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,
b,c,d){u(b)&&u(c)&&u(d)?a.ke(b.replace(new RegExp(Ya(c),"gi"),d)):a.ke(u(b)?b:"")};b.prototype.trim=function(a,b){a.ke(u(b)?b.trim():"")};b.prototype.tA=function(a){var b=pa(Math.random()*(arguments.length-1));a.TD(arguments[b+1])};b.prototype.Wq=function(a){a.Z(this.i.Wq/1E3)};b.prototype.No=function(a){a.Z(this.i.No)};d.wc=new b;d.LD=function(){var a,b,c,d,l,k,q=this.i.Sc();a=0;for(c=this.Ud.length;a<c;a++){d=this.Ud[a];if(-1===d.time){if(!d.xt)continue}else if(d.time>this.i.ai.Lb)continue;q.Jd=
d.Zj;q.Yd=d.Yd;q.uc=0;for(b in d.Fd)d.Fd.hasOwnProperty(b)&&(l=this.i.V[parseInt(b,10)].Pa(),k=d.Fd[b],l.ab=k.sp,xa(l.u,k.dh),l=k,l.dh.length=0,h.push(l));d.Zj.JD();this.i.Rq(d.pb);d.dr=!0}b=a=0;for(c=this.Ud.length;a<c;a++)d=this.Ud[a],this.Ud[b]=d,d.dr?(Qa(d.Fd),d.pb.length=0,e.push(d)):b++;this.Ud.length=b}})();
(function(){hb=function(a,b){var d=a[1],e=a[3],h=a[4],f=a[5],g=a[6],n=a[7],m=a[8];b.R||(b.R={});b.sb||(b.sb={});b.wc||(b.wc={});var l=b.R,k=b.sb,q=b.wc;e&&(l.zE=function(a,b){return Wb(this.x,a,b)},l.AE=function(a,b){return Wb(this.y,a,b)},l.FE=function(){var a=this.N;this.Ma();var b=this.Ib;return!(b.right<a.Yb||b.bottom<a.Zb||b.left>a.pc||b.top>a.oc)},l.GE=function(){this.Ma();var a=this.Ib,b=this.i.yb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.VE=function(a,b,c){var d=this.Pa(),
e=d.ue();if(!e.length)return!1;var k=e[0],f=k,g=La(k.x,k.y,b,c),h,l,m;h=1;for(l=e.length;h<l;h++)if(k=e[h],m=La(k.x,k.y,b,c),0===a&&m<g||1===a&&m>g)g=m,f=k;d.Dm(f);return!0},k.oF=function(a){this.x!==a&&(this.x=a,this.na())},k.pF=function(a){this.y!==a&&(this.y=a,this.na())},k.jF=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.na()},k.kF=function(a,b){var c=a.RB(this);if(c){var d;c.cg?(d=c.cg(b,!0),c=c.cg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.na()}},
k.NE=function(a){0!==a&&(this.x+=Math.cos(this.G)*a,this.y+=Math.sin(this.G)*a,this.na())},k.ME=function(a,b){0!==b&&(this.x+=Math.cos(w(a))*b,this.y+=Math.sin(w(a))*b,this.na())},q.zq=function(a){a.Z(this.x)},q.Aq=function(a){a.Z(this.y)},q.Aa=function(a){a.Z(this.i.dk(this))});h&&(l.yE=function(a,b){return Wb(this.width,a,b)},l.wE=function(a,b){return Wb(this.height,a,b)},k.Az=function(a){this.width!==a&&(this.width=a,this.na())},k.gF=function(a){this.height!==a&&(this.height=a,this.na())},k.lF=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.na()},q.tF=function(a){a.Z(this.width)},q.BE=function(a){a.Z(this.height)},q.sE=function(a){this.Ma();a.Z(this.Ib.left)},q.uE=function(a){this.Ma();a.Z(this.Ib.top)},q.tE=function(a){this.Ma();a.Z(this.Ib.right)},q.rE=function(a){this.Ma();a.Z(this.Ib.bottom)});f&&(l.oy=function(a,b){return Ia(this.G,w(b))<=w(a)},l.Qy=function(a){return Ka(this.G,w(a))},l.Py=function(a,b){var c=Ga(a),d=Ga(b),e=Ea(this.G);return Ka(d,
c)?Ka(e,c)&&!Ka(e,d):!(!Ka(e,c)&&Ka(e,d))},k.jl=function(a){a=w(Da(a));isNaN(a)||this.G===a||(this.G=a,this.na())},k.aF=function(a){0===a||isNaN(a)||(this.G+=w(a),this.G=Ea(this.G),this.na())},k.bF=function(a){0===a||isNaN(a)||(this.G-=w(a),this.G=Ea(this.G),this.na())},k.cF=function(a,b){var c=Ja(this.G,w(b),w(a));isNaN(c)||this.G===c||(this.G=c,this.na())},k.dF=function(a,b,c){a=Ja(this.G,Math.atan2(c-this.y,b-this.x),w(a));isNaN(a)||this.G===a||(this.G=a,this.na())},k.mF=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.G===c||(this.G=c,this.na())},q.lE=function(a){a.Z(Fa(this.G))});d||(l.Zt=function(a,b,c){return Wb(this.yc[a],b,c)},l.DE=function(a){return this.yc[a]},l.WE=function(a,b){var c=this.Pa(),d=c.ue();if(!d.length)return!1;var e=d[0],k=e,f=e.yc[b],g,h,l;g=1;for(h=d.length;g<h;g++)if(e=d[g],l=e.yc[b],0===a&&l<f||1===a&&l>f)f=l,k=e;c.Dm(k);return!0},l.UE=function(a){var b,c,d,e,k;if(this.i.jo().uo){k=this.Pa();if(k.ab)for(k.ab=!1,k.u.length=0,k.Wa.length=0,d=this.u,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?k.Wa.push(e):k.u.push(e);else{d=b=0;for(c=k.u.length;b<c;b++)e=k.u[b],k.u[d]=e,e.uid===a?k.Wa.push(e):d++;k.u.length=d}this.Me();return!!k.u.length}e=this.i.Ll(a);if(!e)return!1;k=this.Pa();if(!k.ab&&-1===k.u.indexOf(e))return!1;if(this.pa)for(a=e.type.Jb,b=0,c=a.length;b<c;b++){if(a[b]===this)return k.Dm(e),this.Me(),!0}else if(e.type===this)return k.Dm(e),this.Me(),!0;return!1},l.oq=function(){return!0},l.ez=function(){return!0},k.hF=function(a,b){var c=this.yc;
ha(c[a])?c[a]=ha(b)?b:parseFloat(b):u(c[a])&&(c[a]=u(b)?b:b.toString())},k.ky=function(a,b){var c=this.yc;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):u(c[a])&&(c[a]=u(b)?c[a]+b:c[a]+b.toString())},k.Hz=function(a,b){var c=this.yc;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},k.eF=function(a,b){this.yc[a]=b?1:0},k.rF=function(a){this.yc[a]=1-this.yc[a]},k.rd=function(){this.i.Ci(this)},k.Vy||(k.Vy=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.Ko(this,b,!0);this.Mg&&this.Mg();
if(this.Ba)for(a=0,b=this.Ba.length;a<b;++a)c=this.Ba[a],c.Mg&&c.Mg()}),q.Cy=function(a){var b=a.Ck.u.length,c,d,e;c=0;for(d=this.i.sf.length;c<d;c++)e=this.i.sf[c],a.Ck.pa?0<=e.type.Jb.indexOf(a.Ck)&&b++:e.type===a.Ck&&b++;a.ib(b)},q.YE=function(a){a.ib(a.Ck.Pa().ue().length)},q.sF=function(a){a.ib(this.uid)},q.CE=function(a){a.ib(this.Nl())},q.qy||(q.qy=function(a){a.ke(JSON.stringify(this.i.pt(this,!0)))}));g&&(l.IE=function(){return this.visible},k.nF=function(a){!a!==!this.visible&&(this.visible=
a,this.i.$a=!0)},l.xE=function(a,b){return Wb(db(100*this.opacity),a,b)},k.iF=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.$a=!0)},q.Opacity=function(a){a.Z(db(100*this.opacity))});n&&(l.EE=function(a){return a?this.N===a:!1},l.XE=function(a){var b=this.Pa(),c=b.ue();if(!c.length)return!1;var d=c[0],e=d,k,f;k=1;for(f=c.length;k<f;k++)if(d=c[k],0===a){if(d.N.index>e.N.index||d.N.index===e.N.index&&d.dg()>e.dg())e=d}else if(d.N.index<e.N.index||d.N.index===e.N.index&&
d.dg()<e.dg())e=d;b.Dm(e);return!0},k.QE=function(){var a=this.N,b=a.u;b.length&&b[b.length-1]===this||(a.Hk(this,!1),a.rl(this,!1),this.i.$a=!0)},k.OE=function(){var a=this.N,b=a.u;b.length&&b[0]===this||(a.Hk(this,!1),a.AD(this),this.i.$a=!0)},k.PE=function(a){a&&a!=this.N&&(this.N.Hk(this,!0),this.N=a,a.rl(this,!0),this.i.$a=!0)},k.vF=function(a,b){var c=0===a;if(b){var d=b.MB(this);d&&d.uid!==this.uid&&(this.N.index!==d.N.index&&(this.N.Hk(this,!0),this.N=d.N,d.N.rl(this,!0)),this.N.jD(this,d,
c),this.i.$a=!0)}},q.KE=function(a){a.ib(this.N.Ow)},q.JE=function(a){a.ke(this.N.name)},q.uF=function(a){a.ib(this.dg())});m&&(k.fF=function(a,b){if(this.i.X){var c=this.type.yr(b);if(!(0>c)){var d=1===a;this.Lh[c]!==d&&(this.Lh[c]=d,this.Ch(),this.i.$a=!0)}}},k.vz=function(a,b,c){if(this.i.X){var d=this.type.yr(a);0>d||(a=this.type.ua[d],d=this.Ob[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.X.UB(a.Uc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Zc&&(this.i.$a=!0))))}})};Bb=function(){this.Mq=this.Jq=!0;
this.type.tn=!0;this.i.$a=!0;var a,b,d=this.Kq;a=0;for(b=d.length;a<b;++a)d[a](this);this.N.Mf&&this.Ma()};Cb=function(a){a&&this.Kq.push(a)};Eb=function(){if(this.Jq){var a=this.Ib,b=this.jb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Ld*this.width,-this.Md*this.height);this.G?(a.offset(-this.x,-this.y),b.Ax(a,this.G),b.offset(this.x,this.y),b.$u(a)):b.Km(a);a.normalize();this.Jq=!1;this.fE()}};var a=new sa(0,0,0,0);Fb=function(){if(this.N.Mf){var c=this.N.ie,b=this.Ib;
a.set(c.oe(b.left),c.pe(b.top),c.oe(b.right),c.pe(b.bottom));this.Rd.Un(a)||(this.Rd.right<this.Rd.left?c.update(this,null,a):c.update(this,this.Rd,a),this.Rd.zl(a),this.N.yh=!0)}};Gb=function(){if(this.Mq&&this.Qg){this.Ma();var c=this.type.Gn,b=this.Ib;a.set(c.oe(b.left),c.pe(b.top),c.oe(b.right),c.pe(b.bottom));this.Qh.Un(a)||(this.Qh.right<this.Qh.left?c.update(this,null,a):c.update(this,this.Qh,a),this.Qh.zl(a),this.Mq=!1)}};Db=function(a,b){return this.Ib.ed(a,b)&&this.jb.ed(a,b)?this.Ga&&!this.Ga.dj()?
(this.Ga.Si(this.width,this.height,this.G),this.Ga.ed(a-this.x,b-this.y)):!0:!1};xb=function(){this.type.Tp();return this.aj};Hb=function(){this.N.Mt();return this.Of};Ib=function(){this.Va.length=0;var a,b;a=0;for(b=this.Lh.length;a<b;a++)this.Lh[a]&&this.Va.push(this.type.ua[a]);this.by=!!this.Va.length};yb=function(){return"Inst"+this.jx};kb=function(a){if(a&&a.we&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Pa().ue();return a.length?
a[0]:null};lb=function(a){var b=this.Pa().ue();return b.length?b[a.Nl()%b.length]:null};jb=function(){if(this.Mk&&!this.pa){var a,b;a=0;for(b=this.u.length;a<b;a++)this.u[a].aj=a;var d=a,e=this.i.sf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].aj=d++);this.Mk=!1}};ub=function(a){if(a<this.u.length)return this.u[a];a-=this.u.length;var b=this.i.sf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};mb=function(){return this.wi[this.Vg]};nb=function(){this.Vg++;
this.Vg===this.wi.length?this.wi.push(new ib(this)):this.wi[this.Vg].ab=!0};ob=function(){this.Vg++;this.Vg===this.wi.length&&this.wi.push(new ib(this));var a=this.wi[this.Vg],b=this.wi[this.Vg-1];b.ab?a.ab=!0:(a.ab=!1,xa(a.u,b.u),xa(a.Wa,b.Wa))};pb=function(){this.Vg--};qb=function(a){var b,d,e,h,f,g=0;if(!this.pa)for(b=0,d=this.Jb.length;b<d;b++)for(f=this.Jb[b],e=0,h=f.ic.length;e<h;e++){if(a===f.ic[e].name)return this.W.lastBehIndex=g,f.ic[e];g++}b=0;for(d=this.ic.length;b<d;b++){if(a===this.ic[b].name)return this.W.lastBehIndex=
g,this.ic[b];g++}return null};rb=function(a){return this.io(a)?this.W.lastBehIndex:-1};sb=function(a){var b,d;b=0;for(d=this.ua.length;b<d;b++)if(this.ua[b].name===a)return b;return-1};tb=function(){if(this.we&&!this.pa){var a,b,d,e,h,f,g;this.Tp();f=this.Pa();var n=f.ab,m=(a=this.i.Sc())&&a.Jd&&a.Jd.df;a=0;for(b=this.ae.length;a<b;a++)if(h=this.ae[a],h!==this&&(h.Tp(),g=h.Pa(),g.ab=n,!n)){g.u.length=f.u.length;d=0;for(e=f.u.length;d<e;d++)g.u[d]=h.Bv(f.u[d].aj);if(m)for(g.Wa.length=f.Wa.length,d=
0,e=f.Wa.length;d<e;d++)g.Wa[d]=h.Bv(f.Wa[d].aj)}}};wb=function(){return"Type"+this.La};Wb=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var ec={setcolor:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float red;\nuniform lowp float green;\nuniform lowp float blue;\nvoid main(void)\n{\nlowp float a = texture2D(samplerFront, vTex).a;\ngl_FragColor = vec4(vec3(red, green, blue) * a, a);\n}",Wn:0,Xn:0,Zq:!1,Hq:!1,xa:[["red",0,1],["green",0,1],["blue",0,1]]}};function ic(a){this.i=a}
(function(){function a(){}function c(){}var b=ic.prototype;b.Nb=function(a){this.Ub=a;this.i=a.i};b.Nb.prototype.Ua=function(){};b.rb=function(a){this.type=a;this.i=a.i;this.Lq=Array(4);this.Px=this.Qp=this.Nk=this.mi=this.li=0;this.Cr=!1};var d=b.rb.prototype;d.Ua=function(){var a=this;if(!this.i.Pb){jQuery(document).mousemove(function(b){a.Us(b)});jQuery(document).mousedown(function(b){a.Ts(b)});jQuery(document).mouseup(function(b){a.Vs(b)});jQuery(document).dblclick(function(b){a.oD(b)});var b=
function(b){a.tD(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.Us=function(a){var b=this.i.Pb?e:jQuery(this.i.canvas).offset();this.li=a.pageX-b.left;this.mi=a.pageY-b.top};d.Jw=function(){return 0<this.i.Kd?!0:0<=this.li&&0<=this.mi&&this.li<this.i.width&&this.mi<this.i.height};d.Ts=function(a){this.Jw()&&(this.i.fk&&!this.i.We&&a.preventDefault(),this.Lq[a.which]=!0,this.i.yd=!0,this.i.trigger(ic.prototype.R.bz,this),this.Nk=
a.which-1,this.Qp=0,this.i.trigger(ic.prototype.R.nq,this),this.i.trigger(ic.prototype.R.qu,this),this.i.yd=!1)};d.Vs=function(a){this.Lq[a.which]&&(this.i.fk&&!this.i.We&&a.preventDefault(),this.i.fk=!0,this.Lq[a.which]=!1,this.i.yd=!0,this.Nk=a.which-1,this.i.trigger(ic.prototype.R.nz,this),this.i.yd=!1)};d.oD=function(a){this.Jw()&&(a.preventDefault(),this.i.yd=!0,this.Nk=a.which-1,this.Qp=1,this.i.trigger(ic.prototype.R.nq,this),this.i.trigger(ic.prototype.R.qu,this),this.i.yd=!1)};d.tD=function(a){this.Px=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Cr=!1;this.i.yd=!0;this.i.trigger(ic.prototype.R.qz,this);this.i.yd=!1;this.Cr&&fb(a)&&a.preventDefault()};a.prototype.nq=function(a,b){return a===this.Nk&&b===this.Qp};a.prototype.bz=function(){return!0};a.prototype.nz=function(a){return a===this.Nk};a.prototype.qu=function(a,b,c){return a!==this.Nk||b!==this.Qp?!1:this.i.Pm(c,this.li,this.mi)};a.prototype.qz=function(a){this.Cr=!0;return a===this.Px};b.R=new a;b.sb=new function(){};c.prototype.zq=
function(a,b){var c,d,e,l,k;ga(b)?(c=this.i.ah(0),d=c.scale,e=c.qd,l=c.Pd,k=c.G,c.scale=1,c.qd=1,c.Pd=1,c.G=0,a.Z(c.tc(this.li,this.mi,!0)),c.scale=d,c.qd=e,c.Pd=l,c.G=k):(c=ha(b)?this.i.ah(b):this.i.Kl(b))?a.Z(c.tc(this.li,this.mi,!0)):a.Z(0)};c.prototype.Aq=function(a,b){var c,d,e,l,k;ga(b)?(c=this.i.ah(0),d=c.scale,e=c.qd,l=c.Qd,k=c.G,c.scale=1,c.qd=1,c.Qd=1,c.G=0,a.Z(c.tc(this.li,this.mi,!1)),c.scale=d,c.qd=e,c.Qd=l,c.G=k):(c=ha(b)?this.i.ah(b):this.i.Kl(b))?a.Z(c.tc(this.li,this.mi,!1)):a.Z(0)};
b.wc=new c})();function hc(a){this.i=a}
(function(){function a(){if(0===this.br.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Lk?b.drawImage(this.bb,this.Dk,this.Ek,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.bb,0,0,this.width,this.height);this.br=a.toDataURL("image/png")}return this.br}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=k.length?k.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function h(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return q=a[b][2],!0;q=-2;return!1}var g=hc.prototype;g.Nb=function(a){this.Ub=a;this.i=a.i};var n=g.Nb.prototype;n.Ua=function(){if(!this.pa){var b,c,d,e,k,f,g,h,l;this.rf=[];this.Pl=!1;b=0;for(c=this.Zd.length;b<c;b++){k=this.Zd[b];g={};g.name=k[0];g.speed=k[1];g.loop=k[2];g.kt=k[3];g.pp=k[4];g.$w=
k[5];g.La=k[6];g.frames=[];d=0;for(e=k[7].length;d<e;d++)f=k[7][d],h={},h.Ct=f[0],h.Dt=f[1],h.Dk=f[2],h.Ek=f[3],h.width=f[4],h.height=f[5],h.duration=f[6],h.Ld=f[7],h.Md=f[8],h.Gr=f[9],h.fp=f[10],h.ax=f[11],h.Lk=0!==h.width,h.br="",h.DF=a,l={left:0,top:0,right:1,bottom:1},h.ut=l,h.zb=null,(l=this.i.HB(f[0]))?h.bb=l:(h.bb=new Image,h.bb.vA=f[0],h.bb.lv=f[1],h.bb.pA=null,this.i.gy(h.bb,f[0])),g.frames.push(h),this.rf.push(h);this.Zd[b]=g}}};n.Yx=function(){var a,b,c;a=0;for(b=this.u.length;a<b;a++)c=
this.u[a],c.Nn=c.Pe.zb};n.dp=function(){if(!this.pa){var a,b,c;a=0;for(b=this.rf.length;a<b;++a)c=this.rf[a],c.bb.pA=null,c.zb=null;this.Pl=!1;this.Yx()}};n.Ws=function(){if(!this.pa&&this.u.length){var a,b,c;a=0;for(b=this.rf.length;a<b;++a)c=this.rf[a],c.zb=this.i.X.Mo(c.bb,!1,this.i.Xa,c.ax);this.Yx()}};n.ns=function(){if(!this.pa&&!this.Pl&&this.i.X){var a,b,c;a=0;for(b=this.rf.length;a<b;++a)c=this.rf[a],c.zb=this.i.X.Mo(c.bb,!1,this.i.Xa,c.ax);this.Pl=!0}};n.Jt=function(){if(!this.pa&&!this.u.length&&
this.Pl){var a,b,c;a=0;for(b=this.rf.length;a<b;++a)c=this.rf[a],this.i.X.deleteTexture(c.zb),c.zb=null;this.Pl=!1}};var m=[];n.ct=function(a){var b,c,d;b=m.length=0;for(c=this.rf.length;b<c;++b)d=this.rf[b].bb,-1===m.indexOf(d)&&(a.drawImage(d,0,0),m.push(d))};g.rb=function(a){this.type=a;this.i=a.i;a=this.type.Zd[0].frames[0].fp;this.he?this.Ga.Lm(a):this.Ga=new Za(a)};var l=g.rb.prototype;l.Ua=function(){this.visible=0===this.da[0];this.Qg=0!==this.da[3];1===this.type.Zd.length&&1===this.type.Zd[0].frames.length||
0===this.type.Zd[0].speed||this.i.Nx(this);this.tb=this.yv(this.da[1])||this.type.Zd[0];this.aa=this.da[2];0>this.aa&&(this.aa=0);this.aa>=this.tb.frames.length&&(this.aa=this.tb.frames.length-1);var a=this.tb.frames[this.aa];this.Ga.Lm(a.fp);this.Ld=a.Ld;this.Md=a.Md;this.Al=this.tb.speed;this.he?this.Vf.reset():this.Vf=new Xa;this.$g=this.Vf.Lb;this.Pi=!0;this.Ng=0;this.Oi=!0;this.Qq=this.Tu="";this.rA=0;this.Pq=-1;this.type.ns();var b,c,d,e,k,f,g,a=0;for(b=this.type.Zd.length;a<b;a++)for(e=this.type.Zd[a],
c=0,d=e.frames.length;c<d;c++)k=e.frames[c],0===k.width&&(k.width=k.bb.width,k.height=k.bb.height),k.Lk&&(g=k.bb,f=k.ut,f.left=k.Dk/g.width,f.top=k.Ek/g.height,f.right=(k.Dk+k.width)/g.width,f.bottom=(k.Ek+k.height)/g.height,0===k.Dk&&0===k.Ek&&k.width===g.width&&k.height===g.height&&(k.Lk=!1));this.Pe=this.tb.frames[this.aa];this.Nn=this.Pe.zb};l.Sd=function(){var a={a:this.tb.La,f:this.aa,cas:this.Al,fs:this.$g,ar:this.Ng,at:this.Vf.Lb};this.Pi||(a.ap=this.Pi);this.Oi||(a.af=this.Oi);return a};
l.ye=function(a){var b=this.KB(a.a);b&&(this.tb=b);this.aa=a.f;0>this.aa&&(this.aa=0);this.aa>=this.tb.frames.length&&(this.aa=this.tb.frames.length-1);this.Al=a.cas;this.$g=a.fs;this.Ng=a.ar;this.Vf.reset();this.Vf.Lb=a.at;this.Pi=a.hasOwnProperty("ap")?a.ap:!0;this.Oi=a.hasOwnProperty("af")?a.af:!0;this.Pe=this.tb.frames[this.aa];this.Nn=this.Pe.zb;this.Ga.Lm(this.Pe.fp);this.Ld=this.Pe.Ld;this.Md=this.Pe.Md};l.Iq=function(a){this.aa=a?0:this.tb.frames.length-1;this.Pi=!1;this.Tu=this.tb.name;this.i.trigger(hc.prototype.R.az,
this);this.i.trigger(hc.prototype.R.$y,this);this.Ng=0};l.FF=function(){return this.Vf.Lb};l.He=function(){this.Vf.add(this.i.dk(this));this.Qq.length&&this.CA();0<=this.Pq&&this.DA();var a=this.Vf.Lb,b=this.tb,c=b.frames[this.aa],d=c.duration/this.Al;this.Pi&&a>=this.$g+d&&(this.Oi?this.aa++:this.aa--,this.$g+=d,this.aa>=b.frames.length&&(b.$w?(this.Oi=!1,this.aa=b.frames.length-2):b.loop?this.aa=b.pp:(this.Ng++,this.Ng>=b.kt?this.Iq(!1):this.aa=b.pp)),0>this.aa&&(b.$w?(this.aa=1,this.Oi=!0,b.loop||
(this.Ng++,this.Ng>=b.kt&&this.Iq(!0))):b.loop?this.aa=b.pp:(this.Ng++,this.Ng>=b.kt?this.Iq(!0):this.aa=b.pp)),0>this.aa?this.aa=0:this.aa>=b.frames.length&&(this.aa=b.frames.length-1),a>this.$g+b.frames[this.aa].duration/this.Al&&(this.$g=a),a=b.frames[this.aa],this.Qj(c,a),this.i.$a=!0)};l.yv=function(a){var b,c,d;b=0;for(c=this.type.Zd.length;b<c;b++)if(d=this.type.Zd[b],eb(d.name,a))return d;return null};l.KB=function(a){var b,c,d;b=0;for(c=this.type.Zd.length;b<c;b++)if(d=this.type.Zd[b],d.La===
a)return d;return null};l.CA=function(){var a=this.tb.frames[this.aa],b=this.yv(this.Qq);this.Qq="";!b||eb(b.name,this.tb.name)&&this.Pi||(this.tb=b,this.Al=b.speed,0>this.aa&&(this.aa=0),this.aa>=this.tb.frames.length&&(this.aa=this.tb.frames.length-1),1===this.rA&&(this.aa=0),this.Pi=!0,this.$g=this.Vf.Lb,this.Oi=!0,this.Qj(a,this.tb.frames[this.aa]),this.i.$a=!0)};l.DA=function(){var a=this.tb.frames[this.aa],b=this.aa;this.aa=pa(this.Pq);0>this.aa&&(this.aa=0);this.aa>=this.tb.frames.length&&
(this.aa=this.tb.frames.length-1);b!==this.aa&&(this.Qj(a,this.tb.frames[this.aa]),this.$g=this.Vf.Lb,this.i.$a=!0);this.Pq=-1};l.Qj=function(a,b){var c=a.width,d=a.height,e=b.width,k=b.height;c!=e&&(this.width*=e/c);d!=k&&(this.height*=k/d);this.Ld=b.Ld;this.Md=b.Md;this.Ga.Lm(b.fp);this.na();this.Pe=b;this.Nn=b.zb;c=0;for(d=this.Ba.length;c<d;c++)e=this.Ba[c],e.sD&&e.sD(a,b);this.i.trigger(hc.prototype.R.Qj,this)};l.Zf=function(a){a.globalAlpha=this.opacity;var b=this.Pe,c=b.Lk,d=b.bb,e=this.x,
k=this.y,f=this.width,g=this.height;if(0===this.G&&0<=f&&0<=g)e-=this.Ld*f,k-=this.Md*g,this.i.rg&&(e=Math.round(e),k=Math.round(k)),c?a.drawImage(d,b.Dk,b.Ek,b.width,b.height,e,k,f,g):a.drawImage(d,e,k,f,g);else{this.i.rg&&(e=Math.round(e),k=Math.round(k));a.save();var h=0<f?1:-1,l=0<g?1:-1;a.translate(e,k);1===h&&1===l||a.scale(h,l);a.rotate(this.G*h*l);e=0-this.Ld*ka(f);k=0-this.Md*ka(g);c?a.drawImage(d,b.Dk,b.Ek,b.width,b.height,e,k,ka(f),ka(g)):a.drawImage(d,e,k,ka(f),ka(g));a.restore()}};l.Se=
function(a){a.je(this.Nn);a.Cj(this.opacity);var b=this.Pe,c=this.jb;if(this.i.rg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Lk?a.tg(c.Wb+d,c.Xb+e,c.od+d,c.pd+e,c.cd+d,c.dd+e,c.$c+d,c.bd+e,b.ut):a.kp(c.Wb+d,c.Xb+e,c.od+d,c.pd+e,c.cd+d,c.dd+e,c.$c+d,c.bd+e)}else b.Lk?a.tg(c.Wb,c.Xb,c.od,c.pd,c.cd,c.dd,c.$c,c.bd,b.ut):a.kp(c.Wb,c.Xb,c.od,c.pd,c.cd,c.dd,c.$c,c.bd)};l.OB=function(a){var b=this.Pe,c,d;c=0;for(d=b.Gr.length;c<d;c++)if(eb(a,b.Gr[c][0]))return c;return-1};l.cg=function(a,
b){var c=this.Pe,d=c.Gr,e;e=u(a)?this.OB(a):a-1;e=pa(e);if(0>e||e>=d.length)return b?this.x:this.y;var k=(d[e][1]-c.Ld)*this.width,d=d[e][2],d=(d-c.Md)*this.height,c=Math.cos(this.G);e=Math.sin(this.G);var f=k*c-d*e,d=d*c+k*e,k=f+this.x,d=d+this.y;return b?k:d};var k=[],q=-2,p=[];c.prototype.dz=function(a){if(!a)return!1;var c=this.i,d=c.jo(),k=d.type;d.W.collmemory||(d.W.collmemory={},c.Pu(function(a){return function(c){c=c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===c||e[1]===c)&&
(b(a[d]),delete a[d])}}(d.W.collmemory)));var d=d.W.collmemory,g=k.Pa(),l=a.Pa(),g=g.ue(),m,n,s,v,t,x,B,ua=this.i.Td,M=ua-1,I=c.Sc().Jd;for(n=0;n<g.length;n++){s=g[n];l.ab?(s.Ma(),this.i.ur(s.N,a,s.Ib,p),m=p):m=l.ue();for(v=0;v<m.length;v++)t=m[v],c.xi(s,t)||c.sA(s,t)?(x=f(d,s,t),x=!x||q<M,e(d,s,t,ua),x&&(c.ip(I.pb),x=k.Pa(),B=a.Pa(),x.ab=!1,B.ab=!1,k===a?(x.u.length=2,x.u[0]=s,x.u[1]=t,k.Me()):(x.u.length=1,B.u.length=1,x.u[0]=s,B.u[0]=t,k.Me(),a.Me()),I.KD(),c.Aj(I.pb))):h(d,s,t);p.length=0}return!1};
var s=null,t=new ca,v=!1,x=[],B=new sa(0,0,0,0);n.finish=function(a){if(v){if(a){var b=this.i.Sc().Jd.df;a=s.Pa();var c=t.Eg(),d,e;if(a.ab){a.ab=!1;a.u.length=c.length;d=0;for(e=c.length;d<e;d++)a.u[d]=c[d];if(b)for(d=a.Wa.length=0,e=s.u.length;d<e;d++)c=s.u[d],t.contains(c)||a.Wa.push(c)}else if(b)for(b=a.u.length,a.u.length=b+c.length,d=0,e=c.length;d<e;d++)a.u[b+d]=c[d],Ba(a.Wa,c[d]);else xa(a.u,c);s.Me()}t.clear();v=!1}};c.prototype.Sy=function(a){if(a){var b=!1,c,d,e,k=this.i.jo(),f=k.type,k=
k.uo;c=a.Pa();d=this.i.Sc().Jd.df;var g;c.ab?(this.Ma(),B.zl(this.Ib),B.offset(0,0),this.i.ur(this.N,a,B,x),g=x):g=d?c.Wa:c.u;s=a;v=f!==a&&!k;c=0;for(d=g.length;c<d;c++)if(e=g[c],this.i.xi(this,e)){b=!0;if(k)break;f!==a&&t.add(e)}x.length=0;a=b}else a=!1;return a};c.prototype.$y=function(a){return eb(this.Tu,a)};c.prototype.az=function(){return!0};c.prototype.Qj=function(){return!0};g.R=new c;g.sb=new function(){};g.wc=new function(){}})();function jc(a){this.i=a}
(function(){function a(){return g.length?g.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)g.push(a[b]);a.length=0}function b(){}function d(){}var e=jc.prototype;e.Ua=function(){e.sb.Az=function(a){this.width!==a&&(this.width=a,this.Ej=!0,this.na())}};e.Nb=function(a){this.Ub=a;this.i=a.i};var h=e.Nb.prototype;h.Ua=function(){};h.dp=function(){if(!this.pa){var a,b,c;a=0;for(b=this.u.length;a<b;a++)c=this.u[a],c.pg=null,c.zj=null,c.ge=null}};e.rb=function(a){this.type=a;this.i=a.i;this.he?
this.ci.length=0:this.ci=[];this.Ej=!0};h=e.rb.prototype;h.Ua=function(){this.text=this.da[0];this.visible=0===this.da[1];this.font=this.da[2];this.color=this.da[3];this.to=this.da[4];this.Vp=this.da[5];this.Tt=0===this.da[7];this.gs=this.Fo=this.width;this.Eo=this.height;this.ls=this.da[8];this.co=this.$j="";this.Lx=this.Mx=this.Gm=0;this.uD();this.ge=this.zj=this.pg=null;this.Mw=!1;this.am=this.i.Td;this.he?this.qi.set(0,0,1,1):this.qi=new sa(0,0,1,1);this.i.X&&this.i.Nx(this)};h.uD=function(){var a=
this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Gm=parseInt(a[b].substr(0,a[b].length-2));this.ft=Math.ceil(this.Gm/72*96)+4;0<b&&(this.co=a[b-1]);this.$j=a[b+1];for(b+=2;b<a.length;b++)this.$j+=" "+a[b];break}};h.Sd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.to,va:this.Vp,wr:this.Tt,lho:this.ls,fn:this.$j,fs:this.co,ps:this.Gm,pxh:this.ft,tw:this.Mx,th:this.Lx,lrt:this.am}};h.ye=function(a){this.text=a.t;this.font=a.f;this.color=a.c;
this.to=a.ha;this.Vp=a.va;this.Tt=a.wr;this.ls=a.lho;this.$j=a.fn;this.co=a.fs;this.Gm=a.ps;this.ft=a.pxh;this.Mx=a.tw;this.Lx=a.th;this.am=a.lrt;this.Ej=!0;this.gs=this.Fo=this.width;this.Eo=this.height};h.He=function(){if(this.i.X&&this.ge&&300<=this.i.Td-this.am){var a=this.N;this.Ma();var b=this.Ib;if(b.right<a.Yb||b.bottom<a.Zb||b.left>a.pc||b.top>a.oc)this.i.X.deleteTexture(this.ge),this.pg=this.zj=this.ge=null}};h.Fk=function(){this.pg=this.zj=null;this.i.X&&this.ge&&this.i.X.deleteTexture(this.ge);
this.ge=null};h.RF=function(){this.font=this.co+" "+this.Gm.toString()+"pt "+this.$j;this.Ej=!0;this.i.$a=!0};h.Zf=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.N.ve(),a.save(),a.scale(c,c));if(this.Ej||this.width!==this.gs)this.type.Ub.Nz(this.text,this.ci,a,this.width,this.Tt),this.Ej=!1,this.gs=this.width;this.Ma();var c=b?0:this.jb.Wb,d=b?0:this.jb.Xb;this.i.rg&&(c=c+.5|0,d=d+.5|0);0===this.G||b||(a.save(),a.translate(c,
d),a.rotate(this.G),d=c=0);var e=d+this.height,f=this.ft,f=f+this.ls,g,h;1===this.Vp?d+=Math.max(this.height/2-this.ci.length*f/2,0):2===this.Vp&&(d+=Math.max(this.height-this.ci.length*f-2,0));for(h=0;h<this.ci.length&&!(g=c,1===this.to?g=c+(this.width-this.ci[h].width)/2:2===this.to&&(g=c+(this.width-this.ci[h].width)),a.fillText(this.ci[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.G||b)&&a.restore();this.am=this.i.Td};h.Se=function(a){if(!(1>this.width||1>this.height)){var b=this.Ej||this.Mw;this.Mw=
!1;var c=this.N.ve(),d=this.N.te(),e=this.qi,f=c*this.width,g=c*this.height,h=Math.ceil(f),v=Math.ceil(g),x=this.i.Ia/2,B=this.i.Ha/2;this.zj||(this.pg=document.createElement("canvas"),this.pg.width=h,this.pg.height=v,this.Fo=h,this.Eo=v,b=!0,this.zj=this.pg.getContext("2d"));if(h!==this.Fo||v!==this.Eo)this.pg.width=h,this.pg.height=v,this.ge&&(a.deleteTexture(this.ge),this.ge=null),b=!0;b&&(this.zj.clearRect(0,0,h,v),this.Zf(this.zj,!0),this.ge||(this.ge=a.Rg(h,v,this.i.Xa,this.i.We)),a.kE(this.pg,
this.ge,this.i.We));this.Fo=h;this.Eo=v;a.je(this.ge);a.Cj(this.opacity);a.wg();a.translate(-x,-B);a.Dg();var z=this.jb,b=this.N.Kb(z.Wb,z.Xb,!0,!0),x=this.N.Kb(z.Wb,z.Xb,!1,!0),B=this.N.Kb(z.od,z.pd,!0,!0),A=this.N.Kb(z.od,z.pd,!1,!0),D=this.N.Kb(z.cd,z.dd,!0,!0),E=this.N.Kb(z.cd,z.dd,!1,!0),C=this.N.Kb(z.$c,z.bd,!0,!0),z=this.N.Kb(z.$c,z.bd,!1,!0);if(this.i.rg||0===this.G&&0===d)var G=(b+.5|0)-b,F=(x+.5|0)-x,b=b+G,x=x+F,B=B+G,A=A+F,D=D+G,E=E+F,C=C+G,z=z+F;0===this.G&&0===d?(B=b+h,A=x,D=B,E=x+v,
C=b,z=E,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/v);a.tg(b,x,B,A,D,E,C,z,e);a.wg();a.scale(c,c);a.mt(-this.N.te());a.translate((this.N.Yb+this.N.pc)/-2,(this.N.Zb+this.N.oc)/-2);a.Dg();this.am=this.i.Td}};var f=[];e.Jz=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=
c,d++);b.length&&f.push(b)};var g=[];e.Nz=function(b,d,e,k,f){if(b&&b.length)if(2>=k)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var g=e.measureText(b).width;if(g<=k){c(d);d.push(a());d[0].text=b;d[0].width=g;return}}this.Oz(b,d,e,k,f)}else c(d)};e.Oz=function(b,c,d,e,h){h&&(this.Jz(b),b=f);var p="",s,t,v,x=0;for(v=0;v<b.length;v++)"\n"===b[v]?(x>=c.length&&c.push(a()),t=c[x],t.text=p,t.width=d.measureText(p).width,x++,p=""):(s=p,p+=b[v],t=d.measureText(p).width,t>=e&&(x>=c.length&&c.push(a()),
t=c[x],t.text=s,t.width=d.measureText(s).width,x++,p=b[v],h||" "!==p||(p="")));p.length&&(x>=c.length&&c.push(a()),t=c[x],t.text=p,t.width=d.measureText(p).width,x++);for(v=x;v<c.length;v++)g.push(c[v]);c.length=x};e.R=new function(){};b.prototype.xz=function(a){ha(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Ej=!0,this.i.$a=!0)};e.sb=new b;d.prototype.Text=function(a){a.ke(this.text)};e.wc=new d})();function kc(a){this.i=a}
(function(){var a=kc.prototype;a.Nb=function(a){this.Ub=a;this.i=a.i};var c=a.Nb.prototype;c.Ua=function(){this.pa||(this.bb=new Image,this.bb.lv=this.Dt,this.i.gy(this.bb,this.Ct),this.zb=this.pattern=null)};c.dp=function(){this.pa||(this.zb=null)};c.Ws=function(){if(!this.pa&&this.u.length){this.zb||(this.zb=this.i.X.Mo(this.bb,!0,this.i.Xa,this.Et));var a,c;a=0;for(c=this.u.length;a<c;a++)this.u[a].zb=this.zb}};c.ns=function(){this.pa||this.zb||!this.i.X||(this.zb=this.i.X.Mo(this.bb,!0,this.i.Xa,
this.Et))};c.Jt=function(){this.pa||this.u.length||!this.zb||(this.i.X.deleteTexture(this.zb),this.zb=null)};c.ct=function(a){a.drawImage(this.bb,0,0)};a.rb=function(a){this.type=a;this.i=a.i};c=a.rb.prototype;c.Ua=function(){this.visible=0===this.da[0];this.qi=new sa(0,0,0,0);this.Iv=!1;this.bb=this.type.bb;this.i.X?(this.type.ns(),this.zb=this.type.zb):(this.type.pattern||(this.type.pattern=this.i.hb.createPattern(this.type.bb,"repeat")),this.pattern=this.type.pattern)};c.Mg=function(){this.Iv=
!1;this.bb=this.type.bb};c.Fk=function(){this.i.X&&this.Iv&&this.zb&&(this.i.X.deleteTexture(this.zb),this.zb=null)};c.Zf=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.i.rg&&(c=Math.round(c),e=Math.round(e));var h=-(this.Ld*this.width),f=-(this.Md*this.height),g=h%this.bb.width,n=f%this.bb.height;0>g&&(g+=this.bb.width);0>n&&(n+=this.bb.height);a.translate(c,e);a.rotate(this.G);a.translate(g,n);a.fillRect(h-g,f-n,this.width,this.height);a.restore()};
c.Se=function(a){a.je(this.zb);a.Cj(this.opacity);var c=this.qi;c.right=this.width/this.bb.width;c.bottom=this.height/this.bb.height;var e=this.jb;if(this.i.rg){var h=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.tg(e.Wb+h,e.Xb+f,e.od+h,e.pd+f,e.cd+h,e.dd+f,e.$c+h,e.bd+f,c)}else a.tg(e.Wb,e.Xb,e.od,e.pd,e.cd,e.dd,e.$c,e.bd,c)};a.R=new function(){};a.sb=new function(){};a.wc=new function(){}})();function J(a){this.i=a}
(function(){function a(a){m=a.x;l=a.y;k=a.z}function c(a){q=a.x;p=a.y;s=a.z}function b(a,b,c,e){var k;k=t.length?t.pop():new d;k.init(a,b,c,e);return k}function d(){this.Nm=this.id=this.ij=this.hj=this.y=this.x=this.Fp=this.Ep=this.ds=this.time=this.zt=0;this.Rm=this.Rp=!1}function e(){}function h(){}var f=J.prototype;f.Nb=function(a){this.Ub=a;this.i=a.i};f.Nb.prototype.Ua=function(){};f.rb=function(a){this.type=a;this.i=a.i;this.touches=[];this.Ns=!1};var g=f.rb.prototype,n={left:0,top:0};g.Hl=
function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,l=0,k=0,q=0,p=0,s=0,t=[];d.prototype.init=function(a,b,c,d){var e=Ra();this.zt=this.ds=this.time=e;this.Ep=a;this.Fp=b;this.x=a;this.y=b;this.hj=a;this.ij=b;this.id=c;this.Nm=d;this.Rm=this.Rp=!1};d.prototype.update=function(a,b,c){this.ds=this.time;this.time=a;this.hj=this.x;this.ij=this.y;this.x=b;this.y=c;!this.Rm&&15<=La(this.Ep,this.Fp,this.x,this.y)&&(this.Rm=!0)};d.prototype.eD=function(a,
b){!this.Rp&&500<=Ra()-this.zt&&!this.Rm&&15>La(this.Ep,this.Fp,this.x,this.y)&&(this.Rp=!0,a.Cg=this.Nm,a.Ok=this.id,a.ek=b,a.i.trigger(J.prototype.R.jz,a),a.Tg=this.x,a.Ug=this.y,a.i.trigger(J.prototype.R.kz,a),a.ek=0)};var v=-1E3,x=-1E3,B=-1E4;d.prototype.Hw=function(a,b){if(!this.Rp){var c=Ra();333>=c-this.zt&&!this.Rm&&15>La(this.Ep,this.Fp,this.x,this.y)&&(a.Cg=this.Nm,a.Ok=this.id,a.ek=b,666>=c-B&&25>La(v,x,this.x,this.y)?(a.i.trigger(J.prototype.R.fz,a),a.Tg=this.x,a.Ug=this.y,a.i.trigger(J.prototype.R.gz,
a),x=v=-1E3,B=-1E4):(a.i.trigger(J.prototype.R.ru,a),a.Tg=this.x,a.Ug=this.y,a.i.trigger(J.prototype.R.oz,a),v=this.x,x=this.y,B=c),a.ek=0)}};g.Ua=function(){this.zC=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ek=this.Ok=this.Cg=this.Ug=this.Tg=this.Nu=this.Mu=this.Lu=this.bA=this.aA=this.$z=this.Cm=this.Bm=this.Am=0;this.hE=0!==this.da[0];var b=0<this.i.Kd?document:this.i.canvas,d=document;this.i.fh?d=b=window.Canvas:this.i.Ve&&(d=b=window);var e=this;window.navigator.pointerEnabled?
(b.addEventListener("pointerdown",function(a){e.Tw(a)},!1),b.addEventListener("pointermove",function(a){e.Sw(a)},!1),d.addEventListener("pointerup",function(a){e.ep(a,!1)},!1),d.addEventListener("pointercancel",function(a){e.ep(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){e.Tw(a)},!1),b.addEventListener("MSPointerMove",function(a){e.Sw(a)},!1),d.addEventListener("MSPointerUp",function(a){e.ep(a,!1)},!1),d.addEventListener("MSPointerCancel",function(a){e.ep(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",
function(a){e.Vw(a)},!1),b.addEventListener("touchmove",function(a){e.Uw(a)},!1),d.addEventListener("touchend",function(a){e.Xs(a,!1)},!1),d.addEventListener("touchcancel",function(a){e.Xs(a,!0)},!1));if(this.zC){var k=function(a){a=a.reading;e.Lu=a.accelerationX;e.Mu=a.accelerationY;e.Nu=a.accelerationZ},f=function(a){a=a.reading;e.Am=a.yawDegrees;e.Bm=a.pitchDegrees;e.Cm=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",k));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",k),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",k),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){e.Am=a.alpha||0;e.Bm=a.beta||0;e.Cm=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.$z=a.accelerationIncludingGravity.x||0,e.aA=a.accelerationIncludingGravity.y||0,e.bA=a.accelerationIncludingGravity.z||0);a.acceleration&&(e.Lu=a.acceleration.x||0,e.Mu=a.acceleration.y||0,e.Nu=a.acceleration.z||0)},!1);this.hE&&!this.i.Pb&&(jQuery(document).mousemove(function(a){e.Us(a)}),jQuery(document).mousedown(function(a){e.Ts(a)}),jQuery(document).mouseup(function(a){e.Vs(a)}));
this.i.Tl&&!this.i.fh&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.i.vf&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.i.ZD(this)};g.Sw=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Hl(a.pointerId),c=Ra();if(0<=b){var d=this.i.Pb?n:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};g.Tw=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var c=this.i.Pb?n:jQuery(this.i.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Ra();this.Cg=this.touches.length;this.Ok=a.pointerId;this.touches.push(b(d,c,a.pointerId,this.Cg));this.i.yd=!0;this.i.trigger(J.prototype.R.pu,this);this.i.trigger(J.prototype.R.uu,this);this.Tg=d;this.Ug=c;this.i.trigger(J.prototype.R.tu,this);
this.i.yd=!1}};g.ep=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var c=this.Hl(a.pointerId);this.Cg=0<=c?this.touches[c].Nm:-1;this.Ok=0<=c?this.touches[c].id:-1;this.i.yd=!0;this.i.trigger(J.prototype.R.ou,this);this.i.trigger(J.prototype.R.su,this);0<=c&&(b||this.touches[c].Hw(this,c),100>t.length&&t.push(this.touches[c]),this.touches.splice(c,1));this.i.yd=!1}};g.Uw=function(a){a.preventDefault&&a.preventDefault();
var b=Ra(),c,d,e,k;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],k=this.Hl(e.identifier),0<=k){var f=this.i.Pb?n:jQuery(this.i.canvas).offset();k=this.touches[k];2>b-k.time||k.update(b,e.pageX-f.left,e.pageY-f.top)}};g.Vw=function(a){a.preventDefault&&fb(a)&&a.preventDefault();var c=this.i.Pb?n:jQuery(this.i.canvas).offset();Ra();this.i.yd=!0;var d,e,k,f;d=0;for(e=a.changedTouches.length;d<e;d++)if(k=a.changedTouches[d],f=this.Hl(k.identifier),-1===f){f=k.pageX-c.left;var g=k.pageY-
c.top;this.Cg=this.touches.length;this.Ok=k.identifier;this.touches.push(b(f,g,k.identifier,this.Cg));this.i.trigger(J.prototype.R.pu,this);this.i.trigger(J.prototype.R.uu,this);this.Tg=f;this.Ug=g;this.i.trigger(J.prototype.R.tu,this)}this.i.yd=!1};g.Xs=function(a,b){a.preventDefault&&fb(a)&&a.preventDefault();this.i.yd=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Hl(e.identifier),0<=e&&(this.Cg=this.touches[e].Nm,this.Ok=this.touches[e].id,this.i.trigger(J.prototype.R.ou,
this),this.i.trigger(J.prototype.R.su,this),b||this.touches[e].Hw(this,e),100>t.length&&t.push(this.touches[e]),this.touches.splice(e,1));this.i.yd=!1};g.AF=function(){return this.i.Tl&&0===this.Am&&0!==k?90*k:this.i.vf&&0===this.Am&&0!==s?90*s:this.Am};g.BF=function(){return this.i.Tl&&0===this.Bm&&0!==l?-90*l:this.i.vf&&0===this.Bm&&0!==p?90*p:this.Bm};g.EF=function(){return this.i.Tl&&0===this.Cm&&0!==m?90*m:this.i.vf&&0===this.Cm&&0!==q?90*q:this.Cm};g.Ts=function(a){a.preventDefault&&this.i.fk&&
!this.i.We&&a.preventDefault();this.Vw({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Ns=!0};g.Us=function(a){this.Ns&&this.Uw({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.Vs=function(a){a.preventDefault&&this.i.fk&&!this.i.We&&a.preventDefault();this.i.fk=!0;this.Xs({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Ns=!1};g.Jp=function(){var a,b,c,d=Ra();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.ds=d),c.eD(this,
a)};e.prototype.uu=function(){return!0};e.prototype.su=function(){return!0};e.prototype.Ry=function(){return this.touches.length};e.prototype.tu=function(a){return a?this.i.Pm(a,this.Tg,this.Ug):!1};var z=[];e.prototype.Ty=function(a){if(!a)return!1;var b=a.Pa(),c=b.ue(),d,e,k,f,g,h;k=0;for(f=c.length;k<f;k++){var l=c[k];l.Ma();g=0;for(h=this.touches.length;g<h;g++)if(e=this.touches[g],d=l.N.tc(e.x,e.y,!0),e=l.N.tc(e.x,e.y,!1),l.ed(d,e)){z.push(l);break}}return z.length?(b.ab=!1,xa(b.u,z),a.Me(),
z.length=0,!0):!1};e.prototype.pu=function(a){a=Math.floor(a);return a===this.Cg};e.prototype.ou=function(a){a=Math.floor(a);return a===this.Cg};e.prototype.jz=function(){return!0};e.prototype.ru=function(){return!0};e.prototype.fz=function(){return!0};e.prototype.kz=function(a){return a?this.i.Pm(a,this.Tg,this.Ug):!1};e.prototype.oz=function(a){return a?this.i.Pm(a,this.Tg,this.Ug):!1};e.prototype.gz=function(a){return a?this.i.Pm(a,this.Tg,this.Ug):!1};f.R=new e;h.prototype.zq=function(a,b){var c=
this.ek;if(0>c||c>=this.touches.length)a.Z(0);else{var d,e,k,f,g;ga(b)?(d=this.i.ah(0),e=d.scale,k=d.qd,f=d.Pd,g=d.G,d.scale=1,d.qd=1,d.Pd=1,d.G=0,a.Z(d.tc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.qd=k,d.Pd=f,d.G=g):(d=ha(b)?this.i.ah(b):this.i.Kl(b))?a.Z(d.tc(this.touches[c].x,this.touches[c].y,!0)):a.Z(0)}};h.prototype.Aq=function(a,b){var c=this.ek;if(0>c||c>=this.touches.length)a.Z(0);else{var d,e,k,f,g;ga(b)?(d=this.i.ah(0),e=d.scale,k=d.qd,f=d.Qd,g=d.G,d.scale=1,d.qd=1,d.Qd=1,d.G=
0,a.Z(d.tc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.qd=k,d.Qd=f,d.G=g):(d=ha(b)?this.i.ah(b):this.i.Kl(b))?a.Z(d.tc(this.touches[c].x,this.touches[c].y,!1)):a.Z(0)}};f.wc=new h})();function lc(a){this.i=a}
(function(){var a=lc.prototype;a.Nb=function(a){this.behavior=a;this.i=a.i};a.Nb.prototype.Ua=function(){};a.rb=function(a,c){this.type=a;this.behavior=a.behavior;this.C=c;this.i=a.i};var c=a.rb.prototype;c.Ua=function(){var a=this.da[0];this.Gd=this.da[1];this.ho=this.da[2];this.nA=0!==this.da[3];this.tt=0!==this.da[4];this.ja=Math.cos(this.C.G)*a;this.fa=Math.sin(this.C.G)*a;this.hj=this.C.x;this.ij=this.C.y;this.fg=this.C.G;this.Pp=0;this.enabled=0!==this.da[5]};c.Sd=function(){return{acc:this.Gd,
g:this.ho,dx:this.ja,dy:this.fa,lx:this.hj,ly:this.ij,lka:this.fg,t:this.Pp,e:this.enabled}};c.ye=function(a){this.Gd=a.acc;this.ho=a.g;this.ja=a.dx;this.fa=a.dy;this.hj=a.lx;this.ij=a.ly;this.fg=a.lka;this.Pp=a.t;this.enabled=a.e};c.He=function(){if(this.enabled){var a=this.i.dk(this.C),c,e;this.C.G!==this.fg&&(this.tt&&(c=La(0,0,this.ja,this.fa),this.ja=Math.cos(this.C.G)*c,this.fa=Math.sin(this.C.G)*c),this.fg=this.C.G);0!==this.Gd&&(c=La(0,0,this.ja,this.fa),e=0===this.ja&&0===this.fa?this.C.G:
Ha(0,0,this.ja,this.fa),c+=this.Gd*a,0>c&&(c=0),this.ja=Math.cos(e)*c,this.fa=Math.sin(e)*c);0!==this.ho&&(this.fa+=this.ho*a);this.hj=this.C.x;this.ij=this.C.y;if(0!==this.ja||0!==this.fa)if(this.C.x+=this.ja*a,this.C.y+=this.fa*a,this.Pp+=La(0,0,this.ja*a,this.fa*a),this.tt&&(this.C.G=Ha(0,0,this.ja,this.fa),this.C.na(),this.fg=this.C.G),this.C.na(),this.nA&&(c=this.i.Kf(this.C)))this.i.Gk(this.C,c),c=La(0,0,this.ja,this.fa),e=this.i.qA(this.C,this.hj,this.ij),this.ja=Math.cos(e)*c,this.fa=Math.sin(e)*
c,this.C.x+=this.ja*a,this.C.y+=this.fa*a,this.C.na(),this.tt&&(this.fg=this.C.G=e,this.C.na()),this.i.FD(this.C,this.ja/c,this.fa/c,Math.max(2.5*c*a,30))||this.i.kx(this.C,100)}};a.R=new function(){};a.sb=new function(){};a.wc=new function(){}})();function mc(a){this.i=a}
(function(){function a(){}var c=mc.prototype;c.Nb=function(a){this.behavior=a;this.i=a.i};c.Nb.prototype.Ua=function(){};c.rb=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.i=a.i;this.zp=this.yp=this.xp=this.Ap=this.Fr=this.qp=this.Io=this.Tn=this.Up=!1;this.cs=this.bs=this.as=this.es=-1;this.fa=this.ja=0};var b=c.rb.prototype;b.Ua=function(){this.xm=this.da[0];this.Gd=this.da[1];this.Yf=this.da[2];this.er=this.da[3];this.Gq=this.da[4];this.yA=1===this.da[5];this.enabled=0!==this.da[6];
this.yA&&!this.i.Pb&&(jQuery(document).keydown(function(a){return function(b){a.qD(b)}}(this)),jQuery(document).keyup(function(a){return function(b){a.rD(b)}}(this)))};b.Sd=function(){return{dx:this.ja,dy:this.fa,enabled:this.enabled,maxspeed:this.xm,acc:this.Gd,dec:this.Yf,ignoreInput:this.Fr}};b.ye=function(a){this.ja=a.dx;this.fa=a.dy;this.enabled=a.enabled;this.xm=a.maxspeed;this.Gd=a.acc;this.Yf=a.dec;this.Fr=a.ignoreInput;this.zp=this.yp=this.xp=this.Ap=this.qp=this.Io=this.Tn=this.Up=!1;this.cs=
this.bs=this.as=this.es=-1};b.qD=function(a){var b=this.i.Td;switch(a.which){case 37:a.preventDefault();this.bs<b&&(this.Io=!0);break;case 38:a.preventDefault();this.es<b&&(this.Up=!0);break;case 39:a.preventDefault();this.cs<b&&(this.qp=!0);break;case 40:a.preventDefault(),this.as<b&&(this.Tn=!0)}};b.rD=function(a){var b=this.i.Td;switch(a.which){case 37:a.preventDefault();this.Io=!1;this.bs=b;break;case 38:a.preventDefault();this.Up=!1;this.es=b;break;case 39:a.preventDefault();this.qp=!1;this.cs=
b;break;case 40:a.preventDefault(),this.Tn=!1,this.as=b}};b.He=function(){var a=this.i.dk(this.C),b=this.Io||this.yp,c=this.qp||this.zp,f=this.Up||this.Ap,g=this.Tn||this.xp;this.xp=this.Ap=this.zp=this.yp=!1;if(this.enabled){var n=this.i.Kf(this.C);if(n&&(this.i.Gk(this.C,n),!this.i.kx(this.C)))return;this.Fr&&(g=f=c=b=!1);0===this.er?c=b=!1:1===this.er&&(g=f=!1);2===this.er&&(f||g)&&(c=b=!1);b==c&&(0>this.ja?(this.ja+=this.Yf*a,0<this.ja&&(this.ja=0)):0<this.ja&&(this.ja-=this.Yf*a,0>this.ja&&(this.ja=
0)));f==g&&(0>this.fa?(this.fa+=this.Yf*a,0<this.fa&&(this.fa=0)):0<this.fa&&(this.fa-=this.Yf*a,0>this.fa&&(this.fa=0)));b&&!c&&(this.ja=0<this.ja?this.ja-(this.Gd+this.Yf)*a:this.ja-this.Gd*a);c&&!b&&(this.ja=0>this.ja?this.ja+(this.Gd+this.Yf)*a:this.ja+this.Gd*a);f&&!g&&(this.fa=0<this.fa?this.fa-(this.Gd+this.Yf)*a:this.fa-this.Gd*a);g&&!f&&(this.fa=0>this.fa?this.fa+(this.Gd+this.Yf)*a:this.fa+this.Gd*a);if(0!==this.ja||0!==this.fa){Math.sqrt(this.ja*this.ja+this.fa*this.fa)>this.xm&&(n=Math.atan2(this.fa,
this.ja),this.ja=this.xm*Math.cos(n),this.fa=this.xm*Math.sin(n));c=this.C.x;f=this.C.y;b=this.C.G;this.C.x+=this.ja*a;this.C.na();if(n=this.i.Kf(this.C))this.C.x=c,this.ja=0,this.C.na(),this.i.Gk(this.C,n);this.C.y+=this.fa*a;this.C.na();if(n=this.i.Kf(this.C))this.C.y=f,this.fa=0,this.C.na(),this.i.Gk(this.C,n);a=db(this.ja);n=db(this.fa);if(0!==a||0!==n)1===this.Gq?this.C.G=Ga(90*Math.round(Ca(Math.atan2(n,a))/90)):2===this.Gq?this.C.G=Ga(45*Math.round(Ca(Math.atan2(n,a))/45)):3===this.Gq&&(this.C.G=
Math.atan2(n,a));this.C.na();this.C.G!=b&&(n=this.i.Kf(this.C))&&(this.C.G=b,this.C.na(),this.i.Gk(this.C,n))}}};c.R=new function(){};a.prototype.Bz=function(a){switch(a){case 0:this.yp=!0;break;case 1:this.zp=!0;break;case 2:this.Ap=!0;break;case 3:this.xp=!0}};c.sb=new a;c.wc=new function(){}})();function nc(a){this.i=a}
(function(){function a(){}function c(){}var b=nc.prototype;b.Nb=function(a){this.behavior=a;this.i=a.i};b.Nb.prototype.Ua=function(){};b.rb=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.i=a.i};var d=b.rb.prototype;d.Ua=function(){var a=1===this.da[0];this.Fl=this.da[1];this.Ym=this.da[2];this.Yn=this.da[3];this.AA=this.da[4];this.le=a?0:3;this.he?this.gf.reset():this.gf=new Xa;this.yj=this.C.opacity?this.C.opacity:1;a&&(0===this.Fl?(this.le=1,0===this.Ym&&(this.le=2)):(this.C.opacity=
0,this.i.$a=!0))};d.Sd=function(){return{fit:this.Fl,wt:this.Ym,fot:this.Yn,s:this.le,st:this.gf.Lb,mo:this.yj}};d.ye=function(a){this.Fl=a.fit;this.Ym=a.wt;this.Yn=a.fot;this.le=a.s;this.gf.reset();this.gf.Lb=a.st;this.yj=a.mo};d.He=function(){this.gf.add(this.i.dk(this.C));0===this.le&&(this.C.opacity=this.gf.Lb/this.Fl*this.yj,this.i.$a=!0,this.C.opacity>=this.yj&&(this.C.opacity=this.yj,this.le=1,this.gf.reset(),this.i.trigger(nc.prototype.R.hz,this.C)));1===this.le&&this.gf.Lb>=this.Ym&&(this.le=
2,this.gf.reset(),this.i.trigger(nc.prototype.R.pz,this.C));2===this.le&&0!==this.Yn&&(this.C.opacity=this.yj-this.gf.Lb/this.Yn*this.yj,this.i.$a=!0,0>this.C.opacity&&(this.C.opacity=0,this.le=3,this.gf.reset(),this.i.trigger(nc.prototype.R.iz,this.C),1===this.AA&&this.i.Ci(this.C)))};d.RA=function(){this.le=0;this.gf.reset();0===this.Fl?(this.le=1,0===this.Ym&&(this.le=2)):(this.C.opacity=0,this.i.$a=!0)};a.prototype.iz=function(){return!0};a.prototype.hz=function(){return!0};a.prototype.pz=function(){return!0};
b.R=new a;c.prototype.Gz=function(){3===this.le&&this.RA()};b.sb=new c;b.wc=new function(){}})();function K(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ea("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.Xj;this.mb=new l;this.nb=new l;this.Nf=null;void 0!==a&&(this.J=a);void 0!==b&&(this.L=b);void 0!==d&&this.mb.F(d);void 0!==e&&this.nb.F(e);this.Bk=this.Fw=this.Nt=this.ts=this.vg=0;this.Yj=this.Xi=!1}function c(a){this.J=a.J;this.L=a.L;this.Nf=a.Nf;this.type=a.type;this.next=null}function b(a,
b){this.Ro=[];this.xb=[];this.qj=[];this.lh=null;this.SC=[];this.Sb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.Cb=a;this.wb=b;this.ZC=c}function h(a,b){var c=a.Nf;a.Nf=null;this.Ea=b;this.A=new n(a.position,m.Lj(a.G));this.pm=[];this.km=a.Zc;a.type===h.qe&&(a.tf=0);this.kc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Sb,a);a.Nf=c}function f(a,b,c,d){this.mm=a;this.ys=c;this.sh={};this.sh.Ad=l.q(0,0);this.Uo=!1;this.So=d.tf;this.As=d.bg;this.Hs=
d.xg;this.Uo=d.Pr}function g(){}function n(a,b){this.position=l.q(0,0);this.n=new m;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.F(a),this.n.nf(b))}function m(){this.j=l.q(0,0);this.k=l.q(0,0);this.Jh()}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}N=l;l.Lg=[];l.q=function(a,b){if(0<N.Lg.length){var c=N.Lg.pop();c.Set(a,b);return c}return new N(a,b)};l.$b=function(a){1E4>N.Lg.length&&N.Lg.push(a)};l.prototype.ea=function(){this.y=this.x=0};l.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};l.prototype.F=function(a){this.x=a.x;this.y=a.y};l.LE=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return l.q(a,b)};l.prototype.hc=function(){return l.q(this.x,this.y)};l.prototype.Hg=function(a){this.x+=a.x;this.y+=a.y};l.prototype.xq=function(a){this.x-=a.x;this.y-=a.y};l.prototype.ud=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};l.prototype.Tf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.qn=function(){return this.x*
this.x+this.y*this.y};l.prototype.vd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};l.prototype.mq=function(){this.x=-this.x;this.y=-this.y};O=m;m.Lj=function(a){void 0===a&&(a=0);var b=new m;b.Set(a);return b};m.Sf=function(a,b){var c=new m;c.vq(a,b);return c};m.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};m.prototype.vq=function(a,b){this.j.F(a);
this.k.F(b)};m.prototype.hc=function(){var a=new m;a.nf(this);return a};m.prototype.nf=function(a){this.j.F(a.j);this.k.F(a.k)};m.prototype.Zm=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};m.prototype.Jh=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};m.prototype.ea=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};m.prototype.sd=function(){return Math.atan2(this.j.y,this.j.x)};m.prototype.dq=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,e=this.k.y,
f=b*e-c*d;0!==f&&(f=1/f);a.j.x=f*e;a.k.x=-f*c;a.j.y=-f*d;a.k.y=f*b;return a};m.prototype.Kh=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,e=this.k.x,f=this.j.y,g=this.k.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};m.prototype.Gg=function(){this.j.Gg();this.k.Gg()};oc=n;n.prototype.ac=function(a,b){this.position.F(a);this.n.nf(b)};n.prototype.Jh=function(){this.position.ea();this.n.Jh()};n.prototype.Set=function(a){this.position.F(a.position);this.n.nf(a.n)};
n.prototype.jl=function(){return Math.atan2(this.n.j.y,this.n.j.x)};P=g;g.pn=function(a){void 0===a&&(a=0);return isFinite(a)};g.Ab=function(a,b){return a.x*b.x+a.y*b.y};g.Bi=function(a,b){return a.x*b.y-a.y*b.x};g.Ig=function(a,b){void 0===b&&(b=0);return l.q(b*a.y,-b*a.x)};g.$p=function(a,b){void 0===a&&(a=0);return l.q(-a*b.y,a*b.x)};g.Mb=function(a,b){return l.q(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};g.Jg=function(a,b){return l.q(g.Ab(b,a.j),g.Ab(b,a.k))};g.rc=function(a,b){var c=g.Mb(a.n,
b);c.x+=a.position.x;c.y+=a.position.y;return c};g.kq=function(a,b){var c=g.lb(b,a.position),d=c.x*a.n.j.x+c.y*a.n.j.y;c.y=c.x*a.n.k.x+c.y*a.n.k.y;c.x=d;return c};g.Wk=function(a,b){return l.q(a.x+b.x,a.y+b.y)};g.lb=function(a,b){return l.q(a.x-b.x,a.y-b.y)};g.Ey=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};g.au=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};g.Xy=function(a,b){void 0===a&&(a=0);return l.q(a*b.x,a*b.y)};g.my=function(a,b){return m.Sf(g.Wk(a.j,b.j),g.Wk(a.k,
b.k))};g.Yy=function(a,b){return m.Sf(g.Mb(a,b.j),g.Mb(a,b.k))};g.Zy=function(a,b){var c=l.q(g.Ab(a.j,b.j),g.Ab(a.k,b.j)),d=l.q(g.Ab(a.j,b.k),g.Ab(a.k,b.k));return m.Sf(c,d)};g.Gg=function(a){void 0===a&&(a=0);return 0<a?a:-a};g.Tk=function(a){return l.q(g.Gg(a.x),g.Gg(a.y))};g.iy=function(a){return m.Sf(g.Tk(a.j),g.Tk(a.k))};g.ku=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};g.lu=function(a,b){return l.q(g.ku(a.x,b.x),g.ku(a.y,b.y))};g.iu=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};g.ju=function(a,b){return l.q(g.iu(a.x,b.x),g.iu(a.y,b.y))};g.qb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};g.ry=function(a,b,c){return g.ju(b,g.lu(a,c))};g.qF=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};g.ZE=function(){return 2*Math.random()-1};g.$E=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};g.RE=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};g.HE=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};g.kA=new l(0,0);g.jA=m.Sf(new l(1,0),new l(0,1));g.xF=new n(g.kA,g.jA);R=function(){this.position=l.q(0,0);this.ms=l.q(0,0);this.Nf=null;this.G=0;this.ms.Set(0,0);this.Ni=this.jj=this.Su=0;this.Vu=this.Ru=!0;this.Ri=this.kr=!1;this.type=h.qe;this.Zc=!0;this.Kv=1};pc=f;f.prototype.Na=function(){return this.mm};f.prototype.qc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};f.prototype.Hi=function(){return this.Uo};qc=h;h.prototype.Jj=function(a){var b=a.Nf;a.Nf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ea.Sb,this.kc,a);a.Nf=b;a=new f(this,0,c,a);this.Ea.qj[c]=a;this.pm.push(a);return a};h.prototype.cq=function(){return 0===this.pm.length?null:this.pm[0]};h.prototype.$t=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ea.Sb,a.ys);delete this.Ea.qj[a.ys]};h.prototype.ml=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ea.Sb,this.kc,a.x,a.y,b);this.A.n.Set(b);this.A.position.F(a)};h.prototype.uq=function(a){this.ml(a,this.sd())};h.prototype.Di=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ea.Sb,this.kc);return l.q(a[0],a[1])};h.prototype.Nj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ea.Sb,this.kc);return l.q(a[0],a[1])};h.prototype.Ei=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ea.Sb,this.kc);return l.q(a[0],a[1])};
h.prototype.Xc=function(a){return g.kq(this.A,a)};h.prototype.Mj=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ea.Sb,this.kc)};h.prototype.Yc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ea.Sb,this.kc)};h.prototype.kn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ea.Sb,this.kc)};h.prototype.Qc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Ea.Sb,this.kc,a)};h.prototype.Ji=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.Ea.Sb,this.kc,a.x,a.y)};h.prototype.Pf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ea.Sb,this.kc,a.x,a.y,b.x,b.y,c)};h.prototype.$m=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ea.Sb,this.kc,a,b)};h.prototype.kl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ea.Sb,this.kc,a)};h.prototype.Gi=function(){return this.km};h.prototype.sd=function(){return this.A.n.sd()};h.prototype.jl=function(a){void 0===a&&(a=0);this.ml(this.A.position,
a)};h.prototype.Gh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ea.Sb,this.kc),b=[],c=0;c<a.length;c++)b.push(this.Ea.Ro[a[c]]);return b};qc.qe=0;qc.Xu=1;qc.sc=2;e.prototype.iq=function(){return this.ZC};rc=d;d.prototype.an=function(){};rc.Wu=new d;sc=function(){};tc=b;b.prototype.Bu=function(a){this.lh=a};b.prototype.Au=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.Sb,function(c,d){return a.Ki(b.qj[c],b.qj[d])})};b.prototype.Zp=
function(a){a=new h(a,this);return this.Ro[a.kc]=a};b.prototype.gn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Sb,a.kc);delete this.Ro[a.kc];for(var b=0;b<a.pm.length;++b)delete this.qj[a.pm[b].ys]};b.prototype.en=function(a){if(a.J.kc!==a.L.kc){var b=a.J,d=a.L;a.J=b.kc;a.L=d.kc;var e="createDistanceJoint";a.type===c.Xj&&(e="createRevoluteJoint");var f=new c(a);f.RC=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Sb,a);a.J=b;a.L=d;this.SC.push(f);return f}};b.prototype.hn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",
this.Sb,a.RC)};b.prototype.Kg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Sb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.Ro[c[a+0]];if(null===d)break;d.A.position.Set(c[a+1],c[a+2]);d.A.n.Set(c[a+3])}if(null!==this.lh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Sb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.qj[c[a+0]],g=this.qj[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.lh.an(new e(f,
g,d))}};b.prototype.Yt=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Sb)};uc=function(a){this.mp=a;this.type="circle"};U=function(){};U.prototype.rn=function(a,b){this.type="box";this.width=a;this.height=b};U.prototype.yu=function(){this.type="edge"};U.prototype.ll=function(a,b){this.type="polygon";this.fy=[];for(var c=0;c<b;c++)this.fy.push(a[c].x),this.fy.push(a[c].y)};vc=function(){this.Nf=this.shape=null;this.bg=.2;this.tf=this.xg=0;this.Pr=!1;this.filter={Vj:1,zk:65535,Wh:0}};
W=c;c.prototype.$k=function(){return this.J};c.prototype.bq=function(){return this.L};c.prototype.Ec=function(){return this.type};c.gr=0;c.Xj=1;wc=function(a,b,d,e){this.type=c.gr;this.mb=l.q(0,0);this.nb=l.q(0,0);this.Nf=null;void 0!==a&&(this.J=a);void 0!==b&&(this.L=b);void 0!==d&&this.mb.F(d);void 0!==e&&this.nb.F(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.Pn=this.fo=0};a.prototype.ac=function(a,b,c){this.J=a;this.L=b;this.mb=this.J.Xc(c);this.nb=this.L.Xc(c);
this.vg=this.L.sd()-this.J.sd()};xc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var P={},yc=2/180*Math.PI,zc=8/180*Math.PI,Ac=.5*Math.PI,Bc=Ac*Ac,Cc=2/180*Math.PI,Dc=Number.MIN_VALUE*Number.MIN_VALUE;P.Ab=function(a,c){return a.x*c.x+a.y*c.y};P.Bi=function(a,c){return a.x*c.y-a.y*c.x};P.Ig=function(a,c){return N.q(c*a.y,-c*a.x)};P.$p=function(a,c){return N.q(-a*c.y,a*c.x)};P.Mb=function(a,c){return N.q(a.j.x*c.x+a.k.x*c.y,a.j.y*
c.x+a.k.y*c.y)};P.Jg=function(a,c){return N.q(P.Ab(c,a.j),P.Ab(c,a.k))};P.rc=function(a,c){var b=P.Mb(a.n,c);b.x+=a.position.x;b.y+=a.position.y;return b};P.kq=function(a,c){var b=P.lb(c,a.position),d=b.x*a.n.j.x+b.y*a.n.j.y;b.y=b.x*a.n.k.x+b.y*a.n.k.y;b.x=d;return b};P.Wk=function(a,c){return N.q(a.x+c.x,a.y+c.y)};P.lb=function(a,c){return N.q(a.x-c.x,a.y-c.y)};P.Ey=function(a,c){return Math.sqrt(P.au(a,c))};P.au=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};P.Xy=function(a,c){return N.q(a*
c.x,a*c.y)};P.my=function(a,c){return O.Sf(P.Wk(a.j,c.j),P.Wk(a.k,c.k))};P.Yy=function(a,c){return O.Sf(P.Mb(a,c.j),P.Mb(a,c.k))};P.Zy=function(a,c){var b=N.q(P.Ab(a.j,c.j),P.Ab(a.k,c.j)),d=N.q(P.Ab(a.j,c.k),P.Ab(a.k,c.k));return O.Sf(b,d)};P.Tk=function(a){return N.q(Math.abs(a.x),Math.abs(a.y))};P.iy=function(a){return O.Sf(P.Tk(a.j),P.Tk(a.k))};P.qb=function(a,c,b){return a<c?c:a>b?b:a};P.ry=function(a,c,b){return N.q(P.qb(a.x,c.x,b.x),P.qb(a.y,c.y,b.y))};var O=function(){this.j=N.q(0,0);this.k=
N.q(0,0);this.Jh()};O.Lj=function(a){var c=new O;c.Set(a);return c};O.Sf=function(a,c){var b=new O;b.vq(a,c);return b};r=O.prototype;r.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.j.Set(c,a);this.k.Set(-a,c)};r.vq=function(a,c){this.j.F(a);this.k.F(c)};r.hc=function(){var a=new O;a.nf(this);return a};r.nf=function(a){this.j.F(a.j);this.k.F(a.k)};r.Zm=function(a){this.j.Hg(a.j);this.k.Hg(a.k)};r.Jh=function(){this.j.Set(1,0);this.k.Set(0,1)};r.ea=function(){this.j.Set(0,0);this.k.Set(0,0)};
r.sd=function(){return Math.atan2(this.j.y,this.j.x)};r.dq=function(a){var c=this.j.x*this.k.y-this.k.x*this.j.y;0!==c&&(c=1/c);a.j.x=c*this.k.y;a.k.x=-c*this.k.x;a.j.y=-c*this.j.y;a.k.y=c*this.j.x;return a};r.Kh=function(a,c,b){var d=this.j.x*this.k.y-this.k.x*this.j.y;0!==d&&(d=1/d);a.x=d*(this.k.y*c-this.k.x*b);a.y=d*(this.j.x*b-this.j.y*c);return a};r.Gg=function(){this.j.Gg();this.k.Gg()};var Fc=function(a,c,b){this.j=new Ec(0,0,0);this.k=new Ec(0,0,0);this.oa=new Ec(0,0,0);a&&this.j.F(a);c&&
this.k.F(c);b&&this.oa.F(b)};r=Fc.prototype;r.hc=function(){return new Fc(this.j,this.k,this.oa)};r.nf=function(a){this.j.F(a.j);this.k.F(a.k);this.oa.F(a.oa)};r.Zm=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.oa.x+=a.oa.x;this.oa.y+=a.oa.y;this.oa.z+=a.oa.z};r.Jh=function(){this.j.Set(1,0,0);this.k.Set(0,1,0);this.oa.Set(0,0,1)};r.ea=function(){this.j.Set(0,0,0);this.k.Set(0,0,0);this.oa.Set(0,0,0)};r.Rj=function(a,c,b){var d=this.j.x,
e=this.k.x,h=this.j.y,f=this.k.y,g=d*f-e*h;0!=g&&(g=1/g);a.x=g*(f*c-e*b);a.y=g*(d*b-h*c);return a};r.nl=function(a,c,b,d){var e=this.j.x,h=this.j.y,f=this.j.z,g=this.k.x,n=this.k.y,m=this.k.z,l=this.oa.x,k=this.oa.y,q=this.oa.z,p=e*(n*q-m*k)+h*(m*l-g*q)+f*(g*k-n*l);0!=p&&(p=1/p);a.x=p*(c*(n*q-m*k)+b*(m*l-g*q)+d*(g*k-n*l));a.y=p*(e*(b*q-d*k)+h*(d*l-c*q)+f*(c*k-b*l));a.z=p*(e*(n*d-m*b)+h*(m*c-g*d)+f*(g*b-n*c));return a};var Gc=function(){this.M=N.q(0,0);this.Hc=N.q(0,0);this.r=N.q(0,0)};Gc.prototype.Set=
function(a){this.M.F(a.M);this.Hc.F(a.Hc);this.r.F(a.r);this.Le=a.Le;this.K=a.K;this.nd=a.nd};Gc.prototype.hc=function(){var a=new Gc;a.M.F(this.M);a.Hc.F(this.Hc);a.r.F(this.r);a.Le=this.Le;a.K=this.K;a.nd=this.nd;return a};Gc.prototype.Wd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Hc.x+c*this.r.x;a.position.y=(1-c)*this.Hc.y+c*this.r.y;a.n.Set((1-c)*this.Le+c*this.K);var b=a.n;a.position.x-=b.j.x*this.M.x+b.k.x*this.M.y;a.position.y-=b.j.y*this.M.x+b.k.y*this.M.y};Gc.prototype.Fh=function(a){void 0===
a&&(a=0);if(this.nd<a&&1-this.nd>Number.MIN_VALUE){var c=(a-this.nd)/(1-this.nd);this.Hc.x=(1-c)*this.Hc.x+c*this.r.x;this.Hc.y=(1-c)*this.Hc.y+c*this.r.y;this.Le=(1-c)*this.Le+c*this.K;this.nd=a}};var oc=function(a,c){this.position=N.q(0,0);this.n=new O;a&&this.position.F(a);c&&this.n.nf(c)};oc.prototype.ac=function(a,c){this.position.F(a);this.n.nf(c)};oc.prototype.Jh=function(){this.position.ea();this.n.Jh()};oc.prototype.Set=function(a){this.position.F(a.position);this.n.nf(a.n)};oc.prototype.sd=
function(){return Math.atan2(this.n.j.y,this.n.j.x)};var N=function(a,c){this.x=a;this.y=c};N.Lg=[];N.q=function(a,c){if(0<N.Lg.length){var b=N.Lg.pop();b.Set(a,c);return b}return new N(a,c)};N.$b=function(a){N.Lg.push(a)};r=N.prototype;r.ea=function(){this.y=this.x=0};r.Set=function(a,c){this.x=a;this.y=c};r.F=function(a){this.x=a.x;this.y=a.y};r.Hh=function(){return N.q(-this.x,-this.y)};r.mq=function(){this.x=-this.x;this.y=-this.y};r.hc=function(){return N.q(this.x,this.y)};r.Hg=function(a){this.x+=
a.x;this.y+=a.y};r.xq=function(a){this.x-=a.x;this.y-=a.y};r.ud=function(a){this.x*=a;this.y*=a};r.Ig=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};r.$p=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};r.lu=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};r.ju=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};r.Gg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.Tf=function(){return Math.sqrt(this.qn())};r.qn=function(){return this.x*
this.x+this.y*this.y};r.vd=function(){var a=this.Tf();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};r.pn=function(){return isFinite(this.x)&&isFinite(this.y)};var Ec=function(a,c,b){this.x=a;this.y=c;this.z=b};r=Ec.prototype;r.ea=function(){this.z=this.y=this.x=0};r.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};r.F=function(a){this.x=a.x;this.y=a.y;this.z=a.z};r.Hh=function(){return new Ec(-this.x,-this.y,-this.z)};r.mq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
r.hc=function(){return new Ec(this.x,this.y,this.z)};r.Hg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};r.xq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};r.ud=function(a){this.x*=a;this.y*=a;this.z*=a};var Hc=function(){this.Qa=.005};r=Hc.prototype;r.Fi=function(){};r.hc=function(){};r.Set=function(a){this.Qa=a.Qa};r.Ij=function(){};r.Xk=function(){};r.dn=function(){};r.tq=function(){};var uc=function(a){this.Qa=.005;this.Qa=a;this.wk=a*a;this.cb=N.q(0,0)};K(uc,Hc);r=uc.prototype;r.Fi=function(){return uc.mf};
r.hc=function(){var a=new uc(this.Qa);a.Set(this);return a};r.Set=function(a){Hc.prototype.Set.call(this,a);a instanceof uc&&this.cb.F(a.cb)};r.Ij=function(a,c){var b=c.n,d=c.position.x+(b.j.x*this.cb.x+b.k.x*this.cb.y),b=c.position.y+(b.j.y*this.cb.x+b.k.y*this.cb.y);a.ya.Set(d-this.Qa,b-this.Qa);a.za.Set(d+this.Qa,b+this.Qa)};r.Xk=function(a,c){a.og=c*Math.PI*this.wk;a.Pg.F(this.cb);a.Oj=a.og*(.5*this.wk+(this.cb.x*this.cb.x+this.cb.y*this.cb.y))};r.dn=function(a,c,b,d){b=P.rc(b,this.cb);var e=
-(P.Ab(a,b)-c);if(e<-this.Qa+Number.MIN_VALUE)return 0;if(e>this.Qa)return d.F(b),Math.PI*this.wk;c=e*e;e=this.wk*(Math.asin(e/this.Qa)+Math.PI/2)+e*Math.sqrt(this.wk-c);c=-2/3*Math.pow(this.wk-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};r.tq=function(a){a.I=[this.cb];a.la=1;a.Qa=this.Qa};uc.mf="b2CircleShape";var Ic=function(a,c){this.Qa=.005;this.ma=a;this.Da=c;this.pj=N.q(this.Da.x-this.ma.x,this.Da.y-this.ma.y);this.Bs=this.pj.vd();this.ra=N.q(this.pj.y,-this.pj.x);N.q(-.04*(this.ra.x-this.pj.x)+
this.ma.x,-.04*(this.ra.y-this.pj.y)+this.ma.y);N.q(-.04*(this.ra.x+this.pj.x)+this.Da.x,-.04*(this.ra.y+this.pj.y)+this.Da.y);N.q(-this.ra.x,-this.ra.y)};K(Ic,Hc);Ic.prototype.Fi=function(){return"b2EdgeShape"};Ic.prototype.Ij=function(a,c){var b=c.n,d=c.position.x+(b.j.x*this.ma.x+b.k.x*this.ma.y),e=c.position.y+(b.j.y*this.ma.x+b.k.y*this.ma.y),h=c.position.x+(b.j.x*this.Da.x+b.k.x*this.Da.y),b=c.position.y+(b.j.y*this.Da.x+b.k.y*this.Da.y);d<h?(a.ya.x=d,a.za.x=h):(a.ya.x=h,a.za.x=d);e<b?(a.ya.y=
e,a.za.y=b):(a.ya.y=b,a.za.y=e)};Ic.prototype.Xk=function(a){a.og=0;a.Pg.F(this.ma);a.Oj=0};Ic.prototype.dn=function(a,c,b,d){void 0===c&&(c=0);var e=N.q(a.x*c,a.y*c),h=P.rc(b,this.ma);b=P.rc(b,this.Da);var f=P.Ab(a,h)-c;a=P.Ab(a,b)-c;if(0<f){if(0<a)return 0;h.x=-a/(f-a)*h.x+f/(f-a)*b.x;h.y=-a/(f-a)*h.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*h.x+f/(f-a)*b.x,b.y=-a/(f-a)*h.y+f/(f-a)*b.y);d.x=(e.x+h.x+b.x)/3;d.y=(e.y+h.y+b.y)/3;return.5*((h.x-e.x)*(b.y-e.y)-(h.y-e.y)*(b.x-e.x))};var Jc=function(){this.og=
0;this.Pg=N.q(0,0);this.Oj=0},U=function(){this.Qa=.005;this.Ad=N.q(0,0);this.I=[];this.ta=[]};K(U,Hc);U.prototype.Fi=function(){return U.mf};U.prototype.hc=function(){var a=new U;a.Set(this);return a};U.prototype.Set=function(a){Hc.prototype.Set.call(this,a);if(a instanceof U){this.Ad.F(a.Ad);this.Ka=a.Ka;this.il(this.Ka);for(var c=0;c<this.Ka;c++)this.I[c].F(a.I[c]),this.ta[c].F(a.ta[c])}};U.prototype.ll=function(a){this.zu(a)};U.mE=function(a){var c=new U;c.ll(a);return c};U.prototype.zu=function(a){var c=
a.length;this.Ka=c;this.il(c);for(c=c=0;c<this.Ka;c++)this.I[c].F(a[c]);for(c=0;c<this.Ka;++c)a=P.lb(this.I[c+1<this.Ka?c+1:0],this.I[c]),this.ta[c].F(P.Ig(a,1)),this.ta[c].vd();this.Ad=U.Ay(this.I,this.Ka)};U.qE=function(a){var c=new U;c.zu(a);return c};U.prototype.rn=function(a,c){this.Ka=4;this.il(4);this.I[0].Set(-a,-c);this.I[1].Set(a,-c);this.I[2].Set(a,c);this.I[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.Ad.ea()};U.nE=function(a,c){var b=
new U;b.rn(a,c);return b};U.prototype.uz=function(a,c,b,d){this.Ka=4;this.il(4);this.I[0].Set(-a,-c);this.I[1].Set(a,-c);this.I[2].Set(a,c);this.I[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.Ad=b;a=new O;a.Set(d);b=new oc(b,a);for(d=0;d<this.Ka;++d)this.I[d]=P.rc(b,this.I[d]),this.ta[d]=P.Mb(b.n,this.ta[d])};U.pE=function(a,c,b,d){var e=new U;e.uz(a,c,b,d);return e};U.prototype.yu=function(a,c){this.Ka=2;this.il(2);this.I[0].F(a);this.I[1].F(c);
this.Ad.x=.5*(a.x+c.x);this.Ad.y=.5*(a.y+c.y);this.ta[0]=P.Ig(P.lb(c,a),1);this.ta[0].vd();this.ta[1].x=-this.ta[0].x;this.ta[1].y=-this.ta[0].y};U.oE=function(a,c){var b=new U;b.yu(a,c);return b};r=U.prototype;r.Ij=function(a,c){for(var b=c.n,d=this.I[0],e=c.position.x+(b.j.x*d.x+b.k.x*d.y),h=c.position.y+(b.j.y*d.x+b.k.y*d.y),f=e,g=h,n=1;n<this.Ka;++n)var d=this.I[n],m=c.position.x+(b.j.x*d.x+b.k.x*d.y),d=c.position.y+(b.j.y*d.x+b.k.y*d.y),e=e<m?e:m,h=h<d?h:d,f=f>m?f:m,g=g>d?g:d;a.ya.x=e-this.Qa;
a.ya.y=h-this.Qa;a.za.x=f+this.Qa;a.za.y=g+this.Qa};r.Xk=function(a,c){if(2==this.Ka)a.Pg.x=.5*(this.I[0].x+this.I[1].x),a.Pg.y=.5*(this.I[0].y+this.I[1].y),a.og=0,a.Oj=0;else{for(var b=0,d=0,e=0,h=0,f=1/3,g=0;g<this.Ka;++g)var n=this.I[g],m=g+1<this.Ka?this.I[g+1]:this.I[0],l=n.x-0,k=n.y-0,q=m.x-0,p=m.y-0,s=l*p-k*q,t=.5*s,e=e+t,b=b+t*f*(0+n.x+m.x),d=d+t*f*(0+n.y+m.y),n=l,h=h+s*(f*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0+(f*(.25*(k*k+p*k+p*p)+(0*k+0*p))+0));a.og=c*e;a.Pg.Set(1/e*b,1/e*d);a.Oj=c*h}};r.dn=function(a,
c,b,d){var e=P.Jg(b.n,a),h=c-P.Ab(a,b.position),f=[],g=0,n=-1;c=-1;var m=!1;for(a=a=0;a<this.Ka;++a){f[a]=P.Ab(e,this.I[a])-h;var l=f[a]<-Number.MIN_VALUE;0<a&&(l?m||(n=a-1,g++):m&&(c=a-1,g++));m=l}switch(g){case 0:return m?(a=new Jc,this.Xk(a,1),d.F(P.rc(b,a.Pg)),a.og):0;case 1:-1==n?n=this.Ka-1:c=this.Ka-1}a=(n+1)%this.Ka;e=(c+1)%this.Ka;h=(0-f[n])/(f[a]-f[n]);f=(0-f[c])/(f[e]-f[c]);n=N.q(this.I[n].x*(1-h)+this.I[a].x*h,this.I[n].y*(1-h)+this.I[a].y*h);c=N.q(this.I[c].x*(1-f)+this.I[e].x*f,this.I[c].y*
(1-f)+this.I[e].y*f);f=0;h=N.q(0,0);for(g=this.I[a];a!=e;)a=(a+1)%this.Ka,m=a==e?c:this.I[a],l=.5*((g.x-n.x)*(m.y-n.y)-(g.y-n.y)*(m.x-n.x)),f+=l,h.x+=l*(n.x+g.x+m.x)/3,h.y+=l*(n.y+g.y+m.y)/3,g=m;h.ud(1/f);d.F(P.rc(b,h));return f};r.tq=function(a){a.I=this.I;a.la=this.Ka;a.Qa=this.Qa};r.nn=function(a){for(var c=0,b=this.I[0].x*a.x+this.I[0].y*a.y,d=1;d<this.Ka;++d){var e=this.I[d].x*a.x+this.I[d].y*a.y;e>b&&(c=d,b=e)}return c};r.cl=function(a){for(var c=0,b=this.I[0].x*a.x+this.I[0].y*a.y,d=1;d<this.Ka;++d){var e=
this.I[d].x*a.x+this.I[d].y*a.y;e>b&&(c=d,b=e)}return this.I[c]};r.il=function(a){this.I=[];this.ta=[];for(var c=this.I.length;c<a;c++)this.I[c]=N.q(0,0),this.ta[c]=N.q(0,0)};U.Ay=function(a,c){for(var b=N.q(0,0),d=0,e=1/3,h=0;h<c;++h){var f=a[h],g=h+1<c?a[h+1]:a[0],n=.5*((f.x-0)*(g.y-0)-(f.y-0)*(g.x-0)),d=d+n;b.x+=n*e*(0+f.x+g.x);b.y+=n*e*(0+f.y+g.y)}b.x*=1/d;b.y*=1/d;return b};U.KF=new O;U.mf="b2PolygonShape";var Kc=function(){this.Cq=this.Bq=this.Dq=this.wd=0};r=Kc.prototype;r.Ii=function(a){this.wd=
a;this.Dq=this.wd&255;this.Bq=(this.wd&65280)>>8&255;this.Cq=(this.wd&16711680)>>16&255;this.Ku=(this.wd&4278190080)>>24&255};r.Set=function(a){this.Ii(a.wd)};r.Eu=function(a){this.Dq=a;this.wd=this.wd&4294967040|this.Dq&255};r.Cu=function(a){this.Bq=a;this.wd=this.wd&4294902015|this.Bq<<8&65280};r.Du=function(a){this.Cq=a;this.wd=this.wd&4278255615|this.Cq<<16&16711680};r.wz=function(a){this.Ku=a;this.wd=this.wd&16777215|this.Ku<<24&4278190080};r.hc=function(){var a=new Kc;a.Set(this);return a};
var Lc=function(){this.Ie=N.q(0,0);this.id=new Kc};Lc.prototype.Set=function(a){this.Ie.F(a.Ie);this.id.Set(a.id)};var Mc=function(){this.ya=N.q(0,0);this.za=N.q(0,0)},Nc=[],Oc=function(){if(0<Nc.length){var a=Nc.pop();a.ea();return a}return new Mc};r=Mc.prototype;r.ea=function(){this.ya.Set(0,0);this.za.Set(0,0)};r.pn=function(){return 0>this.za.x-this.ya.x||0>this.za.y-this.ya.y?!1:this.ya.pn()&&this.za.pn()};r.Ky=function(){return N.q((this.ya.x+this.za.x)/2,(this.ya.y+this.za.y)/2)};r.Yp=function(a){var c;
return c=(c=(c=(c=this.ya.x<=a.ya.x)&&this.ya.y<=a.ya.y)&&a.za.x<=this.za.x)&&a.za.y<=this.za.y};r.ol=function(a){return 0<a.ya.x-this.za.x||0<a.ya.y-this.za.y||0<this.ya.x-a.za.x||0<this.ya.y-a.za.y?!1:!0};r.cn=function(a,c){this.ya.x=Math.min(a.ya.x,c.ya.x);this.ya.y=Math.min(a.ya.y,c.ya.y);this.za.x=Math.max(a.za.x,c.za.x);this.za.y=Math.max(a.za.y,c.za.y)};var Pc=function(a,c,b,d){var e=0,h=c[0].Ie,f=c[1].Ie,g=b.x*h.x+b.y*h.y-d;b=b.x*f.x+b.y*f.y-d;0>=g&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);
0>g*b&&(b=g/(g-b),d=a[e].Ie,d.x=h.x+b*(f.x-h.x),d.y=h.y+b*(f.y-h.y),a[e].id=0<g?c[0].id:c[1].id,e++);return e},Qc=function(a,c,b,d,e){for(var h=c.n.j.x*a.ta[b].x+c.n.k.x*a.ta[b].y,f=c.n.j.y*a.ta[b].x+c.n.k.y*a.ta[b].y,g=e.n.j.x*h+e.n.j.y*f,n=e.n.k.x*h+e.n.k.y*f,m=0,l=Number.MAX_VALUE,k=0;k<d.Ka;k++){var q=d.I[k].x*g+d.I[k].y*n;q<l&&(l=q,m=k)}return(e.position.x+(e.n.j.x*d.I[m].x+e.n.k.x*d.I[m].y)-(c.position.x+(c.n.j.x*a.I[b].x+c.n.k.x*a.I[b].y)))*h+(e.position.y+(e.n.j.y*d.I[m].x+e.n.k.y*d.I[m].y)-
(c.position.y+(c.n.j.y*a.I[b].x+c.n.k.y*a.I[b].y)))*f},Rc=function(a,c,b,d){for(var e=d.position.x+(d.n.j.x*b.Ad.x+d.n.k.x*b.Ad.y),h=d.position.y+(d.n.j.y*b.Ad.x+d.n.k.y*b.Ad.y),e=e-(c.position.x+(c.n.j.x*a.Ad.x+c.n.k.x*a.Ad.y)),h=h-(c.position.y+(c.n.j.y*a.Ad.x+c.n.k.y*a.Ad.y)),f=e*c.n.j.x+h*c.n.j.y,h=e*c.n.k.x+h*c.n.k.y,e=0,g=-Number.MAX_VALUE,n=0;n<a.Ka;++n){var m=a.ta[n].x*f+a.ta[n].y*h;m>g&&(g=m,e=n)}f=Qc(a,c,e,b,d);h=e-1;0>h&&(h=a.Ka-1);g=Qc(a,c,h,b,d);n=e+1;n>=a.Ka&&(n=0);var m=Qc(a,c,n,b,
d),l=0,k=0;if(g>f&&g>m)for(l=h,k=g;;)if(e=l-1,0>e&&(e=a.Ka-1),f=Qc(a,c,e,b,d),f>k)l=e,k=f;else break;else if(m>f)for(l=n,k=m;;)if(e=l+1,e>=a.Ka&&(e=0),f=Qc(a,c,e,b,d),f>k)l=e,k=f;else break;else l=e,k=f;return{Yu:l,up:k}},Tc=function(a,c,b){var d=new Sc;d.rz(c,b.wh,b.Np,b.xh,b.Op);for(var e=0;20>e;){for(var h=[],f=0;f<d.la;f++)h[f]={},h[f].cc=d.I[f].cc,h[f].ec=d.I[f].ec;2==d.la?d.Cz():3==d.la&&d.Dz();if(3==d.la)break;f=d.My();if(f.qn()<Dc)break;var g=f.Hh();d.I[d.la].cc=b.wh.nn(P.Jg(b.Np.n,g));d.I[d.la].Vc=
P.rc(b.Np,b.wh.Pc(d.I[d.la].cc));d.I[d.la].ec=b.xh.nn(P.Jg(b.Op.n,f));d.I[d.la].lf=P.rc(b.Op,b.xh.Pc(d.I[d.la].ec));d.I[d.la].Oc=P.lb(d.I[d.la].lf,d.I[d.la].Vc);N.$b(f);N.$b(g);e++;g=!1;for(f=0;f<h.length;f++)if(d.I[d.la].cc==h[f].cc&&d.I[d.la].ec==h[f].ec){g=!0;break}if(g)break;d.la++}d.Ny(a.Ff,a.Gf);a.Wg=P.lb(a.Ff,a.Gf).Tf();d.Pz(c);b.ay&&(c=b.wh.Qa,b=b.xh.Qa,a.Wg>c+b&&a.Wg>Number.MIN_VALUE?(a.Wg-=c+b,d=P.lb(a.Gf,a.Ff),d.vd(),a.Ff.x+=c*d.x,a.Ff.y+=c*d.y,a.Gf.x-=b*d.x,a.Gf.y-=b*d.y,N.$b(d)):(b=N.q(0,
0),b.x=.5*(a.Ff.x+a.Gf.x),b.y=.5*(a.Ff.y+a.Gf.y),a.Ff.x=a.Gf.x=b.x,a.Ff.y=a.Gf.y=b.y,a.Wg=0,N.$b(b)))},Uc=function(){},Vc=function(){this.Ff=N.q(0,0);this.Gf=N.q(0,0);this.Wg=0},Wc=function(){};Wc.prototype.Set=function(a){a.tq(this)};Wc.prototype.nn=function(a){for(var c=0,b=this.I[0].x*a.x+this.I[0].y*a.y,d=1;d<this.la;d++){var e=this.I[d].x*a.x+this.I[d].y*a.y;e>b&&(c=d,b=e)}return c};Wc.prototype.cl=function(a){return this.I[this.nn(a)]};Wc.prototype.Pc=function(a){void 0===a&&(a=0);return this.I[a]};
var Xc=function(){this.ng=null};r=Xc.prototype;r.Yk=function(a,c){var b=Yc(c);b.Oa.ya.x=a.ya.x-.1;b.Oa.ya.y=a.ya.y-.1;b.Oa.za.x=a.za.x+.1;b.Oa.za.y=a.za.y+.1;this.gu(b);return b};r.Zk=function(a){this.vu(a);a.rd()};r.jq=function(a,c,b){if(a.Oa.Yp(c))return!1;this.vu(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Oa.ya.x=c.ya.x-d;a.Oa.ya.y=c.ya.y-b;a.Oa.za.x=c.za.x+d;a.Oa.za.y=c.za.y+b;this.gu(a);return!0};r.al=function(a){return a.Oa};r.rq=function(a,c){if(null!==this.ng){var b=[];for(b.push(this.ng);0<
b.length;){var d=b.pop();if(d.Oa.ol(c))if(d.hu()){if(!a(d.Te))break}else b.push(d.$d),b.push(d.Xf)}}};r.gu=function(a){if(null===this.ng)this.ng=a,this.ng.parent=null;else{var c=this.Jy(a),b=c.parent,d=Yc();d.parent=b;d.Oa.cn(a.Oa,c.Oa);if(b)for(c.parent.$d==c?b.$d=d:b.Xf=d,d.$d=c,d.Xf=a,c.parent=d,a.parent=d;b&&!b.Oa.Yp(d.Oa);)b.Oa.cn(b.$d.Oa,b.Xf.Oa),d=b,b=b.parent;else d.$d=c,d.Xf=a,c.parent=d,this.ng=a.parent=d}};r.Jy=function(a){a=a.Oa.Ky();for(var c=this.ng;!c.hu();)var b=c.$d,c=c.Xf,d=Math.abs((b.Oa.ya.x+
b.Oa.za.x)/2-a.x)+Math.abs((b.Oa.ya.y+b.Oa.za.y)/2-a.y),e=Math.abs((c.Oa.ya.x+c.Oa.za.x)/2-a.x)+Math.abs((c.Oa.ya.y+c.Oa.za.y)/2-a.y),c=d<e?b:c;N.$b(a);return c};r.vu=function(a){if(a==this.ng)this.ng=null;else{var c=a.parent,b=c.parent;a=c.$d==a?c.Xf:c.$d;if(b)for(b.$d==c?b.$d=a:b.Xf=a,a.parent=b;b;){a=b.Oa;b.Oa.cn(b.$d.Oa,b.Xf.Oa);if(a.Yp(b.Oa))break;b=b.parent}else this.ng=a,a.parent=null;c.rd()}};var Zc=function(){this.uh=new Xc;this.Yo=[]};r=Zc.prototype;r.Yk=function(a,c){var b=this.uh.Yk(a,
c);this.Xt(b);return b};r.Zk=function(a){this.Kz(a);this.uh.Zk(a)};r.jq=function(a,c,b){this.uh.jq(a,c,b)&&this.Xt(a)};r.ol=function(a,c){return this.uh.al(a).ol(this.uh.al(c))};r.al=function(a){return this.uh.al(a)};r.Lz=function(a){for(var c=[];0<this.Yo.length;){var b=this.Yo.pop();this.uh.rq(function(a){a!=b.Te&&c.push(new $c(b.Te,a));return!0},this.uh.al(b))}for(var d=0;d<c.length;){var e=c[d];a(e.Il,e.Jl);for(d++;d<c.length;){var h=c[d];if(!(h.Il==e.Il&&h.Jl==e.Jl||h.Il==e.Jl&&h.Jl==e.Il))break;
d++}}};r.rq=function(a,c){this.uh.rq(a,c)};r.Xt=function(a){this.Yo.push(a)};r.Kz=function(a){Ba(this.Yo,a)};var ad=function(a){this.Oa=Oc();this.Te=this.parent=this.Xf=this.$d=null;"undefined"!=typeof a&&(this.Te=a)},bd=[],Yc=function(a){if(0<bd.length){var c=bd.pop();"undefined"!=typeof a&&(c.Te=a);c.Oa.ea();return c}return new ad(a)};ad.prototype.rd=function(){this.Te=this.parent=this.Xf=this.$d=null;bd.push(this)};ad.prototype.hu=function(){return null===this.$d};var $c=function(a,c){this.Il=
a;this.Jl=c},dd=function(){this.Ra=this.Rb=0;this.ka=[];for(var a=0;2>a;a++)this.ka[a]=new cd;this.Lc=N.q(0,0);this.qa=N.q(0,0)};dd.prototype.Fc=function(){for(var a=0;2>a;a++)this.ka[a].Fc();this.Lc.ea();this.qa.ea();this.Rb=this.Ra=0};dd.prototype.Set=function(a){this.Rb=a.Rb;for(var c=0;2>c;c++)this.ka[c].Set(a.ka[c]);this.Lc.F(a.Lc);this.qa.F(a.qa);this.Ra=a.Ra};dd.prototype.hc=function(){var a=new dd;a.Set(this);return a};var cd=function(){this.qa=N.q(0,0);this.$e=new Kc;this.Fc()};cd.prototype.Fc=
function(){this.qa.ea();this.wj=this.sj=0;this.$e.Ii(0)};cd.prototype.Set=function(a){this.qa.F(a.qa);this.sj=a.sj;this.wj=a.wj;this.$e.Set(a.$e)};var ed=function(){this.qa=N.q(0,0);this.P=N.q(0,0)};ed.prototype.ac=function(a,c,b,d,e){this.hi=c;this.ii=d;var h,f,g,n=g=f=0,m=0;d=c=0;var l,k,n=0;1==a.count?(this.Ra=fd,h=this.hi.Pc(a.cc[0]),a=this.ii.Pc(a.ec[0]),k=h,l=b.n,f=b.position.x+(l.j.x*k.x+l.k.x*k.y),g=b.position.y+(l.j.y*k.x+l.k.y*k.y),k=a,l=e.n,n=e.position.x+(l.j.x*k.x+l.k.x*k.y),m=e.position.y+
(l.j.y*k.x+l.k.y*k.y),this.P.x=n-f,this.P.y=m-g,this.P.vd()):(a.ec[0]==a.ec[1]?(this.Ra=gd,c=this.hi.Pc(a.cc[0]),d=this.hi.Pc(a.cc[1]),a=this.ii.Pc(a.ec[0]),this.qa.x=.5*(c.x+d.x),this.qa.y=.5*(c.y+d.y),this.P=P.Ig(P.lb(d,c),1),this.P.vd(),k=this.P,l=b.n,c=l.j.x*k.x+l.k.x*k.y,d=l.j.y*k.x+l.k.y*k.y,k=this.qa,l=b.n,f=b.position.x+(l.j.x*k.x+l.k.x*k.y),g=b.position.y+(l.j.y*k.x+l.k.y*k.y),k=a,l=e.n,n=e.position.x+(l.j.x*k.x+l.k.x*k.y),m=e.position.y+(l.j.y*k.x+l.k.y*k.y),n=(n-f)*c+(m-g)*d):a.cc[0]==
a.cc[0]?(this.Ra=hd,f=this.ii.Pc(a.ec[0]),g=this.ii.Pc(a.ec[1]),h=this.hi.Pc(a.cc[0]),this.qa.x=.5*(f.x+g.x),this.qa.y=.5*(f.y+g.y),this.P=P.Ig(P.lb(g,f),1),this.P.vd(),k=this.P,l=e.n,c=l.j.x*k.x+l.k.x*k.y,d=l.j.y*k.x+l.k.y*k.y,k=this.qa,l=e.n,n=e.position.x+(l.j.x*k.x+l.k.x*k.y),m=e.position.y+(l.j.y*k.x+l.k.y*k.y),k=h,l=b.n,f=b.position.x+(l.j.x*k.x+l.k.x*k.y),g=b.position.y+(l.j.y*k.x+l.k.y*k.y),n=(f-n)*c+(g-m)*d):(c=this.hi.Pc(a.cc[0]),d=this.hi.Pc(a.cc[1]),f=this.ii.Pc(a.ec[0]),g=this.ii.Pc(a.ec[1]),
n=P.Mb(b.n,P.lb(d,c)),m=P.Mb(e.n,P.lb(g,f)),e=n.x*n.x+n.y*n.y,b=m.x*m.x+m.y*m.y,h=P.lb(m,n),a=n.x*h.x+n.y*h.y,h=m.x*h.x+m.y*h.y,m=n.x*m.x+n.y*m.y,l=e*b-m*m,n=0,0!=l&&(n=P.qb((m*h-a*b)/l,0,1)),0>(m*n+h)/b&&(n=P.qb((m-a)/e,0,1)),h=N.q(0,0),h.x=c.x+n*(d.x-c.x),h.y=c.y+n*(d.y-c.y),a=N.q(0,0),a.x=f.x+n*(g.x-f.x),a.y=f.y+n*(g.y-f.y),0==n||1==n?(this.Ra=hd,this.P=P.Ig(P.lb(g,f),1),this.P.vd(),this.qa=a):(this.Ra=gd,this.P=P.Ig(P.lb(d,c),1),this.qa=h)),0>n&&this.P.mq())};ed.prototype.Rf=function(a,c){var b,
d,e=0;switch(this.Ra){case fd:b=P.Jg(a.n,this.P);d=P.Jg(c.n,this.P.Hh());b=this.hi.cl(b);d=this.ii.cl(d);b=P.rc(a,b);d=P.rc(c,d);e=(d.x-b.x)*this.P.x+(d.y-b.y)*this.P.y;break;case gd:e=P.Mb(a.n,this.P);b=P.rc(a,this.qa);d=P.Jg(c.n,e.Hh());d=this.ii.cl(d);d=P.rc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case hd:e=P.Mb(c.n,this.P),d=P.rc(c,this.qa),b=P.Jg(a.n,e.Hh()),b=this.hi.cl(b),b=P.rc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var fd=1,gd=2,hd=4,Sc=function(){this.ma=new id;this.Da=new id;this.ee=
new id;this.I=[this.ma,this.Da,this.ee]};r=Sc.prototype;r.rz=function(a,c,b,d,e){var h,f;this.la=a.count;for(var g=this.I,n=0;n<this.la;n++){var m=g[n];m.cc=a.cc[n];m.ec=a.ec[n];h=c.Pc(m.cc);f=d.Pc(m.ec);m.Vc=P.rc(b,h);m.lf=P.rc(e,f);m.Oc=P.lb(m.lf,m.Vc);m.K=0}1<this.la&&(a=a.gD,h=this.fu(),h<.5*a||2*a<h||h<Number.MIN_VALUE)&&(this.la=0);0==this.la&&(m=g[0],m.cc=0,m.ec=0,h=c.Pc(0),f=d.Pc(0),m.Vc=P.rc(b,h),m.lf=P.rc(e,f),m.Oc=P.lb(m.lf,m.Vc),this.la=1)};r.Pz=function(a){a.gD=this.fu();a.count=this.la;
for(var c=this.I,b=0;b<this.la;b++)a.cc[b]=c[b].cc,a.ec[b]=c[b].ec};r.My=function(){if(1==this.la)return this.ma.Oc.Hh();if(2==this.la){var a=P.lb(this.Da.Oc,this.ma.Oc);return 0<P.Bi(a,this.ma.Oc.Hh())?P.$p(1,a):P.Ig(a,1)}return N.q(0,0)};r.Ny=function(a,c){1==this.la?(a.F(this.ma.Vc),c.F(this.ma.lf)):2==this.la?(a.x=this.ma.K*this.ma.Vc.x+this.Da.K*this.Da.Vc.x,a.y=this.ma.K*this.ma.Vc.y+this.Da.K*this.Da.Vc.y,c.x=this.ma.K*this.ma.lf.x+this.Da.K*this.Da.lf.x,c.y=this.ma.K*this.ma.lf.y+this.Da.K*
this.Da.lf.y):3==this.la&&(c.x=a.x=this.ma.K*this.ma.Vc.x+this.Da.K*this.Da.Vc.x+this.ee.K*this.ee.Vc.x,c.y=a.y=this.ma.K*this.ma.Vc.y+this.Da.K*this.Da.Vc.y+this.ee.K*this.ee.Vc.y)};r.fu=function(){return 1==this.la?0:2==this.la?P.lb(this.ma.Oc,this.Da.Oc).Tf():3==this.la?P.Bi(P.lb(this.Da.Oc,this.ma.Oc),P.lb(this.ee.Oc,this.ma.Oc)):0};r.Cz=function(){var a=this.ma.Oc,c=this.Da.Oc,b=P.lb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.la=this.ma.K=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.la=this.Da.K=1,this.ma.Set(this.Da)):
(b=1/(c+a),this.ma.K=c*b,this.Da.K=a*b,this.la=2))};r.Dz=function(){var a=this.ma.Oc,c=this.Da.Oc,b=this.ee.Oc,d=P.lb(c,a),e=P.Ab(c,d),h=-P.Ab(a,d),f=P.lb(b,a),g=P.Ab(b,f),n=-P.Ab(a,f),m=P.lb(b,c),l=P.Ab(b,m),m=-P.Ab(c,m),f=P.Bi(d,f),d=f*P.Bi(c,b),b=f*P.Bi(b,a),a=f*P.Bi(a,c);0>=h&&0>=n?this.la=this.ma.K=1:0<e&&0<h&&0>=a?(g=1/(e+h),this.ma.K=e*g,this.Da.K=h*g,this.la=2):0<g&&0<n&&0>=b?(e=1/(g+n),this.ma.K=g*e,this.ee.K=n*e,this.la=2,this.Da.Set(this.ee)):0>=e&&0>=m?(this.la=this.Da.K=1,this.ma.Set(this.Da)):
0>=g&&0>=l?(this.la=this.ee.K=1,this.ma.Set(this.ee)):0<l&&0<m&&0>=d?(e=1/(l+m),this.Da.K=l*e,this.ee.K=m*e,this.la=2,this.ma.Set(this.ee)):(e=1/(d+b+a),this.ma.K=d*e,this.Da.K=b*e,this.ee.K=a*e,this.la=3)};var jd=function(){this.cc=[0,0,0];this.ec=[0,0,0]},id=function(){};id.prototype.Set=function(a){this.Vc.F(a.Vc);this.lf.F(a.lf);this.Oc.F(a.Oc);this.K=a.K;this.cc=a.cc;this.ec=a.ec};var kd=function(){this.wh=new Wc;this.xh=new Wc;this.Hx=new Gc;this.Ix=new Gc},ld=function(){this.ra=N.q(0,0);this.ka=
[];for(var a=this.Rb=0;2>a;a++)this.ka[a]=N.q(0,0)};ld.prototype.ac=function(a,c,b,d,e){if(0!=a.Rb){var h=0,f,g,n=0,m=0,l=0,k=0,q=0;f=0;switch(a.Ra){case 1:g=c.n;f=a.qa;h=c.position.x+g.j.x*f.x+g.k.x*f.y;c=c.position.y+g.j.y*f.x+g.k.y*f.y;g=d.n;f=a.ka[0].qa;a=d.position.x+g.j.x*f.x+g.k.x*f.y;d=d.position.y+g.j.y*f.x+g.k.y*f.y;f=a-h;g=d-c;n=f*f+g*g;n>Dc?(n=Math.sqrt(n),this.ra.x=f/n,this.ra.y=g/n):(this.ra.x=1,this.ra.y=0);f=c+b*this.ra.y;d-=e*this.ra.y;this.ka[0].x=.5*(h+b*this.ra.x+(a-e*this.ra.x));
this.ka[0].y=.5*(f+d);break;case 2:g=c.n;f=a.Lc;n=g.j.x*f.x+g.k.x*f.y;m=g.j.y*f.x+g.k.y*f.y;g=c.n;f=a.qa;l=c.position.x+g.j.x*f.x+g.k.x*f.y;k=c.position.y+g.j.y*f.x+g.k.y*f.y;this.ra.x=n;this.ra.y=m;for(h=0;h<a.Rb;h++)g=d.n,f=a.ka[h].qa,q=d.position.x+g.j.x*f.x+g.k.x*f.y,f=d.position.y+g.j.y*f.x+g.k.y*f.y,this.ka[h].x=q+.5*(b-(q-l)*n-(f-k)*m-e)*n,this.ka[h].y=f+.5*(b-(q-l)*n-(f-k)*m-e)*m;break;case 4:for(g=d.n,f=a.Lc,n=g.j.x*f.x+g.k.x*f.y,m=g.j.y*f.x+g.k.y*f.y,g=d.n,f=a.qa,l=d.position.x+g.j.x*f.x+
g.k.x*f.y,k=d.position.y+g.j.y*f.x+g.k.y*f.y,this.ra.x=-n,this.ra.y=-m,h=0;h<a.Rb;h++)g=c.n,f=a.ka[h].qa,q=c.position.x+g.j.x*f.x+g.k.x*f.y,f=c.position.y+g.j.y*f.x+g.k.y*f.y,this.ka[h].x=q+.5*(e-(q-l)*n-(f-k)*m-b)*n,this.ka[h].y=f+.5*(e-(q-l)*n-(f-k)*m-b)*m}}};var qc=function(a,c){this.td="Body"+qc.lq++;this.A=new oc;this.A.position.F(a.position);this.A.n.Set(a.G);this.m=new Gc;this.m.M.ea();this.m.nd=1;this.m.Le=this.m.K=a.G;this.m.r.x=this.A.n.j.x*this.m.M.x+this.A.n.k.x*this.m.M.y;this.m.r.y=
this.A.n.j.y*this.m.M.x+this.A.n.k.y*this.m.M.y;this.m.r.x+=this.A.position.x;this.m.r.y+=this.A.position.y;this.m.Hc.F(this.m.r);this.p=a.ms.hc();this.nh=N.q(0,0);this.rk=a.Ri;this.MC=a.kr;this.vs=a.Ru;this.ws=a.Vu;this.km=a.Zc;this.Ea=c;this.xb=null;this.Id=new md;this.Ui=new nd;this.D=a.Su;this.TC=a.jj;this.HC=a.Ni;this.wm=this.xj=0;this.Ra=a.type;this.Q=this.Ra==R.sc?1:0;this.H=this.Ra==R.sc?1:0;this.O=this.Ye=0;this.QC=a.Kv;this.ck=new od;this.Wo=[]};r=qc.prototype;r.Jj=function(a){a=new pc(this,
this.A,a);this.km&&a.Yk(this.Ea.Bd.qk,this.A);this.ck.jy(a);a.mm=this;0<a.So&&this.xu();this.Ea.Gs=!0;return a};r.rd=function(){N.$b(this.p);N.$b(this.nh)};r.$t=function(a){this.ck.sz(a);for(var c=this.Id.Fa(pd);c;c=c.next)a!=c.vc.Cb&&a!=c.vc.wb||this.Ea.Bd.rd(c.vc);this.km&&a.Zk(this.Ea.Bd.qk);a.rd();a.mm=null;this.xu()};r.ml=function(a,c){this.A.n.Set(c);this.A.position.F(a);var b=this.A.n,d=this.m.M;this.m.r.x=b.j.x*d.x+b.k.x*d.y;this.m.r.y=b.j.y*d.x+b.k.y*d.y;this.m.r.x+=this.A.position.x;this.m.r.y+=
this.A.position.y;this.m.Hc.F(this.m.r);this.m.Le=this.m.K=c;b=this.Ea.Bd.qk;for(d=this.ck.Fa();d;d=d.next)d.Te.Fu(b,this.A,this.A);this.Ea.Bd.jn()};r.Wd=function(){return this.A};r.uq=function(a){this.ml(a,this.sd())};r.sd=function(){return this.m.K};r.jl=function(a){this.ml(this.A.position,a)};r.Nj=function(){return this.m.r};r.Ei=function(){return this.m.M};r.Ji=function(a){this.Ra!=R.qe&&this.p.F(a)};r.Di=function(){return this.p};r.kl=function(a){void 0===a&&(a=0);this.Ra!=R.qe&&(this.D=a)};
r.kn=function(){return this.D};r.Pf=function(a,c){this.Ra==R.sc&&(this.Qc(!0),this.nh.x+=a.x,this.nh.y+=a.y,this.xj+=(c.x-this.m.r.x)*a.y-(c.y-this.m.r.y)*a.x)};r.$m=function(a){void 0===a&&(a=0);this.Ra==R.sc&&(this.Qc(!0),this.xj+=a)};r.Mj=function(){return this.Q};r.eu=function(a){a||(a=new Jc);a.og=this.Q;a.Oj=this.Ye;a.Pg.F(this.m.M);return a};r.xu=function(){this.O=this.Ye=this.H=this.Q=0;this.m.M.ea();if(this.Ra!=R.qe&&this.Ra!=R.Xu){for(var a=N.q(0,0),c=this.ck.Fa();c;c=c.next){var b=c.Te;
0!=b.So&&(b=b.eu(),this.Q+=b.og,a.x+=b.Pg.x*b.og,a.y+=b.Pg.y*b.og,this.Ye+=b.Oj)}0<this.Q?(this.H=1/this.Q,a.x*=this.H,a.y*=this.H):this.H=this.Q=1;0<this.Ye&&!this.MC?(this.Ye-=this.Q*(a.x*a.x+a.y*a.y),this.Ye*=this.QC,this.O=1/this.Ye):this.O=this.Ye=0;c=this.m.r.hc();this.m.M.F(a);this.m.Hc.F(P.rc(this.A,this.m.M));this.m.r.F(this.m.Hc);this.p.x+=this.D*-(this.m.r.y-c.y);this.p.y+=this.D*+(this.m.r.x-c.x);N.$b(a);N.$b(c)}};r.on=function(a){var c=this.A.n;a=N.q(c.j.x*a.x+c.k.x*a.y,c.j.y*a.x+c.k.y*
a.y);a.x+=this.A.position.x;a.y+=this.A.position.y;return a};r.gq=function(a){return P.Mb(this.A.n,a)};r.Xc=function(a){return P.kq(this.A,a)};r.fq=function(a){return P.Jg(this.A.n,a)};r.Ly=function(a){return N.q(this.p.x-this.D*(a.y-this.m.r.y),this.p.y+this.D*(a.x-this.m.r.x))};r.Ec=function(){return this.Ra};r.Qc=function(a){if(this.ws!=a)for(this.ws=a,this.wm=0,a||(this.p.ea(),this.D=0,this.nh.ea(),this.xj=0),a=0;a<this.Wo.length;a++)this.Wo[a].Iu(this)};r.Yc=function(){return this.ws};r.Gi=function(){return this.km};
r.cq=function(){return this.ck};r.Uk=function(a){this.Ui.Uk(a)};r.hl=function(a){this.Ui.hl(a)};r.Gh=function(){return this.Id};r.Gu=function(){var a=qc.QD;a.n.Set(this.m.Le);var c=a.n,b=this.m.M;a.position.x=this.m.Hc.x-(c.j.x*b.x+c.k.x*b.y);a.position.y=this.m.Hc.y-(c.j.y*b.x+c.k.y*b.y);c=this.Ea.Bd.qk;for(b=this.ck.Fa();b;b=b.next)b.Te.Fu(c,a,this.A)};r.Bb=function(){this.A.n.Set(this.m.K);var a=this.A.n,c=this.m.M;this.A.position.x=this.m.r.x-(a.j.x*c.x+a.k.x*c.y);this.A.position.y=this.m.r.y-
(a.j.y*c.x+a.k.y*c.y)};r.Ki=function(a){if(this.Ra!=R.sc&&a.Ra!=R.sc)return!1;for(var c=this.xb;c;c=c.next)if(c.Fe==a&&0==c.ih.xw)return!1;return!0};r.Fh=function(a){this.m.Fh(a);this.m.r.F(this.m.Hc);this.m.K=this.m.Le;this.Bb()};qc.lq=0;var R=function(){this.position=N.q(0,0);this.ms=N.q(0,0);this.Ni=this.jj=this.Su=this.G=0;this.Vu=this.Ru=!0;this.Ri=this.kr=!1;this.type=R.qe;this.Zc=!0;this.Kv=1};R.qe=0;R.Xu=1;R.sc=2;var rd=function(){this.Bn=[];for(var a=0;a<=qd;a++)this.Bn[a]=null;this.Cn=[];
for(a=0;a<=qd;a++)this.Cn[a]=null;this.Uj={}};r=rd.prototype;r.Fa=function(a){return this.Bn[a]};r.Gj=function(a){var c=a.td;null==this.Uj[c]&&(this.Qf(a,c,qd),this.Iu(a),a.Wo.push(this))};r.Iu=function(a){var c=a.Ec(),b=a.td,d=a.Yc(),e=a.Gi();c==R.sc?this.Qf(a,b,sd):this.Uf(b,sd);c!=R.qe?this.Qf(a,b,td):this.Uf(b,td);c!=R.qe&&e&&d?this.Qf(a,b,ud):this.Uf(b,ud);d?this.Qf(a,b,vd):this.Uf(b,vd);e?this.Qf(a,b,wd):this.Uf(b,wd)};r.gl=function(a){var c=a.td;if(null!=this.Uj[c]){Ba(a.Wo,this);for(a=0;a<=
qd;a++)this.Uf(c,a);delete this.Uj[c]}};r.Uf=function(a,c){var b=this.Uj[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.ff,d=d.next,null==b?this.Bn[c]=d:b.of(d),null==d?this.Cn[c]=b:d.pf(b))}};r.Qf=function(a,c,b){var d=this.Uj[c];if(null==d){for(var d=[],e=0;e<=qd;e++)d[e]=null;this.Uj[c]=d}null==d[b]&&(d[b]=new xd(a),a=this.Cn[b],null!=a?a.of(d[b]):this.Bn[b]=d[b],d[b].pf(a),this.Cn[b]=d[b])};var sd=0,td=1,wd=2,ud=3,vd=4,qd=5,xd=function(a){this.body=a;this.ff=this.next=null};xd.prototype.of=
function(a){this.next=a};xd.prototype.pf=function(a){this.ff=a};xd.prototype.Na=function(){return this.body};var sc=function(){};sc.prototype.Ki=function(a,c){var b=a.du(),d=c.du();return b.Wh==d.Wh&&0!=b.Wh?0<b.Wh:0!=(b.zk&d.Vj)&&0!=(b.Vj&d.zk)};sc.lA=new sc;var yd=function(){this.kD=[];this.XD=[]},rc=function(){};rc.prototype.an=function(){};var Ad=function(a){this.Ea=a;this.xs=sc.lA;this.lh=rc.Wu;this.yw=new zd;this.qk=new Zc};Ad.prototype.ny=function(a,c){var b=a.Na(),d=c.Na();if(b!=d&&d.Ki(b)&&
this.xs.Ki(a,c)){for(b=d.Id.Fa(pd);b;b=b.next)if(d=b.vc.Cb,d==a){if(d=b.vc.wb,d==c)return}else if(d==c&&(d=b.vc.wb,d==a))return;this.yw.Je(a,c)}};Ad.prototype.jn=function(){var a=this;this.qk.Lz(function(c,b){a.ny(c,b)})};Ad.prototype.rd=function(a){0<a.De.Rb&&(a.Cb.Na().Qc(!0),a.wb.Na().Qc(!0));a.tz();this.yw.rd(a)};Ad.prototype.xy=function(){for(var a=this.Ea.Id.Fa(pd);a;a=a.next){var c=a.vc,b=c.Cb,d=c.wb,e=b.Na(),h=d.Na();if(0!=e.Yc()||0!=h.Yc()){if(c.$n){if(0==h.Ki(e)){this.rd(c);continue}if(0==
this.xs.Ki(b,d)){this.rd(c);continue}c.wy()}0==this.qk.ol(b.tj,d.tj)?this.rd(c):c.Hu(this.lh)}}};var Bd=function(){this.Vj=1;this.zk=65535;this.Wh=0};Bd.prototype.hc=function(){var a=new Bd;a.Vj=this.Vj;a.zk=this.zk;a.Wh=this.Wh;return a};var pc=function(a,c,b){this.td="Fixture"+pc.lq++;this.LC=b.filter.hc();this.oj=Oc();this.mm=a;this.sh=b.shape.hc();this.So=b.tf;this.As=b.bg;this.Hs=b.xg;this.Uo=b.Pr};r=pc.prototype;r.qc=function(){return this.sh};r.Hi=function(){return this.Uo};r.du=function(){return this.LC.hc()};
r.Na=function(){return this.mm};r.eu=function(a){a||(a=new Jc);this.sh.Xk(a,this.So);return a};r.rd=function(){Nc.push(this.oj)};r.Yk=function(a,c){this.sh.Ij(this.oj,c);this.tj=a.Yk(this.oj,this)};r.Zk=function(a){null!=this.tj&&(a.Zk(this.tj),this.tj=null)};r.Fu=function(a,c,b){if(this.tj){var d=Oc(),e=Oc();this.sh.Ij(d,c);this.sh.Ij(e,b);this.oj.cn(d,e);Nc.push(d);Nc.push(e);c=P.lb(b.position,c.position);a.jq(this.tj,this.oj,c);N.$b(c)}};pc.lq=0;var vc=function(){this.filter=new Bd;this.filter.Vj=
1;this.filter.zk=65535;this.filter.Wh=0;this.shape=null;this.bg=.2;this.tf=this.xg=0;this.Pr=!1},od=function(){this.mr=this.lr=null;this.bo={}};od.prototype.Fa=function(){return this.lr};od.prototype.jy=function(a){var c=a.td;if(null==this.bo[c]){a=new Cd(a);var b=this.mr;null!=b?b.of(a):this.lr=a;a.pf(b);this.mr=a;this.bo[c]=a}};od.prototype.sz=function(a){a=a.td;var c=this.bo[a];if(null!=c){var b=c.ff,c=c.next;null==b?this.lr=c:b.of(c);null==c?this.mr=b:c.pf(b);delete this.bo[a]}};var Cd=function(a){this.Te=
a;this.ff=this.next=null};Cd.prototype.of=function(a){this.next=a};Cd.prototype.pf=function(a){this.ff=a};var Dd=function(a,c){this.UC=a;this.Bf=c;this.hg=[];this.To=[];this.gi=[];this.mh=[];this.jd=[]};r=Dd.prototype;r.bn=function(){this.hg=[];this.To=[];this.gi=[];this.mh=[];this.jd=[]};r.Kh=function(a,c,b){this.Tz(a,c);this.Bf.ac(a,this.mh,this.mh.length);this.Zz(a);this.Vz(a);this.Wz(a);this.wu(this.Bf.ig);b&&this.Uz(a)};r.Tz=function(a,c){for(var b=0;b<this.To.length;b++){var d=this.To[b];d.p.x+=
a.Aa*(c.x+d.H*d.nh.x);d.p.y+=a.Aa*(c.y+d.H*d.nh.y);d.D+=a.Aa*d.O*d.xj;d.p.ud(P.qb(1-a.Aa*d.TC,0,1));d.D*=P.qb(1-a.Aa*d.HC,0,1)}};r.Zz=function(a){this.Bf.Ke(a);for(var c=0;c<this.jd.length;c++)this.jd[c].Ke(a);for(c=0;c<a.Wm;c++){for(var b=0;b<this.jd.length;b++)this.jd[b].ne(a);this.Bf.ne()}for(a=0;a<this.jd.length;a++)this.jd[a].aq();this.Bf.aq()};r.Vz=function(a){for(var c=0;c<this.gi.length;++c){var b=this.gi[c],d=a.Aa*b.p.x,e=a.Aa*b.p.y;4<d*d+e*e&&(b.p.vd(),b.p.x=2*b.p.x*a.eh,b.p.y=2*b.p.y*a.eh);
d=a.Aa*b.D;d*d>Bc&&(b.D=0>b.D?-Ac*a.eh:Ac*a.eh);b.m.Hc.F(b.m.r);b.m.Le=b.m.K;b.m.r.x+=a.Aa*b.p.x;b.m.r.y+=a.Aa*b.p.y;b.m.K+=a.Aa*b.D;b.Bb()}};r.Wz=function(a){for(var c=0;c<a.Em;c++){for(var b=this.Bf.me(.2),d=!0,e=0;e<this.jd.length;e++)var h=this.jd[e].me(.2),d=d&&h;if(b&&d)break}};r.Uz=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.gi.length;b++){var d=this.gi[b];!d.vs||Math.abs(d.D)>Cc||1E-4<P.Ab(d.p,d.p)?c=d.wm=0:(d.wm+=a.Aa,c=Math.min(c,d.wm))}if(.5<=c)for(a=0;a<this.hg.length;a++)this.hg[a].Qc(!1)};
r.wq=function(a){var c=0,b=0;this.Bf.ac(a,this.mh,this.mh.length);for(var d=this.Bf,c=0;c<this.jd.length;++c)this.jd[c].Ke(a);for(c=0;c<a.Wm;++c)for(d.ne(),b=0;b<this.jd.length;++b)this.jd[b].ne(a);for(c=0;c<this.gi.length;++c){var b=this.gi[c],e=a.Aa*b.p.x,h=a.Aa*b.p.y;4<e*e+h*h&&(b.p.vd(),b.p.x=2*b.p.x*a.eh,b.p.y=2*b.p.y*a.eh);e=a.Aa*b.D;e*e>Bc&&(b.D=0>b.D?-Ac*a.eh:Ac*a.eh);b.m.Hc.F(b.m.r);b.m.Le=b.m.K;b.m.r.x+=a.Aa*b.p.x;b.m.r.y+=a.Aa*b.p.y;b.m.K+=a.Aa*b.D;b.Bb()}for(c=0;c<a.Em;++c){e=d.me(.75);
h=!0;for(b=0;b<this.jd.length;++b)var f=this.jd[b].me(.2),h=h&&f;if(e&&h)break}this.wu(d.ig)};r.wu=function(a){if(null!=this.UC)for(var c=0;c<this.mh.length;++c)for(var b=a[c],d=new yd,e=0;e<b.ef;++e)d.kD[e]=b.Vb[e].Tb,d.XD[e]=b.Vb[e].Bg};r.Gj=function(a){this.hg.push(a);a.Ec()!=R.qe&&(this.gi.push(a),a.Ec()==R.sc&&this.To.push(a))};r.Hj=function(a){this.mh.push(a)};r.Vt=function(a){this.jd.push(a)};var Ed=function(a,c,b,d,e){this.Aa=a;var h=0;0<a&&(h=1/a);this.eh=h;this.jc=c;this.Em=b;this.Wm=d;
this.Dh=e},tc=function(a,c){this.Bd=new Ad(this);this.Bf=new Fd;this.Gs=!1;this.Gc=new rd;this.Id=new md;this.xb=null;this.Ui=new nd;this.Vo=0;this.JC=this.$C=!0;this.vs=c;this.zw=a;this.Aw=0;this.PC=this.Zp(new R)};tc.Wy=1-100*Number.MIN_VALUE;r=tc.prototype;r.Au=function(a){this.Bd.xs=a};r.Bu=function(a){this.Bd.lh=a};r.Zp=function(a){a=new qc(a,this);this.Gc.Gj(a);return a};r.gn=function(a){for(var c=a.xb;c;){var b=c,c=c.next;this.hn(b.ih)}for(c=a.Ui.Fa();c;c=c.next)c.kv.gl(a);for(c=a.Id.Fa(pd);c;c=
c.next)this.Bd.rd(c.vc);for(c=a.cq().Fa();c;c=c.next)a.$t(c.Te);a.rd();this.Gc.gl(a)};r.en=function(a){var c=W.Je(a);c.tk=null;if(c.fi=this.xb)this.xb.tk=c;this.xb=c;this.Vo++;c.Cd.ih=c;c.Cd.Fe=c.T;c.Cd.prev=null;if(c.Cd.next=c.S.xb)c.S.xb.prev=c.Cd;c.S.xb=c.Cd;c.Dd.ih=c;c.Dd.Fe=c.S;c.Dd.prev=null;if(c.Dd.next=c.T.xb)c.T.xb.prev=c.Dd;c.T.xb=c.Dd;var b=a.J,d=a.L;if(!a.Sq)for(a=d.Id.Fa(pd);a;a=a.next)a.vc.mn(d)==b&&a.vc.bu();return c};r.hn=function(a){var c=a.xw;a.tk&&(a.tk.fi=a.fi);a.fi&&(a.fi.tk=
a.tk);a==this.xb&&(this.xb=a.fi);var b=a.S,d=a.T;b.Qc(!0);d.Qc(!0);a.Cd.prev&&(a.Cd.prev.next=a.Cd.next);a.Cd.next&&(a.Cd.next.prev=a.Cd.prev);a.Cd==b.xb&&(b.xb=a.Cd.next);a.Cd.prev=null;a.Cd.next=null;a.Dd.prev&&(a.Dd.prev.next=a.Dd.next);a.Dd.next&&(a.Dd.next.prev=a.Dd.prev);a.Dd==d.xb&&(d.xb=a.Dd.next);a.Dd.prev=null;a.Dd.next=null;this.Vo--;if(!c)for(a=d.Id.Fa(pd);a;a=a.next)a.vc.mn(d)==b&&a.vc.bu()};r.Uk=function(a){if(null!==a.Ea&&a.Ea!=this)throw Error("Controller can only be a member of one world");
this.Ui.Uk(a);a.Ea=this;return a};r.hl=function(a){this.Ui.hl(a);a.Ea=null;a.bn()};r.Kg=function(a,c,b){this.Gs&&(this.Bd.jn(),this.Gs=!1);a=new Ed(a,this.Aw*a,c,b,this.$C);this.Bd.xy();0<a.Aa&&(this.Kh(a),this.JC&&this.wq(a),this.Aw=a.eh)};r.Yt=function(){for(var a=this.Gc.Fa(sd);a;a=a.next)a.body.nh.ea(),a.body.xj=0};r.Gh=function(){return this.Id};var Gd=[];tc.prototype.Kh=function(a){for(var c=this.Ui.Fa();c;c=c.next)c.kv.Kg(a);for(var c=new Dd(this.Bd.lh,this.Bf),b=this.Gc.Fa(qd);b;b=b.next)b.body.ob=
!1;for(var d=this.Id.Fa(pd);d;d=d.next)d.vc.ob=!1;for(b=this.xb;b;b=b.fi)b.ob=!1;for(b=this.Gc.Fa(ud);b;b=b.next)if(d=b.body,!d.ob){c.bn();Gd.length=0;var e=Gd;e.push(d);for(d.ob=!0;0<e.length;){var h=e.pop();c.Gj(h);h.Yc()||h.Qc(!0);if(h.Ec()!=R.qe){for(d=h.Id.Fa(Hd);d;d=d.next){var f=d.vc;f.ob||(c.Hj(f),f.ob=!0,f=f.mn(h),f.ob||(e.push(f),f.ob=!0))}for(d=h.xb;d;d=d.next)!d.ih.ob&&d.Fe.Gi()&&(c.Vt(d.ih),d.ih.ob=!0,d.Fe.ob||(e.push(d.Fe),d.Fe.ob=!0))}}c.Kh(a,this.zw,this.vs)}for(b=this.Gc.Fa(ud);b;b=
b.next)b.body.Gu();this.Bd.jn()};tc.prototype.wq=function(a){for(var c=new Dd(this.Bd.lh,this.Bf),b=this.Gc.Fa(qd);b;b=b.next){var d=b.body;d.ob=!1;d.m.nd=0}for(var e=this.Id.Fa(pd);e;e=e.next)e.vc.ob=!1,e.vc.xk=null;for(b=this.xb;b;b=b.fi)b.ob=!1;for(;;){var b=this.Xz(),h=b.hD,b=b.iD;if(null===h||tc.Wy<b)break;e=h.Cb.Na();d=h.wb.Na();tc.rx.Set(e.m);tc.tx.Set(d.m);e.Fh(b);d.Fh(b);h.Hu(this.Bd.lh);h.xk=null;if(h.tp||!h.enabled)e.m.Set(tc.rx),d.m.Set(tc.tx),e.Bb(),d.Bb();else if(h.Sm){e.Ec()!=R.sc&&
(e=d);c.bn();Gd.length=0;h=Gd;h.push(e);for(e.ob=!0;0<h.length;)if(d=h.pop(),c.Gj(d),d.Yc()||d.Qc(!0),d.Ec()==R.sc){for(e=d.Id.Fa(Hd);e&&32!=c.IC;e=e.next){var f=e.vc;f.ob||(c.Hj(f),f.ob=!0,f=f.mn(d),f.ob||(f.Ec()!=R.qe&&(f.Fh(b),f.Qc(!0),h.push(f)),f.ob=!0))}for(d=d.xb;d;d=d.next)32!=c.Vo&&!d.ih.ob&&d.Fe.Gi()&&(c.Vt(d.ih),d.ih.ob=!0,d.Fe.ob||(d.Fe.Ec()!=R.qe&&(d.Fe.Fh(b),d.Fe.Qc(!0),h.push(d.Fe)),d.Fe.ob=!0))}c.wq(new Ed((1-b)*a.Aa,0,a.Wm,a.Em,!1));for(b=0;b<c.hg.length;b++)if(c.hg[b].ob=!1,c.hg[b].Yc()&&
c.hg[b].Ec()==R.sc)for(c.hg[b].Gu(),e=c.hg[b].Id.Fa(pd);e;e=e.next)e.vc.xk=null;for(b=0;b<c.IC;b++)c.mh[b].ob=!1,c.mh[b].xk=null;for(b=0;b<c.Vo;b++)c.jd[b].ob=!1;this.Bd.jn()}}};tc.prototype.Xz=function(){for(var a=null,c=1,b=this.Id.Fa(Id);b;b=b.next){var d=b.vc;if(!this.Yz(d)){var e=1;if(null!=d.xk)e=d.xk;else{if(d.Sm)e=1;else{var e=d.Cb.Na(),h=d.wb.Na(),f=e.m.nd;e.m.nd<h.m.nd?(f=h.m.nd,e.m.Fh(f)):h.m.nd<e.m.nd&&(f=e.m.nd,h.m.Fh(f));e=d.By(e.m,h.m);0<e&&1>e&&(e=(1-e)*f+e)}d.xk=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{hD:a,iD:c}};tc.prototype.Yz=function(a){var c=a.Cb.Na();a=a.wb.Na();return c.Ec()==R.sc&&c.Yc()||a.Ec()==R.sc&&a.Yc()?!1:!0};var Kd=function(a,c){this.td="Contact"+Jd++;this.De=new dd;this.um=new dd;this.Sm=!1;var b=a.Na(),d=c.Na();this.Tq=b.Ec()!=R.sc||b.rk||d.Ec()!=R.sc||d.rk;this.tp=a.Hi()||c.Hi();this.$n=!1;this.Cb=a;this.wb=c;this.enabled=!0;this.zn=b.Gh();this.An=d.Gh();this.Xp=d.Ea.Gh();this.Wt()};r=Kd.prototype;r.Fc=function(a,c){this.De.Fc();this.um.Fc();this.Sm=
!1;var b=a.Na(),d=c.Na();this.Tq=b.Ec()!=R.sc||b.rk||d.Ec()!=R.sc||d.rk;this.tp=a.Hi()||c.Hi();this.$n=!1;this.Cb=a;this.wb=c;this.enabled=!0;this.zn=b.Gh();this.An=d.Gh();this.Xp=d.Ea.Gh();this.Wt()};r.Wt=function(){this.zn.Hj(this);this.An.Hj(this);this.Xp.Hj(this);this.Ju()};r.Ju=function(){var a=!1,c=!1;!this.Hi()&&this.hq()&&(this.iq()&&(a=!0),this.Tq&&(c=!0));this.zn.yq(this,a,c);this.An.yq(this,a,c);this.Xp.yq(this,a,c)};r.tz=function(){this.zn.sq(this);this.An.sq(this);this.Xp.sq(this)};r.iq=
function(){return this.Sm};r.Hi=function(){return this.tp};r.hq=function(){return this.enabled};r.mn=function(a){var c=this.Cb.Na();return c!=a?c:this.wb.Na()};r.bu=function(){this.$n=!0};r.wy=function(){this.$n=!1};r.Hu=function(a){var c=this.um;this.um=this.De;this.De=c;this.enabled=!0;var b=!1,c=this.iq(),d=this.Cb.Na(),e=this.wb.Na(),h=this.Cb.oj.ol(this.wb.oj);if(this.tp){if(h){var b=this.Cb.qc(),d=d.Wd(),h=this.wb.qc(),f=e.Wd(),e=new Uc;e.wh=new Wc;e.wh.Set(b);e.xh=new Wc;e.xh.Set(h);e.Np=d;
e.Op=f;e.ay=!0;d=new jd;d.count=0;b=new Vc;Tc(b,d,e);b=b.Wg<10*Number.MIN_VALUE}this.De.Rb=0}else{this.Tq=d.Ec()!=R.sc||d.rk||e.Ec()!=R.sc||e.rk?!0:!1;if(h)for(this.Rf(),b=0<this.De.Rb,h=0;h<this.De.Rb;h++){f=this.De.ka[h];f.sj=0;for(var g=f.wj=0;g<this.um.Rb;g++){var n=this.um.ka[g];if(n.$e.wd==f.$e.wd){f.sj=n.sj;f.wj=n.wj;break}}}else this.De.Rb=0;b!=c&&(d.Qc(!0),e.Qc(!0))}this.Sm=b;b!=c&&this.Ju();!c&&b&&a.an(this)};r.Rf=function(){};r.By=function(a,c){Ld.wh.Set(this.Cb.qc());Ld.xh.Set(this.wb.qc());
Ld.Hx=a;Ld.Ix=c;Ld.cE=.005;var b=Ld;Md++;var d=b.wh,e=b.xh,h=b.Hx,f=b.Ix,g=d.Qa+e.Qa,b=b.cE,n=0,m=0,l=0;Nd.count=0;for(Od.ay=!1;;){h.Wd(Pd,n);f.Wd(Qd,n);Od.wh=d;Od.xh=e;Od.Np=Pd;Od.Op=Qd;Tc(Rd,Nd,Od);if(0>=Rd.Wg){n=1;break}Sd.ac(Nd,d,Pd,e,Qd);var k=Sd.Rf(Pd,Qd);if(0>=k){n=1;break}0==m&&(l=k>g?Math.max(g-b,.75*g):Math.max(k-b,.02*g));if(k-l<.5*b){if(0==m){n=1;break}break}var q=n,p=n,s=1;h.Wd(Pd,s);f.Wd(Qd,s);var t=Sd.Rf(Pd,Qd);if(t>=l){n=1;break}for(var v=0;;){var x=0,x=v&1?p+(l-k)*(s-p)/(t-k):.5*
(p+s);h.Wd(Pd,x);f.Wd(Qd,x);var B=Sd.Rf(Pd,Qd);if(Math.abs(B-l)<.025*b){q=x;break}B>l?(p=x,k=B):(s=x,t=B);v++;Td++;if(50==v)break}Ud=Math.max(Ud,v);if(q<(1+100*Number.MIN_VALUE)*n)break;n=q;m++;Vd++;if(1E3==m)break}Wd=Math.max(Wd,m);return n};var Ld=new kd,Jd=0,Xd=function(a,c){Kd.call(this,a,c)};K(Xd,Kd);Xd.prototype.Fc=function(a,c){Kd.prototype.Fc.call(this,a,c)};Xd.prototype.Rf=function(){var a=this.De,c=this.Cb.qc(),b=this.Cb.Na().A,d=this.wb.qc(),e=this.wb.Na().A;a.Rb=0;var h=e.position.x+(e.n.j.x*
d.cb.x+e.n.k.x*d.cb.y)-(b.position.x+(b.n.j.x*c.cb.x+b.n.k.x*c.cb.y)),b=e.position.y+(e.n.j.y*d.cb.x+e.n.k.y*d.cb.y)-(b.position.y+(b.n.j.y*c.cb.x+b.n.k.y*c.cb.y)),e=c.Qa+d.Qa;h*h+b*b>e*e||(a.Ra=1,a.qa.F(c.cb),a.Lc.ea(),a.Rb=1,a.ka[0].qa.F(d.cb),a.ka[0].$e.Ii(0))};var Zd=function(){this.gg=N.q(0,0);this.Qb=N.q(0,0);this.kd=N.q(0,0);this.vh=new O;this.Xd=new O;this.Vb=[];for(var a=0;2>a;a++)this.Vb[a]=new Yd},Yd=function(){this.Qb=N.q(0,0);this.Gb=N.q(0,0);this.Hb=N.q(0,0)};Yd.prototype.Fc=function(){this.Qb.Set(0,
0);this.Gb.Set(0,0);this.Hb.Set(0,0)};var zd=function(){this.Df={};this.oh={};this.Vk(Xd,uc.mf,uc.mf);this.Vk($d,U.mf,uc.mf);this.Vk(ae,U.mf,U.mf);this.Vk(be,"b2EdgeShape",uc.mf);this.Vk(ce,U.mf,"b2EdgeShape")};zd.prototype.Vk=function(a,c,b){this.oh[c]=this.oh[c]||{};this.oh[c][b]=this.oh[c][b]||[];this.Df[c]=this.Df[c]||{};this.Df[c][b]=new de;this.Df[c][b].nv=a;this.Df[c][b].gx=!0;c!=b&&(this.Df[b]=this.Df[b]||{},this.Df[b][c]=new de,this.Df[b][c].nv=a,this.Df[b][c].gx=!1)};zd.prototype.Je=function(a,
c){var b=a.qc().Fi(),d=c.qc().Fi(),e=this.Df[b][d],h=e.nv;return null!=h?e.gx?0<this.oh[b][d].length?(b=this.oh[b][d].pop(),b.Fc(a,c),b):new h(a,c):0<this.oh[d][b].length?(b=this.oh[d][b].pop(),b.Fc(c,a),b):new h(c,a):null};zd.prototype.rd=function(a){var c=a.Cb.qc().Fi(),b=a.wb.qc().Fi();this.oh[c][b].push(a)};var md=function(){this.Hn=[];for(var a=0;a<=pd;a++)this.Hn[a]=null;this.In=[];for(a=0;a<=pd;a++)this.In[a]=null;this.Ti={}};r=md.prototype;r.Fa=function(a){return this.Hn[a]};r.Hj=function(a){var c=
a.td;if(null==this.Ti[c]){this.Ti[c]=[];for(var b=0;b<=pd;b++)this.Ti[c][b]=null;this.Qf(a,c,pd)}};r.yq=function(a,c,b){c?this.Qf(a,a.td,Hd):this.Uf(a.td,Hd);b?this.Qf(a,a.td,Id):this.Uf(a.td,Id)};r.sq=function(a){a=a.td;if(null!=this.Ti[a]){for(var c=0;c<=pd;c++)this.Uf(a,c);delete this.Ti[a]}};r.Uf=function(a,c){var b=this.Ti[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.ff,e=d.next;null==b?this.Hn[c]=e:b.of(e);null==e?this.In[c]=b:e.pf(b);ee.push(d)}}};r.Qf=function(a,c,b){c=this.Ti[c];
if(null==c[b]){if(0<ee.length){var d=ee.pop();d.next=null;d.ff=null;d.vc=a;a=d}else a=new fe(a);c[b]=a;a=this.In[b];null!=a?(a.of(c[b]),c[b].pf(a)):this.Hn[b]=c[b];this.In[b]=c[b]}};var Hd=0,Id=1,pd=2,fe=function(a){this.vc=a;this.ff=this.next=null},ee=[];fe.prototype.of=function(a){this.next=a};fe.prototype.pf=function(a){this.ff=a};var de=function(){},ge=function(){this.ra=N.q(0,0);this.$o=[];this.ka=[];for(var a=0;2>a;a++)this.ka[a]=N.q(0,0)};ge.prototype.ac=function(a){switch(a.type){case 1:this.Qz(a);
break;case 2:this.Rz(a);break;case 4:this.Sz(a)}};ge.prototype.Qz=function(a){var c=a.J.A.n,b=a.Qb,d=a.J.A.position.x+(c.j.x*b.x+c.k.x*b.y),e=a.J.A.position.y+(c.j.y*b.x+c.k.y*b.y),c=a.L.A.n,b=a.Vb[0].Qb,h=a.L.A.position.x+(c.j.x*b.x+c.k.x*b.y),c=a.L.A.position.y+(c.j.y*b.x+c.k.y*b.y),b=h-d,f=c-e,g=b*b+f*f;g>Dc?(g=Math.sqrt(g),this.ra.x=b/g,this.ra.y=f/g):(this.ra.x=1,this.ra.y=0);this.ka[0].x=.5*(d+h);this.ka[0].y=.5*(e+c);this.$o[0]=b*this.ra.x+f*this.ra.y-a.mp};ge.prototype.Rz=function(a){this.ra.x=
a.J.A.n.j.x*a.gg.x+a.J.A.n.k.x*a.gg.y;this.ra.y=a.J.A.n.j.y*a.gg.x+a.J.A.n.k.y*a.gg.y;for(var c=a.J.A.position.x+(a.J.A.n.j.x*a.Qb.x+a.J.A.n.k.x*a.Qb.y),b=a.J.A.position.y+(a.J.A.n.j.y*a.Qb.x+a.J.A.n.k.y*a.Qb.y),d=0;d<a.ef;d++){var e=a.L.A.position.x+(a.L.A.n.j.x*a.Vb[d].Qb.x+a.L.A.n.k.x*a.Vb[d].Qb.y),h=a.L.A.position.y+(a.L.A.n.j.y*a.Vb[d].Qb.x+a.L.A.n.k.y*a.Vb[d].Qb.y);this.$o[d]=(e-c)*this.ra.x+(h-b)*this.ra.y-a.mp;this.ka[d].x=e;this.ka[d].y=h}};ge.prototype.Sz=function(a){this.ra.x=a.L.A.n.j.x*
a.gg.x+a.L.A.n.k.x*a.gg.y;this.ra.y=a.L.A.n.j.y*a.gg.x+a.L.A.n.k.y*a.gg.y;for(var c=a.L.A.position.x+(a.L.A.n.j.x*a.Qb.x+a.L.A.n.k.x*a.Qb.y),b=a.L.A.position.y+(a.L.A.n.j.y*a.Qb.x+a.L.A.n.k.y*a.Qb.y),d=0;d<a.ef;d++){var e=a.J.A.position.x+(a.J.A.n.j.x*a.Vb[d].Qb.x+a.J.A.n.k.x*a.Vb[d].Qb.y),h=a.J.A.position.y+(a.J.A.n.j.y*a.Vb[d].Qb.x+a.J.A.n.k.y*a.Vb[d].Qb.y);this.$o[d]=(e-c)*this.ra.x+(h-b)*this.ra.y-a.mp;this.ka[d].Set(e,h)}this.ra.x*=-1;this.ra.y*=-1};var Fd=function(){this.ig=[]};r=Fd.prototype;
r.ac=function(a,c,b){for(this.nm=b;this.ig.length<this.nm;)this.ig[this.ig.length]=new Zd;for(a=0;a<b;a++){var d=c[a],e=d.Cb,h=d.wb,f=e.sh.Qa,g=h.sh.Qa,n=e.Na(),m=h.Na(),l=d.De,k=Math.sqrt(e.As*h.As),q,e=e.Hs,h=h.Hs;q=e>h?e:h;var p=n.p.x,s=n.p.y,t=m.p.x,v=m.p.y,x=n.D,B=m.D;he.ac(l,n.A,f,m.A,g);e=he.ra.x;d=he.ra.y;h=this.ig[a];h.J=n;h.L=m;h.aD=l;h.kd.x=e;h.kd.y=d;h.ef=l.Rb;h.bg=k;h.xg=q;h.gg.x=l.Lc.x;h.gg.y=l.Lc.y;h.Qb.x=l.qa.x;h.Qb.y=l.qa.y;h.mp=f+g;h.type=l.Ra;for(f=0;f<h.ef;++f){k=l.ka[f];g=h.Vb[f];
g.Tb=k.sj;g.Bg=k.wj;g.Qb.F(k.qa);k=g.Gb.x=he.ka[f].x-n.m.r.x;q=g.Gb.y=he.ka[f].y-n.m.r.y;var z=g.Hb.x=he.ka[f].x-m.m.r.x,A=g.Hb.y=he.ka[f].y-m.m.r.y,D=k*d-q*e,E=z*d-A*e,D=D*D,E=E*E;g.vh=1/(n.H+m.H+n.O*D+m.O*E);var C=n.Q*n.H+m.Q*m.H,C=C+(n.Q*n.O*D+m.Q*m.O*E);g.hB=1/C;E=d;C=-e;D=k*C-q*E;E=z*C-A*E;D*=D;E*=E;g.YD=1/(n.H+m.H+n.O*D+m.O*E);g.Vm=0;k=h.kd.x*(t+-B*A-p- -x*q)+h.kd.y*(v+B*z-s-x*k);-1>k&&(g.Vm+=-h.xg*k)}2==h.ef&&(v=h.Vb[0],t=h.Vb[1],l=n.H,n=n.O,p=m.H,m=m.O,s=v.Gb.x*d-v.Gb.y*e,v=v.Hb.x*d-v.Hb.y*
e,x=t.Gb.x*d-t.Gb.y*e,t=t.Hb.x*d-t.Hb.y*e,e=l+p+n*s*s+m*v*v,d=l+p+n*x*x+m*t*t,m=l+p+n*s*x+m*v*t,e*e<100*(e*d-m*m)?(h.Xd.j.Set(e,m),h.Xd.k.Set(m,d),h.Xd.dq(h.vh)):h.ef=1)}};r.Ke=function(a){for(var c=0;c<this.nm;++c){var b=this.ig[c],d=b.J,e=b.L,h=d.H,f=d.O,g=e.H,n=e.O,m=b.kd.x,l=b.kd.y,k=l,q=-m,p=0,s=0;if(a.Dh)for(s=b.ef,p=0;p<s;++p){var t=b.Vb[p];t.Tb*=a.jc;t.Bg*=a.jc;var v=t.Tb*m+t.Bg*k,x=t.Tb*l+t.Bg*q;d.D-=f*(t.Gb.x*x-t.Gb.y*v);d.p.x-=h*v;d.p.y-=h*x;e.D+=n*(t.Hb.x*x-t.Hb.y*v);e.p.x+=g*v;e.p.y+=
g*x}else for(s=b.ef,p=0;p<s;++p)d=b.Vb[p],d.Tb=0,d.Bg=0}};r.ne=function(){for(var a=0;a<this.nm;a++)this.Ez(this.ig[a])};r.Ez=function(a){for(var c=a.kd.x,b=a.kd.y,d=0;d<a.ef;d++)Fd.prototype.Fz(a,a.Vb[d]);if(1==a.ef){var d=a.Vb[0],e=d.Tb-d.vh*((a.L.p.x-a.L.D*d.Hb.y-a.J.p.x+a.J.D*d.Gb.y)*c+(a.L.p.y+a.L.D*d.Hb.x-a.J.p.y-a.J.D*d.Gb.x)*b-d.Vm),e=0<e?e:0,h=e-d.Tb,f=h*c,b=h*b;a.J.p.x-=a.J.H*f;a.J.p.y-=a.J.H*b;a.J.D-=a.J.O*(d.Gb.x*b-d.Gb.y*f);a.L.p.x+=a.L.H*f;a.L.p.y+=a.L.H*b;a.L.D+=a.L.O*(d.Hb.x*b-d.Hb.y*
f);d.Tb=e}else for(var d=a.Vb[0],e=a.Vb[1],h=d.Tb,f=e.Tb,g=(a.L.p.x-a.L.D*d.Hb.y-a.J.p.x+a.J.D*d.Gb.y)*c+(a.L.p.y+a.L.D*d.Hb.x-a.J.p.y-a.J.D*d.Gb.x)*b-d.Vm,b=(a.L.p.x-a.L.D*e.Hb.y-a.J.p.x+a.J.D*e.Gb.y)*c+(a.L.p.y+a.L.D*e.Hb.x-a.J.p.y-a.J.D*e.Gb.x)*b-e.Vm,g=g-(a.Xd.j.x*h+a.Xd.k.x*f),b=b-(a.Xd.j.y*h+a.Xd.k.y*f);;){c=-(a.vh.j.x*g+a.vh.k.x*b);if(0<=c){var n=-(a.vh.j.y*g+a.vh.k.y*b);if(0<=n){this.sn(a,d,e,c-h,n-f);d.Tb=c;e.Tb=n;break}}c=-d.vh*g;if(0<=c&&0<=a.Xd.j.y*c+b){this.sn(a,d,e,c-h,-f);d.Tb=c;e.Tb=
0;break}c=-e.vh*b;if(0<=c&&0<=a.Xd.k.x*c+g){this.sn(a,d,e,-h,c-f);d.Tb=0;e.Tb=c;break}if(0<=g&&0<=b){this.sn(a,d,e,-h,-f);d.Tb=0;e.Tb=0;break}break}};r.Fz=function(a,c){var b=a.kd.y,d=-a.kd.x,e=a.bg*c.Tb,e=P.qb(c.Bg-c.YD*((a.L.p.x-a.L.D*c.Hb.y-a.J.p.x+a.J.D*c.Gb.y)*b+(a.L.p.y+a.L.D*c.Hb.x-a.J.p.y-a.J.D*c.Gb.x)*d),-e,e),h=e-c.Bg,b=h*b,d=h*d;a.J.p.x-=a.J.H*b;a.J.p.y-=a.J.H*d;a.J.D-=a.J.O*(c.Gb.x*d-c.Gb.y*b);a.L.p.x+=a.L.H*b;a.L.p.y+=a.L.H*d;a.L.D+=a.L.O*(c.Hb.x*d-c.Hb.y*b);c.Bg=e};r.sn=function(a,c,
b,d,e){var h=d*a.kd.x;d*=a.kd.y;var f=e*a.kd.x;e*=a.kd.y;a.J.p.x-=a.J.H*(h+f);a.J.p.y-=a.J.H*(d+e);a.J.D-=a.J.O*(c.Gb.x*d-c.Gb.y*h+b.Gb.x*e-b.Gb.y*f);a.L.p.x+=a.L.H*(h+f);a.L.p.y+=a.L.H*(d+e);a.L.D+=a.L.O*(c.Hb.x*d-c.Hb.y*h+b.Hb.x*e-b.Hb.y*f);c.Tb=0;b.Tb=0};r.aq=function(){for(var a=0;a<this.nm;++a)for(var c=this.ig[a],b=c.aD,d=0;d<c.ef;++d){var e=b.ka[d],h=c.Vb[d];e.sj=h.Tb;e.wj=h.Bg}};r.me=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.nm;b++){var d=this.ig[b],e=d.J,h=d.L,f=e.Q*e.H,g=e.Q*
e.O,n=h.Q*h.H,m=h.Q*h.O;ie.ac(d);for(var l=ie.ra,k=0;k<d.ef;k++){var q=d.Vb[k],p=ie.ka[k],s=ie.$o[k],t=p.x-e.m.r.x,v=p.y-e.m.r.y,x=p.x-h.m.r.x,p=p.y-h.m.r.y,c=c<s?c:s,s=-q.hB*P.qb(a*(s+.005),-.2,0),q=s*l.x,s=s*l.y;e.m.r.x-=f*q;e.m.r.y-=f*s;e.m.K-=g*(t*s-v*q);e.Bb();h.m.r.x+=n*q;h.m.r.y+=n*s;h.m.K+=m*(x*s-p*q);h.Bb()}}return-.0075<c};var be=function(a,c){Kd.call(this,a,c)};K(be,Kd);be.prototype.Fc=function(a,c){Kd.prototype.Fc.call(this,a,c)};be.prototype.Rf=function(){this.Cb.qc();this.wb.qc()};var $d=
function(a,c){Kd.call(this,a,c)};K($d,Kd);$d.prototype.Fc=function(a,c){Kd.prototype.Fc.call(this,a,c)};$d.prototype.Rf=function(){a:{var a=this.De,c=this.Cb.qc(),b=this.Cb.Na().A,d=this.wb.qc(),e=this.wb.Na().A;a.Rb=0;for(var h=e.position.x+(e.n.j.x*d.cb.x+e.n.k.x*d.cb.y)-b.position.x,f=e.position.y+(e.n.j.y*d.cb.x+e.n.k.y*d.cb.y)-b.position.y,e=h*b.n.j.x+f*b.n.j.y,b=h*b.n.k.x+f*b.n.k.y,h=0,f=-Number.MAX_VALUE,g=c.Qa+d.Qa,n=0;n<c.Ka;++n){var m=c.ta[n].x*(e-c.I[n].x)+c.ta[n].y*(b-c.I[n].y);if(m>g)break a;
m>f&&(f=m,h=n)}m=h+1;m>=c.Ka&&(m=0);var n=c.I[h],l=c.I[m];f<Number.MIN_VALUE?(a.Rb=1,a.Ra=2,a.Lc.F(c.ta[h]),a.qa.x=.5*(n.x+l.x),a.qa.y=.5*(n.y+l.y),a.ka[0].qa.F(d.cb),a.ka[0].$e.Ii(0)):0>=(e-n.x)*(l.x-n.x)+(b-n.y)*(l.y-n.y)?(e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>g*g||(a.Rb=1,a.Ra=2,a.Lc.x=e-n.x,a.Lc.y=b-n.y,a.Lc.vd(),a.qa.F(n),a.ka[0].qa.F(d.cb),a.ka[0].$e.Ii(0)):0>=(e-l.x)*(n.x-l.x)+(b-l.y)*(n.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>g*g||(a.Rb=1,a.Ra=2,a.Lc.x=e-l.x,a.Lc.y=b-l.y,a.Lc.vd(),a.qa.F(l),a.ka[0].qa.F(d.cb),
a.ka[0].$e.Ii(0)):(m=.5*(n.x+l.x),n=.5*(n.y+l.y),f=(e-m)*c.ta[h].x+(b-n)*c.ta[h].y,f>g||(a.Rb=1,a.Ra=2,a.Lc.x=c.ta[h].x,a.Lc.y=c.ta[h].y,a.Lc.vd(),a.qa.Set(m,n),a.ka[0].qa.F(d.cb),a.ka[0].$e.Ii(0)))}};var ce=function(a,c){Kd.call(this,a,c)};K(ce,Kd);ce.prototype.Fc=function(a,c){Kd.prototype.Fc.call(this,a,c)};ce.prototype.Rf=function(){this.Cb.qc();this.wb.qc()};var ae=function(a,c){Kd.call(this,a,c)};K(ae,Kd);ae.prototype.Fc=function(a,c){Kd.prototype.Fc.call(this,a,c)};ae.prototype.Rf=function(){var a=
this.De,c=this.Cb.qc(),b=this.Cb.Na().A,d=this.wb.qc(),e=this.wb.Na().A;a.Rb=0;var h=c.Qa+d.Qa,f=Rc(c,b,d,e),g=f.Yu;if(!(f.up>h)){var n=Rc(d,e,c,b);if(!(n.up>h)){var m=c,l=d,k=b,q=e,p=0;a.Ra=2;n.up>.98*f.up+.001&&(m=d,l=c,k=e,q=b,g=n.Yu,a.Ra=4,p=1);c=g;b=q;d=je;void 0===c&&(c=0);for(var e=k.n.j.x*m.ta[c].x+k.n.k.x*m.ta[c].y,f=k.n.j.y*m.ta[c].x+k.n.k.y*m.ta[c].y,n=b.n.j.x*e+b.n.j.y*f,f=b.n.k.x*e+b.n.k.y*f,e=n,n=0,s=Number.MAX_VALUE,t=0;t<l.Ka;t++){var v=e*l.ta[t].x+f*l.ta[t].y;v<s&&(s=v,n=t)}e=n+1;
e>=l.Ka&&(e=0);d[0].Ie.x=b.position.x+(b.n.j.x*l.I[n].x+b.n.k.x*l.I[n].y);d[0].Ie.y=b.position.y+(b.n.j.y*l.I[n].x+b.n.k.y*l.I[n].y);d[0].id.Eu(c);d[0].id.Cu(n);d[0].id.Du(0);d[1].Ie.x=b.position.x+(b.n.j.x*l.I[e].x+b.n.k.x*l.I[e].y);d[1].Ie.y=b.position.y+(b.n.j.y*l.I[e].x+b.n.k.y*l.I[e].y);d[1].id.Eu(c);d[1].id.Cu(e);d[1].id.Du(1);c=m.I[g];g=g+1<m.Ka?m.I[g+1]:m.I[0];ke.Set(g.x-c.x,g.y-c.y);ke.vd();le.x=ke.y;le.y=-ke.x;me.Set(.5*(c.x+g.x),.5*(c.y+g.y));ne.x=k.n.j.x*ke.x+k.n.k.x*ke.y;ne.y=k.n.j.y*
ke.x+k.n.k.y*ke.y;oe.x=-ne.x;oe.y=-ne.y;pe.x=ne.y;pe.y=-ne.x;qe.x=k.position.x+(k.n.j.x*c.x+k.n.k.x*c.y);qe.y=k.position.y+(k.n.j.y*c.x+k.n.k.y*c.y);re.x=k.position.x+(k.n.j.x*g.x+k.n.k.x*g.y);re.y=k.position.y+(k.n.j.y*g.x+k.n.k.y*g.y);if(!(2>Pc(se,je,oe,-ne.x*qe.x-ne.y*qe.y+h)||2>Pc(te,se,ne,ne.x*re.x+ne.y*re.y+h))){a.Lc.F(le);a.qa.F(me);k=pe.x*qe.x+pe.y*qe.y;for(m=g=0;2>m;++m)pe.x*te[m].Ie.x+pe.y*te[m].Ie.y-k<=h&&(c=te[m].Ie.x-q.position.x,l=te[m].Ie.y-q.position.y,a.ka[g].qa.x=c*q.n.j.x+l*q.n.j.y,
a.ka[g].qa.y=c*q.n.k.x+l*q.n.k.y,a.ka[g].$e.Set(te[m].id),a.ka[g].$e.wz(p),g++);a.Rb=g}}}};var ve=function(){this.td="Controller"+ue++;this.Ea=null;this.Gc=new rd};ve.prototype.Kg=function(){};ve.prototype.Gj=function(a){this.Gc.Gj(a);a.Uk(this)};ve.prototype.gl=function(a){this.Gc.gl(a);a.hl(this)};ve.prototype.bn=function(){for(var a=this.Gc.Fa(qd);a;a=a.next)this.gl(a.body)};var ue=0,we=function(){ve.call(this);this.kd=N.q(0,-1);this.tf=this.offset=0;this.ey=N.q(0,0);this.EC=2;this.gA=1;this.iE=
!0;this.Fv=null};K(we,ve);we.prototype.Kg=function(){this.iE&&(this.Fv=this.Ea.zw.hc());for(var a=this.Gc.Fa(vd);a;a=a.next){for(var c=a.body,b=N.q(0,0),d=N.q(0,0),e=0,h=0,f=c.cq().Fa();f;f=f.next){var g=N.q(0,0),n=f.Te.qc().dn(this.kd,this.offset,c.Wd(),g),e=e+n;b.x+=n*g.x;b.y+=n*g.y;var m=0,m=1,h=h+n*m;d.x+=n*g.x*m;d.y+=n*g.y*m}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=h,d.y/=h,h=this.Fv.Hh(),h.ud(this.tf*e),c.Pf(h,d),h=c.Ly(b),h.xq(this.ey),h.ud(-this.EC*e),c.Pf(h,b),c.$m(-c.Ye/c.Mj()*e*c.kn()*this.gA),
N.$b(b),N.$b(d))}};var xe=function(){ve.call(this);this.Ut=N.q(0,0)};K(xe,ve);xe.prototype.Kg=function(a){a=N.q(this.Ut.x*a.Aa,this.Ut.y*a.Aa);for(var c=this.Gc.Fa(vd);c;c=c.next){var b=c.body,d=b.Di();b.Ji(N.q(d.x+a.x,d.y+a.y))}N.$b(a)};var ye=function(){ve.call(this);this.Iy=N.q(0,0)};K(ye,ve);ye.prototype.Kg=function(){for(var a=this.Gc.Fa(vd);a;a=a.next){var c=a.body;c.Pf(this.Iy,c.Nj())}};var nd=function(){this.Vq=this.Uq=null;this.Jn={}};nd.prototype.Fa=function(){return this.Uq};nd.prototype.Uk=
function(a){var c=a.td;if(null==this.Jn[c]){a=new ze(a);var b=this.Vq;null!=b?b.of(a):this.Uq=a;a.pf(b);this.Vq=a;this.Jn[c]=a}};nd.prototype.hl=function(a){a=a.td;var c=this.Jn[a];if(null!=c){var b=c.ff,c=c.next;null==b?this.Uq=c:b.of(c);null==c?this.Vq=b:c.pf(b);delete this.Jn[a]}};var ze=function(a){this.kv=a;this.ff=this.next=null};ze.prototype.of=function(a){this.next=a};ze.prototype.pf=function(a){this.ff=a};var Ae=function(){ve.call(this);this.cu=1;this.tC=!0};K(Ae,ve);Ae.prototype.Kg=function(){var a=
null,c=null,b=0,d=null,e=null,h=0,f=0,g=0,h=null;if(this.tC)for(var n=this.Gc.Fa(qd);n;n=n.next)for(var a=n.body,c=a.Nj(),b=a.Mj(),m=this.Gc.Fa(qd);m;m=m.next){if(d=m.body,a.Yc()||d.Yc())e=d.Nj(),h=e.x-c.x,f=e.y-c.y,g=h*h+f*f,g<Number.MIN_VALUE||(h=N.q(h,f),h.ud(this.cu/g/Math.sqrt(g)*b*d.Mj()),a.Yc()&&a.Pf(h,c),h.ud(-1),d.Yc()&&d.Pf(h,e),N.$b(h))}else for(n=this.Gc.Fa(qd);n;n=n.next)for(a=bodyNode.body,c=a.Nj(),b=a.Mj(),m=this.Gc.Fa(qd);m;m=m.next)if(d=bodyNode.body,a.Yc()||d.Yc())e=d.Nj(),h=e.x-
c.x,f=e.y-c.y,g=h*h+f*f,g<Number.MIN_VALUE||(h=N.q(h,f),h.ud(this.cu/g*b*d.Mj()),a.Yc()&&a.Pf(h,c),h.ud(-1),d.Yc()&&d.Pf(h,e),N.$b(h))};var Be=function(){ve.call(this);this.Iz=new O;this.Ms=0};K(Be,ve);Be.prototype.Kg=function(a){a=a.Aa;if(!(a<=Number.MIN_VALUE)){a>this.Ms&&0<this.Ms&&(a=this.Ms);for(var c=this.Gc.Fa(vd);c;c=c.next){var b=c.body,d=b.gq(P.Mb(this.Iz,b.fq(b.Di())));b.Ji(N.q(b.Di().x+d.x*a,b.Di().y+d.y*a))}}};var W=function(a){this.Cd=new Ce;this.Dd=new Ce;this.lg=N.q(0,0);this.mg=N.q(0,
0);this.Ra=a.type;this.fi=this.tk=null;this.S=a.J;this.T=a.L;this.xw=a.Sq};W.prototype.Ec=function(){return this.Ra};W.prototype.$k=function(){return this.S};W.prototype.bq=function(){return this.T};W.prototype.Gi=function(){return this.S.Gi()&&this.T.Gi()};W.Je=function(a){return a.Je()};W.prototype.Ke=function(){};W.prototype.ne=function(){};W.prototype.aq=function(){};W.prototype.me=function(){return!1};W.bB=0;W.Xj=1;W.$A=2;W.gr=3;W.aB=4;W.yF=5;W.YA=6;W.ZA=7;W.cB=8;W.XA=9;W.xd=0;W.$f=1;W.Jc=2;
W.Sh=3;var De=function(){this.type=W.bB;this.L=this.J=null;this.Sq=!1},Ce=function(){},Ee=function(a){W.call(this,a);this.ba=N.q(0,0);this.ca=N.q(0,0);this.lc=N.q(0,0);this.ba.F(a.mb);this.ca.F(a.nb);this.Bs=a.length;this.zs=a.fo;this.KC=a.Pn;this.ww=this.rj=this.B=0};K(Ee,W);Ee.prototype.Ke=function(a){var c,b=0,d=this.S,e=this.T;c=d.A.n;var h=this.ba.x-d.m.M.x,f=this.ba.y-d.m.M.y,b=c.j.x*h+c.k.x*f,f=c.j.y*h+c.k.y*f,h=b;c=e.A.n;var g=this.ca.x-e.m.M.x,n=this.ca.y-e.m.M.y,b=c.j.x*g+c.k.x*n,n=c.j.y*
g+c.k.y*n,g=b;this.lc.x=e.m.r.x+g-d.m.r.x-h;this.lc.y=e.m.r.y+n-d.m.r.y-f;b=Math.sqrt(this.lc.x*this.lc.x+this.lc.y*this.lc.y);.005<b?this.lc.ud(1/b):this.lc.ea();c=h*this.lc.y-f*this.lc.x;var m=g*this.lc.y-n*this.lc.x;c=d.H+d.O*c*c+e.H+e.O*m*m;this.Q=0!=c?1/c:0;if(0<this.zs){var b=b-this.Bs,m=2*Math.PI*this.zs,l=this.Q*m*m;this.rj=a.Aa*(2*this.Q*this.KC*m+a.Aa*l);this.rj=0!=this.rj?1/this.rj:0;this.ww=b*a.Aa*l*this.rj;this.Q=c+this.rj;this.Q=0!=this.Q?1/this.Q:0}a.Dh?(this.B*=a.jc,a=this.B*this.lc.x,
c=this.B*this.lc.y,d.p.x-=d.H*a,d.p.y-=d.H*c,d.D-=d.O*(h*c-f*a),e.p.x+=e.H*a,e.p.y+=e.H*c,e.D+=e.O*(g*c-n*a)):this.B=0};Ee.prototype.ne=function(){var a=this.ba.x-this.S.m.M.x,c=this.ba.y-this.S.m.M.y,b=this.S.A.n.j.x*a+this.S.A.n.k.x*c,c=this.S.A.n.j.y*a+this.S.A.n.k.y*c,a=b,d=this.ca.x-this.T.m.M.x,e=this.ca.y-this.T.m.M.y,b=this.T.A.n.j.x*d+this.T.A.n.k.x*e,e=this.T.A.n.j.y*d+this.T.A.n.k.y*e,d=b,h=-this.Q*(this.lc.x*(this.T.p.x-this.T.D*e-(this.S.p.x-this.S.D*c))+this.lc.y*(this.T.p.y+this.T.D*
d-(this.S.p.y+this.S.D*a))+this.ww+this.rj*this.B);this.B+=h;b=h*this.lc.x;h*=this.lc.y;this.S.p.x-=this.S.H*b;this.S.p.y-=this.S.H*h;this.S.D-=this.S.O*(a*h-c*b);this.T.p.x+=this.T.H*b;this.T.p.y+=this.T.H*h;this.T.D+=this.T.O*(d*h-e*b)};Ee.prototype.me=function(){if(0<this.zs)return!0;var a=this.ba.x-this.S.m.M.x,c=this.ba.y-this.S.m.M.y,b=this.S.A.n.j.x*a+this.S.A.n.k.x*c,c=this.S.A.n.j.y*a+this.S.A.n.k.y*c,a=b,d=this.ca.x-this.T.m.M.x,e=this.ca.y-this.T.m.M.y,b=this.T.A.n.j.x*d+this.T.A.n.k.x*
e,e=this.T.A.n.j.y*d+this.T.A.n.k.y*e,d=b,h=this.T.m.r.x+d-this.S.m.r.x-a,f=this.T.m.r.y+e-this.S.m.r.y-c,g=Math.sqrt(h*h+f*f),b=P.qb(g-this.Bs,-.2,.2),n=-this.Q*b;this.lc.Set(h/g,f/g);h=n*this.lc.x;n*=this.lc.y;this.S.m.r.x-=this.S.H*h;this.S.m.r.y-=this.S.H*n;this.S.m.K-=this.S.O*(a*n-c*h);this.T.m.r.x+=this.T.H*h;this.T.m.r.y+=this.T.H*n;this.T.m.K+=this.T.O*(d*n-e*h);this.S.Bb();this.T.Bb();return.005>Math.abs(b)};var wc=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.type=W.gr;
this.length=1;this.Pn=this.fo=0};K(wc,De);wc.prototype.ac=function(a,c,b,d){this.J=a;this.L=c;this.mb.F(this.J.Xc(b));this.nb.F(this.L.Xc(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.Pn=this.fo=0};wc.prototype.Je=function(){return new Ee(this)};var Fe=function(a){W.call(this,a);this.Ae=N.q(0,0);this.Be=N.q(0,0);this.Es=new O;this.ze=N.q(0,0);this.Ae.F(a.mb);this.Be.F(a.nb);this.Es.ea();this.lm=0;this.ze.ea();this.kh=0;this.VC=a.cD;this.XC=a.dD};K(Fe,W);Fe.prototype.Ke=function(a){var c,
b=0,d=this.S,e=this.T;c=d.A.n;var h=this.Ae.x-d.m.M.x,f=this.Ae.y-d.m.M.y,b=c.j.x*h+c.k.x*f,f=c.j.y*h+c.k.y*f,h=b;c=e.A.n;var g=this.Be.x-e.m.M.x,n=this.Be.y-e.m.M.y,b=c.j.x*g+c.k.x*n,n=c.j.y*g+c.k.y*n,g=b;c=d.H;var b=e.H,m=d.O,l=e.O,k=new O;k.j.x=c+b;k.k.x=0;k.j.y=0;k.k.y=c+b;k.j.x+=m*f*f;k.k.x+=-m*h*f;k.j.y+=-m*h*f;k.k.y+=m*h*h;k.j.x+=l*n*n;k.k.x+=-l*g*n;k.j.y+=-l*g*n;k.k.y+=l*g*g;k.dq(this.Es);this.lm=m+l;0<this.lm&&(this.lm=1/this.lm);a.Dh?(this.ze.x*=a.jc,this.ze.y*=a.jc,this.kh*=a.jc,a=this.ze,
d.p.x-=c*a.x,d.p.y-=c*a.y,d.D-=m*(h*a.y-f*a.x+this.kh),e.p.x+=b*a.x,e.p.y+=b*a.y,e.D+=l*(g*a.y-n*a.x+this.kh)):(this.ze.ea(),this.kh=0)};Fe.prototype.ne=function(a){var c,b=0,d=this.S,e=this.T,h=d.p,f=d.D,g=e.p,n=e.D,m=d.H,l=e.H,k=d.O,q=e.O;c=d.A.n;var p=this.Ae.x-d.m.M.x,s=this.Ae.y-d.m.M.y,b=c.j.x*p+c.k.x*s,s=c.j.y*p+c.k.y*s,p=b;c=e.A.n;var t=this.Be.x-e.m.M.x,v=this.Be.y-e.m.M.y,b=c.j.x*t+c.k.x*v,v=c.j.y*t+c.k.y*v,t=b;c=0;var b=-this.lm*(n-f),x=this.kh;c=a.Aa*this.XC;this.kh=P.qb(this.kh+b,-c,
c);b=this.kh-x;f-=k*b;n+=q*b;c=P.Mb(this.Es,N.q(-(g.x-n*v-h.x+f*s),-(g.y+n*t-h.y-f*p)));b=this.ze.hc();this.ze.Hg(c);c=a.Aa*this.VC;this.ze.qn()>c*c&&(this.ze.vd(),this.ze.ud(c));c=P.lb(this.ze,b);h.x-=m*c.x;h.y-=m*c.y;f-=k*(p*c.y-s*c.x);g.x+=l*c.x;g.y+=l*c.y;n+=q*(t*c.y-v*c.x);d.D=f;e.D=n};Fe.prototype.me=function(){return!0};var Ge=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.type=W.XA;this.dD=this.cD=0};K(Ge,De);Ge.prototype.ac=function(a,c,b){this.J=a;this.L=c;this.mb.F(this.J.Xc(b));
this.nb.F(this.L.Xc(b))};Ge.prototype.Je=function(){return new Fe(this)};var Ie=function(a){W.call(this,a);this.ph=N.q(0,0);this.qh=N.q(0,0);this.ba=N.q(0,0);this.ca=N.q(0,0);this.ub=new He;var c=a.lk.Ra,b=a.mk.Ra;this.vk=this.vj=this.uk=this.uj=null;var d=0,e=0;this.NC=a.lk.$k();this.S=a.lk.bq();c==W.Xj?(this.uj=a.lk,this.ph.F(this.uj.ba),this.ba.F(this.uj.ca),d=this.uj.ln()):(this.uk=a.lk,this.ph.F(this.uk.ba),this.ba.F(this.uk.ca),d=this.uk.bl());this.OC=a.mk.$k();this.T=a.mk.bq();b==W.Xj?(this.vj=
a.mk,this.qh.F(this.vj.ba),this.ca.F(this.vj.ca),e=this.vj.ln()):(this.vk=a.mk,this.qh.F(this.vk.ba),this.ca.F(this.vk.ca),e=this.vk.bl());this.Fb=a.pi;this.sk=d+this.Fb*e;this.B=0};K(Ie,W);Ie.prototype.Ke=function(a){var c=this.NC,b=this.OC,d=this.S,e=this.T,h=0,f=0,g=0,n=0,m=g=0,l=0;this.ub.ea();this.uj?(this.ub.Li=-1,l+=d.O):(c=c.A.n,f=this.uk.Nd,h=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=d.A.n,g=this.ba.x-d.m.M.x,n=this.ba.y-d.m.M.y,m=c.j.x*g+c.k.x*n,n=c.j.y*g+c.k.y*n,g=m*f-n*h,this.ub.zf.Set(-h,
-f),this.ub.Li=-g,l+=d.H+d.O*g*g);this.vj?(this.ub.Mi=-this.Fb,l+=this.Fb*this.Fb*e.O):(c=b.A.n,f=this.vk.Nd,h=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=e.A.n,g=this.ca.x-e.m.M.x,n=this.ca.y-e.m.M.y,m=c.j.x*g+c.k.x*n,n=c.j.y*g+c.k.y*n,g=m*f-n*h,this.ub.Af.Set(-this.Fb*h,-this.Fb*f),this.ub.Mi=-this.Fb*g,l+=this.Fb*this.Fb*(e.H+e.O*g*g));this.Q=0<l?1/l:0;a.Dh?(d.p.x+=d.H*this.B*this.ub.zf.x,d.p.y+=d.H*this.B*this.ub.zf.y,d.D+=d.O*this.B*this.ub.Li,e.p.x+=e.H*this.B*this.ub.Af.x,e.p.y+=e.H*this.B*
this.ub.Af.y,e.D+=e.O*this.B*this.ub.Mi):this.B=0};Ie.prototype.ne=function(){var a=this.S,c=this.T,b=-this.Q*this.ub.zy(a.p,a.D,c.p,c.D);this.B+=b;a.p.x+=a.H*b*this.ub.zf.x;a.p.y+=a.H*b*this.ub.zf.y;a.D+=a.O*b*this.ub.Li;c.p.x+=c.H*b*this.ub.Af.x;c.p.y+=c.H*b*this.ub.Af.y;c.D+=c.O*b*this.ub.Mi};Ie.prototype.me=function(){var a=this.S,c=this.T,b=0,d=0,b=this.uj?this.uj.ln():this.uk.bl(),d=this.vj?this.vj.ln():this.vk.bl(),b=-this.Q*(this.sk-(b+this.Fb*d));a.m.r.x+=a.H*b*this.ub.zf.x;a.m.r.y+=a.H*
b*this.ub.zf.y;a.m.K+=a.O*b*this.ub.Li;c.m.r.x+=c.H*b*this.ub.Af.x;c.m.r.y+=c.H*b*this.ub.Af.y;c.m.K+=c.O*b*this.ub.Mi;a.Bb();c.Bb();return!0};var Je=function(){De.call(this);this.type=W.YA;this.mk=this.lk=null;this.pi=1};K(Je,De);Je.prototype.ac=function(a,c,b){this.lk=a;this.J=a.$k();this.mk=c;this.L=c.$k();this.pi=b};Je.prototype.Je=function(){return new Ie(this)};var He=function(){this.zf=N.q(0,0);this.Af=N.q(0,0)};He.prototype.ea=function(){this.zf.ea();this.Li=0;this.Af.ea();this.Mi=0};He.prototype.Set=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.zf.F(a);this.Li=c;this.Af.F(b);this.Mi=d};He.prototype.zy=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.zf.x*a.x+this.zf.y*a.y+this.Li*c+(this.Af.x*b.x+this.Af.y*b.y)+this.Mi*d};var Ke=function(a){W.call(this,a);this.ba=N.q(0,0);this.ca=N.q(0,0);this.Nd=N.q(0,0);this.rh=N.q(0,0);this.P=N.q(0,0);this.ga=N.q(0,0);this.Y=new O;this.B=N.q(0,0);this.ba.F(a.mb);this.ca.F(a.nb);this.Nd.F(a.mj);this.rh.x=-this.Nd.y;this.rh.y=this.Nd.x;
this.B.ea();this.Ja=this.Ed=0;this.Ce=a.us;this.Ee=a.Ot;this.Fs=a.Ls;this.tm=a.Bk;this.Cf=a.Xi;this.ei=a.Yj;this.wa=W.xd;this.P.ea();this.ga.ea()};K(Ke,W);Ke.prototype.bl=function(){var a=this.S,c=this.T,b=a.on(this.ba),d=c.on(this.ca),c=d.x-b.x,b=d.y-b.y,a=a.gq(this.Nd);return a.x*c+a.y*b};Ke.prototype.Ke=function(a){var c=this.S,b=this.T,d,e=0;this.lg.F(c.Ei());this.mg.F(b.Ei());var h=c.Wd();b.Wd();d=c.A.n;var f=this.ba.x-this.lg.x,g=this.ba.y-this.lg.y,e=d.j.x*f+d.k.x*g,g=d.j.y*f+d.k.y*g,f=e;d=
b.A.n;var n=this.ca.x-this.mg.x,m=this.ca.y-this.mg.y,e=d.j.x*n+d.k.x*m,m=d.j.y*n+d.k.y*m,n=e;d=b.m.r.x+n-c.m.r.x-f;e=b.m.r.y+m-c.m.r.y-g;this.Db=c.H;this.Eb=b.H;this.gd=c.O;this.hd=b.O;this.P.F(P.Mb(h.n,this.Nd));this.Sa=(d+f)*this.P.y-(e+g)*this.P.x;this.Ta=n*this.P.y-m*this.P.x;this.Ed=this.Db+this.Eb+this.gd*this.Sa*this.Sa+this.hd*this.Ta*this.Ta;this.Ed=this.Ed>Number.MIN_VALUE?1/this.Ed:0;this.ga.F(P.Mb(h.n,this.rh));this.Ya=(d+f)*this.ga.y-(e+g)*this.ga.x;this.Za=n*this.ga.y-m*this.ga.x;h=
this.Db;f=this.Eb;g=this.gd;n=this.hd;this.Y.j.x=h+f+g*this.Ya*this.Ya+n*this.Za*this.Za;this.Y.j.y=g*this.Ya*this.Sa+n*this.Za*this.Ta;this.Y.k.x=this.Y.j.y;this.Y.k.y=h+f+g*this.Sa*this.Sa+n*this.Ta*this.Ta;this.Cf?(d=this.P.x*d+this.P.y*e,.01>Math.abs(this.Ee-this.Ce)?this.wa=W.Sh:d<=this.Ce?this.wa!=W.$f&&(this.wa=W.$f,this.B.y=0):d>=this.Ee?this.wa!=W.Jc&&(this.wa=W.Jc,this.B.y=0):(this.wa=W.xd,this.B.y=0)):this.wa=W.xd;0==this.ei&&(this.Ja=0);a.Dh?(this.B.x*=a.jc,this.B.y*=a.jc,this.Ja*=a.jc,
a=this.B.x*this.ga.x+(this.Ja+this.B.y)*this.P.x,d=this.B.x*this.ga.y+(this.Ja+this.B.y)*this.P.y,e=this.B.x*this.Ya+(this.Ja+this.B.y)*this.Sa,h=this.B.x*this.Za+(this.Ja+this.B.y)*this.Ta,c.p.x-=this.Db*a,c.p.y-=this.Db*d,c.D-=this.gd*e,b.p.x+=this.Eb*a,b.p.y+=this.Eb*d,b.D+=this.hd*h):(this.B.ea(),this.Ja=0)};Ke.prototype.ne=function(a){var c=this.S,b=this.T,d=c.p,e=c.D,h=b.p,f=b.D,g=0,n=0,m=0,l=0;this.ei&&this.wa!=W.Sh&&(l=this.Ed*(this.tm-(this.P.x*(h.x-d.x)+this.P.y*(h.y-d.y)+this.Ta*f-this.Sa*
e)),g=this.Ja,n=a.Aa*this.Fs,this.Ja=P.qb(this.Ja+l,-n,n),l=this.Ja-g,g=l*this.P.x,n=l*this.P.y,m=l*this.Sa,l*=this.Ta,d.x-=this.Db*g,d.y-=this.Db*n,e-=this.gd*m,h.x+=this.Eb*g,h.y+=this.Eb*n,f+=this.hd*l);n=this.ga.x*(h.x-d.x)+this.ga.y*(h.y-d.y)+this.Za*f-this.Ya*e;this.Cf&&this.wa!=W.xd?(m=this.P.x*(h.x-d.x)+this.P.y*(h.y-d.y)+this.Ta*f-this.Sa*e,g=this.B.hc(),a=this.Y.Kh(N.q(0,0),-n,-m),this.B.Hg(a),this.wa==W.$f?this.B.y=Math.max(this.B.y,0):this.wa==W.Jc&&(this.B.y=Math.min(this.B.y,0)),n=-n-
(this.B.y-g.y)*this.Y.k.x,m=0,m=0!=this.Y.j.x?n/this.Y.j.x+g.x:g.x,this.B.x=m,a.x=this.B.x-g.x,a.y=this.B.y-g.y,g=a.x*this.ga.x+a.y*this.P.x,n=a.x*this.ga.y+a.y*this.P.y,m=a.x*this.Ya+a.y*this.Sa,l=a.x*this.Za+a.y*this.Ta):(a=0,a=0!=this.Y.j.x?-n/this.Y.j.x:0,this.B.x+=a,g=a*this.ga.x,n=a*this.ga.y,m=a*this.Ya,l=a*this.Za);d.x-=this.Db*g;d.y-=this.Db*n;e-=this.gd*m;h.x+=this.Eb*g;h.y+=this.Eb*n;f+=this.hd*l;c.p.F(d);c.D=e;b.p.F(h);b.D=f};Ke.prototype.me=function(){var a=this.S,c=this.T,b=a.m.r,d=
a.m.K,e=c.m.r,h=c.m.K,f,g=0,n=0,m=0,l=0,k=f=0,q=0,n=!1,p=0,s=O.Lj(d),m=O.Lj(h);f=s;var q=this.ba.x-this.lg.x,t=this.ba.y-this.lg.y,g=f.j.x*q+f.k.x*t,t=f.j.y*q+f.k.y*t,q=g;f=m;m=this.ca.x-this.mg.x;l=this.ca.y-this.mg.y;g=f.j.x*m+f.k.x*l;l=f.j.y*m+f.k.y*l;m=g;f=e.x+m-b.x-q;g=e.y+l-b.y-t;if(this.Cf){this.P=P.Mb(s,this.Nd);this.Sa=(f+q)*this.P.y-(g+t)*this.P.x;this.Ta=m*this.P.y-l*this.P.x;var v=this.P.x*f+this.P.y*g;.01>Math.abs(this.Ee-this.Ce)?(p=P.qb(v,-.2,.2),k=Math.abs(v),n=!0):v<=this.Ce?(p=P.qb(v-
this.Ce+.005,-.2,0),k=this.Ce-v,n=!0):v>=this.Ee&&(p=P.qb(v-this.Ee+.005,0,.2),k=v-this.Ee,n=!0)}this.ga=P.Mb(s,this.rh);this.Ya=(f+q)*this.ga.y-(g+t)*this.ga.x;this.Za=m*this.ga.y-l*this.ga.x;s=N.q(0,0);t=this.ga.x*f+this.ga.y*g;k=Math.max(k,Math.abs(t));q=0;n?(n=this.Db,m=this.Eb,l=this.gd,f=this.hd,this.Y.j.x=n+m+l*this.Ya*this.Ya+f*this.Za*this.Za,this.Y.j.y=l*this.Ya*this.Sa+f*this.Za*this.Ta,this.Y.k.x=this.Y.j.y,this.Y.k.y=n+m+l*this.Sa*this.Sa+f*this.Ta*this.Ta,this.Y.Kh(s,-t,-p)):(n=this.Db,
m=this.Eb,l=this.gd,f=this.hd,p=n+m+l*this.Ya*this.Ya+f*this.Za*this.Za,s.x=0!=p?-t/p:0,s.y=0);p=s.x*this.ga.x+s.y*this.P.x;n=s.x*this.ga.y+s.y*this.P.y;t=s.x*this.Ya+s.y*this.Sa;s=s.x*this.Za+s.y*this.Ta;b.x-=this.Db*p;b.y-=this.Db*n;d-=this.gd*t;e.x+=this.Eb*p;e.y+=this.Eb*n;h+=this.hd*s;a.m.K=d;c.m.K=h;a.Bb();c.Bb();return.005>=k&&q<=yc};var Le=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.mj=N.q(0,0);this.type=W.ZA;this.mj.Set(1,0);this.Xi=!1;this.Ot=this.us=0;this.Yj=!1;this.Bk=
this.Ls=0};K(Le,De);Le.prototype.ac=function(a,c,b,d){this.J=a;this.L=c;this.mb=this.J.Xc(b);this.nb=this.L.Xc(b);this.mj=this.J.fq(d)};Le.prototype.Je=function(){return new Ke(this)};var Me=function(a){W.call(this,a);this.ba=N.q(0,0);this.ca=N.q(0,0);this.Nd=N.q(0,0);this.rh=N.q(0,0);this.P=N.q(0,0);this.ga=N.q(0,0);this.Y=new Fc;this.B=new Ec(0,0,0);this.ba.F(a.mb);this.ca.F(a.nb);this.Nd.F(a.mj);this.rh.x=-this.Nd.y;this.rh.y=this.Nd.x;this.YC=a.vg;this.B.ea();this.Ja=this.Ed=0;this.Ce=a.us;this.Ee=
a.Ot;this.Fs=a.Ls;this.tm=a.Bk;this.Cf=a.Xi;this.ei=a.Yj;this.wa=W.xd;this.P.ea();this.ga.ea()};K(Me,W);Me.prototype.bl=function(){var a=this.S,c=this.T,b=a.on(this.ba),d=c.on(this.ca),c=d.x-b.x,b=d.y-b.y,a=a.gq(this.Nd);return a.x*c+a.y*b};Me.prototype.Ke=function(a){var c=this.S,b=this.T,d,e=0;this.lg.F(c.Ei());this.mg.F(b.Ei());var h=c.Wd();b.Wd();d=c.A.n;var f=this.ba.x-this.lg.x,g=this.ba.y-this.lg.y,e=d.j.x*f+d.k.x*g,g=d.j.y*f+d.k.y*g,f=e;d=b.A.n;var n=this.ca.x-this.mg.x,m=this.ca.y-this.mg.y,
e=d.j.x*n+d.k.x*m,m=d.j.y*n+d.k.y*m,n=e;d=b.m.r.x+n-c.m.r.x-f;e=b.m.r.y+m-c.m.r.y-g;this.Db=c.H;this.Eb=b.H;this.gd=c.O;this.hd=b.O;this.P.F(P.Mb(h.n,this.Nd));this.Sa=(d+f)*this.P.y-(e+g)*this.P.x;this.Ta=n*this.P.y-m*this.P.x;this.Ed=this.Db+this.Eb+this.gd*this.Sa*this.Sa+this.hd*this.Ta*this.Ta;this.Ed>Number.MIN_VALUE&&(this.Ed=1/this.Ed);this.ga.F(P.Mb(h.n,this.rh));this.Ya=(d+f)*this.ga.y-(e+g)*this.ga.x;this.Za=n*this.ga.y-m*this.ga.x;h=this.Db;f=this.Eb;g=this.gd;n=this.hd;this.Y.j.x=h+f+
g*this.Ya*this.Ya+n*this.Za*this.Za;this.Y.j.y=g*this.Ya+n*this.Za;this.Y.j.z=g*this.Ya*this.Sa+n*this.Za*this.Ta;this.Y.k.x=this.Y.j.y;this.Y.k.y=g+n;this.Y.k.z=g*this.Sa+n*this.Ta;this.Y.oa.x=this.Y.j.z;this.Y.oa.y=this.Y.k.z;this.Y.oa.z=h+f+g*this.Sa*this.Sa+n*this.Ta*this.Ta;this.Cf?(d=this.P.x*d+this.P.y*e,.01>Math.abs(this.Ee-this.Ce)?this.wa=W.Sh:d<=this.Ce?this.wa!=W.$f&&(this.wa=W.$f,this.B.z=0):d>=this.Ee?this.wa!=W.Jc&&(this.wa=W.Jc,this.B.z=0):(this.wa=W.xd,this.B.z=0)):this.wa=W.xd;0==
this.ei&&(this.Ja=0);a.Dh?(this.B.x*=a.jc,this.B.y*=a.jc,this.Ja*=a.jc,a=this.B.x*this.ga.x+(this.Ja+this.B.z)*this.P.x,d=this.B.x*this.ga.y+(this.Ja+this.B.z)*this.P.y,e=this.B.x*this.Ya+this.B.y+(this.Ja+this.B.z)*this.Sa,h=this.B.x*this.Za+this.B.y+(this.Ja+this.B.z)*this.Ta,c.p.x-=this.Db*a,c.p.y-=this.Db*d,c.D-=this.gd*e,b.p.x+=this.Eb*a,b.p.y+=this.Eb*d,b.D+=this.hd*h):(this.B.ea(),this.Ja=0)};Me.prototype.ne=function(a){var c=this.S,b=this.T,d=c.p,e=c.D,h=b.p,f=b.D,g=0,n=0,m=0,l=0;this.ei&&
this.wa!=W.Sh&&(l=this.Ed*(this.tm-(this.P.x*(h.x-d.x)+this.P.y*(h.y-d.y)+this.Ta*f-this.Sa*e)),g=this.Ja,a=a.Aa*this.Fs,this.Ja=P.qb(this.Ja+l,-a,a),l=this.Ja-g,g=l*this.P.x,n=l*this.P.y,m=l*this.Sa,l*=this.Ta,d.x-=this.Db*g,d.y-=this.Db*n,e-=this.gd*m,h.x+=this.Eb*g,h.y+=this.Eb*n,f+=this.hd*l);m=this.ga.x*(h.x-d.x)+this.ga.y*(h.y-d.y)+this.Za*f-this.Ya*e;n=f-e;this.Cf&&this.wa!=W.xd?(a=this.P.x*(h.x-d.x)+this.P.y*(h.y-d.y)+this.Ta*f-this.Sa*e,g=this.B.hc(),a=this.Y.nl(new Ec(0,0,0),-m,-n,-a),this.B.Hg(a),
this.wa==W.$f?this.B.z=Math.max(this.B.z,0):this.wa==W.Jc&&(this.B.z=Math.min(this.B.z,0)),m=-m-(this.B.z-g.z)*this.Y.oa.x,n=-n-(this.B.z-g.z)*this.Y.oa.y,n=this.Y.Rj(N.q(0,0),m,n),n.x+=g.x,n.y+=g.y,this.B.x=n.x,this.B.y=n.y,a.x=this.B.x-g.x,a.y=this.B.y-g.y,a.z=this.B.z-g.z,g=a.x*this.ga.x+a.z*this.P.x,n=a.x*this.ga.y+a.z*this.P.y,m=a.x*this.Ya+a.y+a.z*this.Sa,l=a.x*this.Za+a.y+a.z*this.Ta):(a=this.Y.Rj(N.q(0,0),-m,-n),this.B.x+=a.x,this.B.y+=a.y,g=a.x*this.ga.x,n=a.x*this.ga.y,m=a.x*this.Ya+a.y,
l=a.x*this.Za+a.y);d.x-=this.Db*g;d.y-=this.Db*n;e-=this.gd*m;h.x+=this.Eb*g;h.y+=this.Eb*n;f+=this.hd*l;c.p.F(d);c.D=e;b.p.F(h);b.D=f};Me.prototype.me=function(){var a=this.S,c=this.T,b=a.m.r,d=a.m.K,e=c.m.r,h=c.m.K,f,g=0,n=0,m=0,l=g=f=0,k=0,n=!1,q=0,p=O.Lj(d),s=O.Lj(h);f=p;var k=this.ba.x-this.lg.x,t=this.ba.y-this.lg.y,g=f.j.x*k+f.k.x*t,t=f.j.y*k+f.k.y*t,k=g;f=s;s=this.ca.x-this.mg.x;m=this.ca.y-this.mg.y;g=f.j.x*s+f.k.x*m;m=f.j.y*s+f.k.y*m;s=g;f=e.x+s-b.x-k;g=e.y+m-b.y-t;if(this.Cf){this.P=P.Mb(p,
this.Nd);this.Sa=(f+k)*this.P.y-(g+t)*this.P.x;this.Ta=s*this.P.y-m*this.P.x;var v=this.P.x*f+this.P.y*g;.01>Math.abs(this.Ee-this.Ce)?(q=P.qb(v,-.2,.2),l=Math.abs(v),n=!0):v<=this.Ce?(q=P.qb(v-this.Ce+.005,-.2,0),l=this.Ce-v,n=!0):v>=this.Ee&&(q=P.qb(v-this.Ee+.005,0,.2),l=v-this.Ee,n=!0)}this.ga=P.Mb(p,this.rh);this.Ya=(f+k)*this.ga.y-(g+t)*this.ga.x;this.Za=s*this.ga.y-m*this.ga.x;p=new Ec(0,0,0);t=this.ga.x*f+this.ga.y*g;s=h-d-this.YC;l=Math.max(l,Math.abs(t));k=Math.abs(s);n?(n=this.Db,m=this.Eb,
f=this.gd,g=this.hd,this.Y.j.x=n+m+f*this.Ya*this.Ya+g*this.Za*this.Za,this.Y.j.y=f*this.Ya+g*this.Za,this.Y.j.z=f*this.Ya*this.Sa+g*this.Za*this.Ta,this.Y.k.x=this.Y.j.y,this.Y.k.y=f+g,this.Y.k.z=f*this.Sa+g*this.Ta,this.Y.oa.x=this.Y.j.z,this.Y.oa.y=this.Y.k.z,this.Y.oa.z=n+m+f*this.Sa*this.Sa+g*this.Ta*this.Ta,this.Y.nl(p,-t,-s,-q)):(n=this.Db,m=this.Eb,f=this.gd,g=this.hd,q=f*this.Ya+g*this.Za,v=f+g,this.Y.j.Set(n+m+f*this.Ya*this.Ya+g*this.Za*this.Za,q,0),this.Y.k.Set(q,v,0),q=this.Y.Rj(N.q(0,
0),-t,-s),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.ga.x+p.z*this.P.x;n=p.x*this.ga.y+p.z*this.P.y;t=p.x*this.Ya+p.y+p.z*this.Sa;p=p.x*this.Za+p.y+p.z*this.Ta;b.x-=this.Db*q;b.y-=this.Db*n;d-=this.gd*t;e.x+=this.Eb*q;e.y+=this.Eb*n;h+=this.hd*p;a.m.K=d;c.m.K=h;a.Bb();c.Bb();return.005>=l&&k<=yc};var Ne=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.mj=N.q(0,0);this.type=W.$A;this.mj.Set(1,0);this.vg=0;this.Xi=!1;this.Ot=this.us=0;this.Yj=!1;this.Bk=this.Ls=0};K(Ne,De);Ne.prototype.ac=function(a,
c,b,d){this.J=a;this.L=c;this.mb=this.J.Xc(b);this.nb=this.L.Xc(b);this.mj=this.J.fq(d);this.vg=this.L.sd()-this.J.sd()};Ne.prototype.Je=function(){return new Me(this)};var Pe=function(a){W.call(this,a);this.ph=N.q(0,0);this.qh=N.q(0,0);this.ba=N.q(0,0);this.ca=N.q(0,0);this.eb=N.q(0,0);this.fb=N.q(0,0);this.Ze=this.S.Ea.PC;this.ph.x=a.po.x-this.Ze.A.position.x;this.ph.y=a.po.y-this.Ze.A.position.y;this.qh.x=a.qo.x-this.Ze.A.position.x;this.qh.y=a.qo.y-this.Ze.A.position.y;this.ba.F(a.mb);this.ca.F(a.nb);
this.Fb=a.pi;this.sk=a.js+this.Fb*a.ks;this.Bw=Math.min(a.Dw,this.sk-this.Fb*Oe);this.Cw=Math.min(a.Ew,(this.sk-Oe)/this.Fb);this.kg=this.jg=this.B=0};K(Pe,W);Pe.prototype.Ke=function(a){var c=this.S,b=this.T,d;d=c.A.n;var e=this.ba.x-c.m.M.x,h=this.ba.y-c.m.M.y,f=d.j.x*e+d.k.x*h,h=d.j.y*e+d.k.y*h,e=f;d=b.A.n;var g=this.ca.x-b.m.M.x,n=this.ca.y-b.m.M.y,f=d.j.x*g+d.k.x*n,n=d.j.y*g+d.k.y*n,g=f;d=b.m.r.x+g;var f=b.m.r.y+n,m=this.Ze.A.position.x+this.qh.x,l=this.Ze.A.position.y+this.qh.y;this.eb.Set(c.m.r.x+
e-(this.Ze.A.position.x+this.ph.x),c.m.r.y+h-(this.Ze.A.position.y+this.ph.y));this.fb.Set(d-m,f-l);d=this.eb.Tf();f=this.fb.Tf();.005<d?this.eb.ud(1/d):this.eb.ea();.005<f?this.fb.ud(1/f):this.fb.ea();0<this.sk-d-this.Fb*f?(this.Is=W.xd,this.B=0):this.Is=W.Jc;d<this.Bw?(this.Cs=W.xd,this.jg=0):this.Cs=W.Jc;f<this.Cw?(this.Ds=W.xd,this.kg=0):this.Ds=W.Jc;d=e*this.eb.y-h*this.eb.x;f=g*this.fb.y-n*this.fb.x;this.qm=c.H+c.O*d*d;this.rm=b.H+b.O*f*f;this.Zo=this.qm+this.Fb*this.Fb*this.rm;this.qm=1/this.qm;
this.rm=1/this.rm;this.Zo=1/this.Zo;a.Dh?(this.B*=a.jc,this.jg*=a.jc,this.kg*=a.jc,a=(-this.B-this.jg)*this.eb.x,d=(-this.B-this.jg)*this.eb.y,f=(-this.Fb*this.B-this.kg)*this.fb.x,m=(-this.Fb*this.B-this.kg)*this.fb.y,c.p.x+=c.H*a,c.p.y+=c.H*d,c.D+=c.O*(e*d-h*a),b.p.x+=b.H*f,b.p.y+=b.H*m,b.D+=b.O*(g*m-n*f)):this.kg=this.jg=this.B=0};Pe.prototype.ne=function(){var a=this.S,c=this.T,b;b=a.A.n;var d=this.ba.x-a.m.M.x,e=this.ba.y-a.m.M.y,h=b.j.x*d+b.k.x*e,e=b.j.y*d+b.k.y*e,d=h;b=c.A.n;var f=this.ca.x-
c.m.M.x,g=this.ca.y-c.m.M.y,h=b.j.x*f+b.k.x*g,g=b.j.y*f+b.k.y*g,f=h,n=h=b=0,m=0;b=m=b=m=n=h=b=0;this.Is==W.Jc&&(b=a.p.x+-a.D*e,h=a.p.y+a.D*d,n=c.p.x+-c.D*g,m=c.p.y+c.D*f,b=-(this.eb.x*b+this.eb.y*h)-this.Fb*(this.fb.x*n+this.fb.y*m),m=this.Zo*-b,b=this.B,this.B=Math.max(0,this.B+m),m=this.B-b,b=-m*this.eb.x,h=-m*this.eb.y,n=-this.Fb*m*this.fb.x,m=-this.Fb*m*this.fb.y,a.p.x+=a.H*b,a.p.y+=a.H*h,a.D+=a.O*(d*h-e*b),c.p.x+=c.H*n,c.p.y+=c.H*m,c.D+=c.O*(f*m-g*n));this.Cs==W.Jc&&(b=a.p.x+-a.D*e,h=a.p.y+a.D*
d,b=-(this.eb.x*b+this.eb.y*h),m=-this.qm*b,b=this.jg,this.jg=Math.max(0,this.jg+m),m=this.jg-b,b=-m*this.eb.x,h=-m*this.eb.y,a.p.x+=a.H*b,a.p.y+=a.H*h,a.D+=a.O*(d*h-e*b));this.Ds==W.Jc&&(n=c.p.x+-c.D*g,m=c.p.y+c.D*f,b=-(this.fb.x*n+this.fb.y*m),m=-this.rm*b,b=this.kg,this.kg=Math.max(0,this.kg+m),m=this.kg-b,n=-m*this.fb.x,m=-m*this.fb.y,c.p.x+=c.H*n,c.p.y+=c.H*m,c.D+=c.O*(f*m-g*n))};Pe.prototype.me=function(){var a=this.S,c=this.T,b,d=this.Ze.A.position.x+this.ph.x,e=this.Ze.A.position.y+this.ph.y,
h=this.Ze.A.position.x+this.qh.x,f=this.Ze.A.position.y+this.qh.y,g=0,n=0,m=0,l=0,k=b=0,q=0,p=0,s=k=p=b=k=b=0;this.Is==W.Jc&&(b=a.A.n,g=this.ba.x-a.m.M.x,n=this.ba.y-a.m.M.y,k=b.j.x*g+b.k.x*n,n=b.j.y*g+b.k.y*n,g=k,b=c.A.n,m=this.ca.x-c.m.M.x,l=this.ca.y-c.m.M.y,k=b.j.x*m+b.k.x*l,l=b.j.y*m+b.k.y*l,m=k,b=a.m.r.x+g,k=a.m.r.y+n,q=c.m.r.x+m,p=c.m.r.y+l,this.eb.Set(b-d,k-e),this.fb.Set(q-h,p-f),b=this.eb.Tf(),k=this.fb.Tf(),.005<b?this.eb.ud(1/b):this.eb.ea(),.005<k?this.fb.ud(1/k):this.fb.ea(),b=this.sk-
b-this.Fb*k,s=Math.max(s,-b),b=P.qb(b+.005,-.2,0),p=-this.Zo*b,b=-p*this.eb.x,k=-p*this.eb.y,q=-this.Fb*p*this.fb.x,p=-this.Fb*p*this.fb.y,a.m.r.x+=a.H*b,a.m.r.y+=a.H*k,a.m.K+=a.O*(g*k-n*b),c.m.r.x+=c.H*q,c.m.r.y+=c.H*p,c.m.K+=c.O*(m*p-l*q),a.Bb(),c.Bb());this.Cs==W.Jc&&(b=a.A.n,g=this.ba.x-a.m.M.x,n=this.ba.y-a.m.M.y,k=b.j.x*g+b.k.x*n,n=b.j.y*g+b.k.y*n,g=k,b=a.m.r.x+g,k=a.m.r.y+n,this.eb.Set(b-d,k-e),b=this.eb.Tf(),.005<b?(this.eb.x*=1/b,this.eb.y*=1/b):this.eb.ea(),b=this.Bw-b,s=Math.max(s,-b),
b=P.qb(b+.005,-.2,0),p=-this.qm*b,b=-p*this.eb.x,k=-p*this.eb.y,a.m.r.x+=a.H*b,a.m.r.y+=a.H*k,a.m.K+=a.O*(g*k-n*b),a.Bb());this.Ds==W.Jc&&(b=c.A.n,m=this.ca.x-c.m.M.x,l=this.ca.y-c.m.M.y,k=b.j.x*m+b.k.x*l,l=b.j.y*m+b.k.y*l,m=k,q=c.m.r.x+m,p=c.m.r.y+l,this.fb.Set(q-h,p-f),k=this.fb.Tf(),.005<k?(this.fb.x*=1/k,this.fb.y*=1/k):this.fb.ea(),b=this.Cw-k,s=Math.max(s,-b),b=P.qb(b+.005,-.2,0),p=-this.rm*b,q=-p*this.fb.x,p=-p*this.fb.y,c.m.r.x+=c.H*q,c.m.r.y+=c.H*p,c.m.K+=c.O*(m*p-l*q),c.Bb());return.005>
s};var Oe=1,Qe=function(){De.call(this);this.po=N.q(0,0);this.qo=N.q(0,0);this.mb=N.q(0,0);this.nb=N.q(0,0);this.type=W.aB;this.po.Set(-1,1);this.qo.Set(1,1);this.mb.Set(-1,0);this.nb.Set(1,0);this.Ew=this.ks=this.Dw=this.js=0;this.pi=1;this.Sq=!0};K(Qe,De);Qe.prototype.ac=function(a,c,b,d,e,h,f){void 0===f&&(f=0);this.J=a;this.L=c;this.po.F(b);this.qo.F(d);this.mb=this.J.Xc(e);this.nb=this.L.Xc(h);a=e.x-b.x;b=e.y-b.y;this.js=Math.sqrt(a*a+b*b);b=h.x-d.x;d=h.y-d.y;this.ks=Math.sqrt(b*b+d*d);this.pi=
f;f=this.js+this.pi*this.ks;this.Dw=f-this.pi*Oe;this.Ew=(f-Oe)/this.pi};Qe.prototype.Je=function(){return new Pe(this)};var Re=function(a){W.call(this,a);this.Xd=new O;this.dl=new O;this.el=new O;this.fl=new O;this.xc=new Ec(0,0,0);this.uf=N.q(0,0);this.ug=N.q(0,0);this.ba=N.q(0,0);this.ca=N.q(0,0);this.B=new Ec(0,0,0);this.Q=new Fc;this.ba.F(a.mb);this.ca.F(a.nb);this.vm=a.vg;this.B.ea();this.Ja=0;this.Xo=a.ts;this.Js=a.Nt;this.WC=a.Fw;this.tm=a.Bk;this.Cf=a.Xi;this.ei=a.Yj;this.wa=W.xd};K(Re,W);
Re.prototype.ln=function(){return this.T.m.K-this.S.m.K-this.vm};Re.prototype.Ke=function(a){var c=this.S,b=this.T,d,e=0;d=c.A.n;var h=this.ba.x-c.m.M.x,f=this.ba.y-c.m.M.y,e=d.j.x*h+d.k.x*f,f=d.j.y*h+d.k.y*f,h=e;d=b.A.n;var g=this.ca.x-b.m.M.x,n=this.ca.y-b.m.M.y,e=d.j.x*g+d.k.x*n,n=d.j.y*g+d.k.y*n,g=e;d=c.H;var e=b.H,m=c.O,l=b.O;this.Q.j.x=d+e+f*f*m+n*n*l;this.Q.k.x=-f*h*m-n*g*l;this.Q.oa.x=-f*m-n*l;this.Q.j.y=this.Q.k.x;this.Q.k.y=d+e+h*h*m+g*g*l;this.Q.oa.y=h*m+g*l;this.Q.j.z=this.Q.oa.x;this.Q.k.z=
this.Q.oa.y;this.Q.oa.z=m+l;this.Ed=1/(m+l);this.ei||(this.Ja=0);if(this.Cf){var k=b.m.K-c.m.K-this.vm;Math.abs(this.Js-this.Xo)<2*yc?this.wa=W.Sh:k<=this.Xo?(this.wa!=W.$f&&(this.B.z=0),this.wa=W.$f):k>=this.Js?(this.wa!=W.Jc&&(this.B.z=0),this.wa=W.Jc):(this.wa=W.xd,this.B.z=0)}else this.wa=W.xd;a.Dh?(this.B.x*=a.jc,this.B.y*=a.jc,this.Ja*=a.jc,a=this.B.x,k=this.B.y,c.p.x-=d*a,c.p.y-=d*k,c.D-=m*(h*k-f*a+this.Ja+this.B.z),b.p.x+=e*a,b.p.y+=e*k,b.D+=l*(g*k-n*a+this.Ja+this.B.z)):(this.B.ea(),this.Ja=
0)};Re.prototype.ne=function(a){var c=this.S,b=this.T,d=0,e=d=0,h=0,f=0,g=0,n=c.p,m=c.D,l=b.p,k=b.D,q=c.H,p=b.H,s=c.O,t=b.O;this.ei&&this.wa!=W.Sh&&(e=this.Ed*-(k-m-this.tm),h=this.Ja,f=a.Aa*this.WC,this.Ja=P.qb(this.Ja+e,-f,f),e=this.Ja-h,m-=s*e,k+=t*e);if(this.Cf&&this.wa!=W.xd){a=c.A.n;e=this.ba.x-c.m.M.x;h=this.ba.y-c.m.M.y;d=a.j.x*e+a.k.x*h;h=a.j.y*e+a.k.y*h;e=d;a=b.A.n;f=this.ca.x-b.m.M.x;g=this.ca.y-b.m.M.y;d=a.j.x*f+a.k.x*g;g=a.j.y*f+a.k.y*g;f=d;a=l.x+-k*g-n.x- -m*h;var v=l.y+k*f-n.y-m*e;
this.Q.nl(this.xc,-a,-v,-(k-m));this.wa==W.Sh?this.B.Hg(this.xc):this.wa==W.$f?(d=this.B.z+this.xc.z,0>d&&(this.Q.Rj(this.ug,-a,-v),this.xc.x=this.ug.x,this.xc.y=this.ug.y,this.xc.z=-this.B.z,this.B.x+=this.ug.x,this.B.y+=this.ug.y,this.B.z=0)):this.wa==W.Jc&&(d=this.B.z+this.xc.z,0<d&&(this.Q.Rj(this.ug,-a,-v),this.xc.x=this.ug.x,this.xc.y=this.ug.y,this.xc.z=-this.B.z,this.B.x+=this.ug.x,this.B.y+=this.ug.y,this.B.z=0));n.x-=q*this.xc.x;n.y-=q*this.xc.y;m-=s*(e*this.xc.y-h*this.xc.x+this.xc.z);
l.x+=p*this.xc.x;l.y+=p*this.xc.y;k+=t*(f*this.xc.y-g*this.xc.x+this.xc.z)}else a=c.A.n,e=this.ba.x-c.m.M.x,h=this.ba.y-c.m.M.y,d=a.j.x*e+a.k.x*h,h=a.j.y*e+a.k.y*h,e=d,a=b.A.n,f=this.ca.x-b.m.M.x,g=this.ca.y-b.m.M.y,d=a.j.x*f+a.k.x*g,g=a.j.y*f+a.k.y*g,f=d,this.Q.Rj(this.uf,-(l.x+-k*g-n.x- -m*h),-(l.y+k*f-n.y-m*e)),this.B.x+=this.uf.x,this.B.y+=this.uf.y,n.x-=q*this.uf.x,n.y-=q*this.uf.y,m-=s*(e*this.uf.y-h*this.uf.x),l.x+=p*this.uf.x,l.y+=p*this.uf.y,k+=t*(f*this.uf.y-g*this.uf.x);c.p.F(n);c.D=m;
b.p.F(l);b.D=k};Re.prototype.me=function(){var a=0,c,b=this.S,d=this.T,e=0,h=c=0,f=0,g=0;if(this.Cf&&this.wa!=W.xd){var a=d.m.K-b.m.K-this.vm,n=0;this.wa==W.Sh?(a=P.qb(a-this.Xo,-zc,zc),n=-this.Ed*a,e=Math.abs(a)):this.wa==W.$f?(a-=this.Xo,e=-a,a=P.qb(a+yc,-zc,0),n=-this.Ed*a):this.wa==W.Jc&&(e=a-=this.Js,a=P.qb(a-yc,0,zc),n=-this.Ed*a);b.m.K-=b.O*n;d.m.K+=d.O*n;b.Bb();d.Bb()}c=b.A.n;n=this.ba.x-b.m.M.x;a=this.ba.y-b.m.M.y;h=c.j.x*n+c.k.x*a;a=c.j.y*n+c.k.y*a;n=h;c=d.A.n;var m=this.ca.x-d.m.M.x,l=
this.ca.y-d.m.M.y,h=c.j.x*m+c.k.x*l,l=c.j.y*m+c.k.y*l,m=h,f=d.m.r.x+m-b.m.r.x-n,g=d.m.r.y+l-b.m.r.y-a,k=f*f+g*g;c=Math.sqrt(k);var h=b.H,q=d.H,p=b.O,s=d.O;k>.05*.05&&(k=1/(h+q),f=k*-f,g=k*-g,b.m.r.x-=.5*h*f,b.m.r.y-=.5*h*g,d.m.r.x+=.5*q*f,d.m.r.y+=.5*q*g,f=d.m.r.x+m-b.m.r.x-n,g=d.m.r.y+l-b.m.r.y-a);this.dl.j.x=h+q;this.dl.k.x=0;this.dl.j.y=0;this.dl.k.y=h+q;this.el.j.x=p*a*a;this.el.k.x=-p*n*a;this.el.j.y=-p*n*a;this.el.k.y=p*n*n;this.fl.j.x=s*l*l;this.fl.k.x=-s*m*l;this.fl.j.y=-s*m*l;this.fl.k.y=
s*m*m;this.Xd.nf(this.dl);this.Xd.Zm(this.el);this.Xd.Zm(this.fl);this.Xd.Kh(Se,-f,-g);f=Se.x;g=Se.y;b.m.r.x-=b.H*f;b.m.r.y-=b.H*g;b.m.K-=b.O*(n*g-a*f);d.m.r.x+=d.H*f;d.m.r.y+=d.H*g;d.m.K+=d.O*(m*g-l*f);b.Bb();d.Bb();return.005>=c&&e<=yc};var Se=N.q(0,0),xc=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.type=W.Xj;this.mb.ea();this.nb.ea();this.Bk=this.Fw=this.Nt=this.ts=this.vg=0;this.Yj=this.Xi=!1};K(xc,De);xc.prototype.ac=function(a,c,b){this.J=a;this.L=c;this.mb=this.J.Xc(b);this.nb=
this.L.Xc(b);this.vg=this.L.sd()-this.J.sd()};xc.prototype.Je=function(){return new Re(this)};var Te=function(a){W.call(this,a);this.Ae=N.q(0,0);this.Be=N.q(0,0);this.B=new Ec(0,0,0);this.Q=new Fc;this.Ae.F(a.mb);this.Be.F(a.nb);this.vm=a.vg};K(Te,W);Te.prototype.Ke=function(a){var c,b=0,d=this.S,e=this.T;c=d.A.n;var h=this.Ae.x-d.m.M.x,f=this.Ae.y-d.m.M.y,b=c.j.x*h+c.k.x*f,f=c.j.y*h+c.k.y*f,h=b;c=e.A.n;var g=this.Be.x-e.m.M.x,n=this.Be.y-e.m.M.y,b=c.j.x*g+c.k.x*n,n=c.j.y*g+c.k.y*n,g=b;c=d.H;var b=
e.H,m=d.O,l=e.O;this.Q.j.x=c+b+f*f*m+n*n*l;this.Q.k.x=-f*h*m-n*g*l;this.Q.oa.x=-f*m-n*l;this.Q.j.y=this.Q.k.x;this.Q.k.y=c+b+h*h*m+g*g*l;this.Q.oa.y=h*m+g*l;this.Q.j.z=this.Q.oa.x;this.Q.k.z=this.Q.oa.y;this.Q.oa.z=m+l;a.Dh?(this.B.x*=a.jc,this.B.y*=a.jc,this.B.z*=a.jc,d.p.x-=c*this.B.x,d.p.y-=c*this.B.y,d.D-=m*(h*this.B.y-f*this.B.x+this.B.z),e.p.x+=b*this.B.x,e.p.y+=b*this.B.y,e.D+=l*(g*this.B.y-n*this.B.x+this.B.z)):this.B.ea()};Te.prototype.ne=function(){var a,c=0,b=this.S,d=this.T,e=b.p,h=b.D,
f=d.p,g=d.D,n=b.H,m=d.H,l=b.O,k=d.O;a=b.A.n;var q=this.Ae.x-b.m.M.x,p=this.Ae.y-b.m.M.y,c=a.j.x*q+a.k.x*p,p=a.j.y*q+a.k.y*p,q=c;a=d.A.n;var s=this.Be.x-d.m.M.x,t=this.Be.y-d.m.M.y,c=a.j.x*s+a.k.x*t,t=a.j.y*s+a.k.y*t,s=c;a=new Ec(0,0,0);this.Q.nl(a,-(f.x-g*t-e.x+h*p),-(f.y+g*s-e.y-h*q),-(g-h));this.B.Hg(a);e.x-=n*a.x;e.y-=n*a.y;h-=l*(q*a.y-p*a.x+a.z);f.x+=m*a.x;f.y+=m*a.y;g+=k*(s*a.y-t*a.x+a.z);b.D=h;d.D=g};Te.prototype.me=function(){var a,c=0,b=this.S,d=this.T;a=b.A.n;var e=this.Ae.x-b.m.M.x,h=this.Ae.y-
b.m.M.y,c=a.j.x*e+a.k.x*h,h=a.j.y*e+a.k.y*h,e=c;a=d.A.n;var f=this.Be.x-d.m.M.x,g=this.Be.y-d.m.M.y,c=a.j.x*f+a.k.x*g,g=a.j.y*f+a.k.y*g,f=c;a=b.H;var c=d.H,n=b.O,m=d.O,l=d.m.r.x+f-b.m.r.x-e,k=d.m.r.y+g-b.m.r.y-h,q=d.m.K-b.m.K-this.vm,p=Math.sqrt(l*l+k*k),s=Math.abs(q);.05<p&&(n*=1,m*=1);this.Q.j.x=a+c+h*h*n+g*g*m;this.Q.k.x=-h*e*n-g*f*m;this.Q.oa.x=-h*n-g*m;this.Q.j.y=this.Q.k.x;this.Q.k.y=a+c+e*e*n+f*f*m;this.Q.oa.y=e*n+f*m;this.Q.j.z=this.Q.oa.x;this.Q.k.z=this.Q.oa.y;this.Q.oa.z=n+m;var t=new Ec(0,
0,0);this.Q.nl(t,-l,-k,-q);b.m.r.x-=a*t.x;b.m.r.y-=a*t.y;b.m.K-=n*(e*t.y-h*t.x+t.z);d.m.r.x+=c*t.x;d.m.r.y+=c*t.y;d.m.K+=m*(f*t.y-g*t.x+t.z);b.Bb();d.Bb();return.005>=p&&s<=yc};var Ue=function(){De.call(this);this.mb=N.q(0,0);this.nb=N.q(0,0);this.type=W.cB;this.vg=0};K(Ue,De);Ue.prototype.ac=function(a,c,b){this.J=a;this.L=c;this.mb.F(this.J.Xc(b));this.nb.F(this.L.Xc(b));this.vg=this.L.sd()-this.J.sd()};Ue.prototype.Je=function(){return new Te(this)};var je=[new Lc,new Lc],se=[new Lc,new Lc],te=
[new Lc,new Lc],ke=N.q(0,0),le=N.q(0,0),me=N.q(0,0),pe=N.q(0,0),ne=N.q(0,0),oe=N.q(0,0),qe=N.q(0,0),re=N.q(0,0),Md=0,Vd=0,Wd=0,Td=0,Ud=0,Nd=new jd,Od=new Uc,Pd=new oc,Qd=new oc,Sd=new ed,Rd=new Vc;qc.QD=new oc;rc.Wu=new rc;new function(){this.position=N.q(0,0);this.ey=N.q(0,0);this.kd=N.q(0,0);this.id=new Kc};tc.LF=new oc;tc.rx=new Gc;tc.tx=new Gc;var Ld=new kd,he=new ld,ie=new ge}
function Ve(a,c,b,d,e,h){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=h-.1||d-.1<=c&&c<=h+.1))f=.1<Math.abs(e-b)?.1>Math.abs((h-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}function We(a,c){var b=N,d=Xe(a),e=[],h,f,g,n,m,l,k,q,p;m=0;for(l=d.length;m<l;m++){f=d[m];h=[];h.length=f.length;k=p=0;for(q=f.length;k<q;k++)g=f[k],n=f[(k+1)%q],p+=g.x*n.y-g.y*n.x,h[k]=b.q(g.x,g.y);p=Math.abs(p/2);p>=.001*c&&e.push(h)}return e}
function Xe(a){var c=[],b=0,d=0,e=0,h=0,f=0,g=f=0,n=0,m=0,l=0,h=0,k,q,p,s,t,v=h=b=0,x=0,e=[],n=[],B=!1,z=[],A=[];for(A.push(a);A.length;){c=A[0];d=c.length;B=!0;for(b=0;b<d;b++)if(m=b,l=b<d-1?b+1:b+1-d,h=b<d-2?b+2:b+2-d,a=c[m],k=c[l],q=c[h],h=a.x,e=a.y,n=k.x,f=k.y,g=q.x,q=q.y,h=h*f+n*q+g*e-e*n-f*g-q*h,0>h){B=!1;n=1E9;for(e=0;e<d;e++)if(e!==m&&e!==l){b=e;h=e<d-1?e+1:0;p=c[b];s=c[h];g=a.x;q=a.y;var D=k.x,E=k.y,f=p.x;p=p.y;var C=s.x;s=s.y;var G=D-g,F=E-q,H=C-f,Y=s-p,H=(H*(p-q)-Y*(f-g))/(F*H-G*Y),G=g+
H*G,F=q+H*F,g=Ve(D,E,g,q,G,F),f=Ve(G,F,f,p,C,s);if(q=g&&f?N.q(G,F):null)f=k.x-q.x,g=k.y-q.y,f=f*f+g*g,f<n&&(x=b,v=h,t=q,n=f)}if(1E9===n)return[];e=[];n=[];b=x;h=v;p=c[b];s=c[h];v=t.y;x=s.y;.1>Math.abs(s.x-t.x)&&.1>Math.abs(x-v)||e.push(t);v=t.y;x=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(x-v)||n.push(t);x=-1;for(v=m;;){if(v!==h)e.push(c[v]);else{if(0>x||x>=d)return[];Ve(s.x,s.y,c[x].x,c[x].y,a.x,a.y)||e.push(c[v]);break}x=v;0>v-1?v=d-1:v--}e.reverse();x=-1;for(v=l;;){if(v!==b)n.push(c[v]);else{if(0>x||
x>=d)return[];v!==b||Ve(p.x,p.y,c[x].x,c[x].y,k.x,k.y)||n.push(c[v]);break}x=v;v+1>d-1?v=0:v++}A.push(e,n);A.shift();break}B&&z.push(A.shift())}return z}
function Ye(a){for(var c=0;4E3>c;c++)N.Lg.push(new N(0,0));this.i=a;this.Vd=new tc(N.q(0,10),!0);this.Zr=-1;a=new rc;a.behavior=this;a.an=function(a){this.behavior.i.Gk(a.Cb.Na().Wf.C,a.wb.Na().Wf.C)};this.Vd.Bu(a);a=new sc;a.behavior=this;a.Ki=function(a,c){if(this.behavior.dA)return!0;var e=a.Na().Wf.C.type,h=c.Na().Wf.C.type,f=e.W.Physics_DisabledCollisions;return f&&f.contains(h)?!1:(f=h.W.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.Vd.Au(a);this.VD=0;this.Wm=8;this.Em=3;this.dA=!0}
(function(){function a(){}function c(){}var b=N,d=R,e=vc,h=U,f=uc,g=wc,n=xc,m=Ye.prototype;m.Nb=function(a){this.behavior=a;this.i=a.i};m.Nb.prototype.Ua=function(){};m.rb=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.i=a.i;this.Vd=this.behavior.Vd};var l=m.rb.prototype;l.Ua=function(){this.Hr=0!==this.da[0];this.hv=this.da[1];this.dt=0!==this.da[2];this.tf=this.da[3];this.bg=this.da[4];this.xg=this.da[5];this.jj=this.da[6];this.Ni=this.da[7];this.Ri=0!==this.da[8];this.enabled=
0!==this.da[9];this.body=null;this.C.Ma();this.Ao=this.C.x;this.Bo=this.C.y;this.fg=this.C.G;this.Wr=this.$r=0;this.mx=this.Yr=!1;this.Tr=null;this.Ur=-1;this.fe?(this.fe.length=0,this.cf.length=0,this.hh.clear()):(this.fe=[],this.cf=[],this.hh=new ca);var a=this;this.he||(this.Lw=function(b){a.pD(b)});this.i.Pu(this.Lw)};l.cx=function(){this.C.Ma();this.Xq();this.Tr=this.C.tb;this.Ur=this.C.aa};l.Fk=function(){this.Rn();this.cf.length=0;this.hh.clear();this.body&&(this.Vd.gn(this.body),this.body=
null);this.i.HD(this.Lw)};l.Sd=function(){var a={e:this.enabled,im:this.Hr,pr:this.dt,d:this.tf,fr:this.bg,re:this.xg,ld:this.jj,ad:this.Ni,b:this.Ri,mcj:this.cf};if(this.enabled){var c=b.q(0,0);c.F(this.body.Di());a.vx=c.x;a.vy=c.y;a.om=this.body.kn()}return a};l.ye=function(a){this.Rn();this.cf.length=0;this.hh.clear();this.body&&(this.Vd.gn(this.body),this.body=null);this.enabled=a.e;this.Hr=a.im;this.dt=a.pr;this.tf=a.d;this.bg=a.fr;this.xg=a.re;this.jj=a.ld;this.Ni=a.ad;this.Ri=a.b;this.Ao=this.C.x;
this.Bo=this.C.y;this.fg=this.C.G;this.$r=this.C.width;this.Wr=this.C.height;this.enabled&&(this.Xq(),this.body.Ji(b.q(a.vx,a.vy)),this.body.kl(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.Qc(!0),this.cf=a.mcj)};l.Mg=function(){this.enabled&&this.it();this.behavior.Zr=this.i.Td-1};l.pD=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.cf.length;b<c;b++)this.cf[d]=this.cf[b],d<this.fe.length&&(this.fe[d]=this.fe[b]),this.cf[b].Ef[1]==e?this.Vd.hn(this.fe[b]):d++;this.cf.length=d;d<this.fe.length&&(this.fe.length=
d);this.hh.remove(a)};l.Rn=function(){var a,b;a=0;for(b=this.fe.length;a<b;a++)this.Vd.hn(this.fe[a]);this.fe.length=0};l.it=function(){var a,b,c;a=0;for(b=this.cf.length;a<b;a++)switch(c=this.cf[a],c.type){case 0:this.FA(c.Ef[0],c.Ef[1],c.Ef[2],c.Ef[3],c.Ef[4]);break;case 1:this.HA(c.Ef[0],c.Ef[1]);break;case 2:this.GA(c.Ef[0],c.Ef[1],c.Ef[2],c.Ef[3])}};l.BA=function(){this.body&&(this.Rn(),this.Vd.gn(this.body),this.body=null,this.C.W.Oe=null)};var k=[];l.Xq=function(){if(this.enabled){var a=this.C,
c=!1,g=null,l=null,m,n,B,z,A,D,E,C,G,F,H,Y,oa;if(this.body){c=!0;g=b.q(0,0);g.F(this.body.Di());l=this.body.kn();C=this.hh.Eg();m=0;for(n=C.length;m<n;m++)G=C[m].W.Oe.Wf,G.Rn();this.BA()}G=new e;G.tf=this.tf;G.bg=this.bg;G.xg=this.xg;m=new d;m.type=this.Hr?0:2;a.Ma();m.position.x=.02*a.jb.ji();m.position.y=.02*a.jb.ki();m.G=a.G;m.kr=this.dt;m.jj=this.jj;m.Ni=this.Ni;m.Ri=this.Ri;C=this.C.Ga&&!this.C.Ga.dj();this.body=this.Vd.Zp(m);this.body.Wf=this;m=this.hv;C||this.C.zh||0!==this.hv||(m=1);n=Math.max(Math.abs(a.width),
1);B=Math.max(Math.abs(a.height),1);F=0>a.width;H=0>a.height;if(0===m)if(a.zh)for(Y=a.jb.ji()-a.x,E=a.jb.ki()-a.y,a.zF(k),C=[],m=0,n=k.length;m<n;++m){F=k[m];H=F.GD;if(F.sg){if(!F.sg.Kn){A=F.sg.gc;z=F.sg.Ge;for(B=0;B<z;++B)C.push(b.q(A[2*B],A[2*B+1]));B=F.id&3758096384;(-2147483648===B||1073741824===B||536870912===B||B&-2147483648&&B&1073741824&&B&536870912)&&C.reverse();F.sg.Kn=We(C,(H.right-H.left)*(H.bottom-H.top));B=0;for(z=C.length;B<z;++B)b.$b(C[B]);C.length=0}B=0;for(z=F.sg.Kn.length;B<z;++B){oa=
F.sg.Kn[B];A=0;for(D=oa.length;A<D;++A)C.push(b.q(.02*(H.left+oa[A].x-Y),.02*(H.top+oa[A].y-E)));G.shape=new h;G.shape.ll(C,C.length);this.body.Jj(G);A=0;for(D=C.length;A<D;++A)b.$b(C[A]);C.length=0}}else C.push(b.q(.02*(H.left-Y),.02*(H.top-E))),C.push(b.q(.02*(H.right-Y),.02*(H.top-E))),C.push(b.q(.02*(H.right-Y),.02*(H.bottom-E))),C.push(b.q(.02*(H.left-Y),.02*(H.bottom-E))),G.shape=new h,G.shape.ll(C,C.length),this.body.Jj(G);B=0;for(z=C.length;B<z;++B)b.$b(C[B]);C.length=0}else{m=a.G;a.G=0;a.na();
a.Ma();Y=a.jb.ji()-a.x;E=a.jb.ki()-a.y;a.G=m;a.na();a.Ga.Si(F?-n:n,H?-B:B,0);A=a.Ga.gc;z=a.Ga.Ge;C=[];C.length=z;for(m=0;m<z;m++)C[m]=b.q(A[2*m]-Y,A[2*m+1]-E);F!==H&&C.reverse();Y=We(C,n*B);for(m=0;m<z;m++)b.$b(C[m]);if(Y.length)for(m=0,n=Y.length;m<n;m++){C=Y[m];B=0;for(z=C.length;B<z;B++)E=C[B],E.x*=.02,E.y*=.02;G.shape=new h;G.shape.ll(C,C.length);this.body.Jj(G);B=0;for(z=C.length;B<z;B++)b.$b(C[B])}else G.shape=new h,G.shape.rn(.01*n,.01*B),this.body.Jj(G)}else 1===m?(G.shape=new h,G.shape.rn(.01*
n,.01*B)):G.shape=new f(.01*Math.min(n,B)),this.body.Jj(G);a.W.Oe=this.body;this.$r=a.width;this.Wr=a.height;if(c)for(this.body.Ji(g),this.body.kl(l),b.$b(g),this.it(),C=this.hh.Eg(),m=0,n=C.length;m<n;m++)G=C[m].W.Oe.Wf,G.it();k.length=0}};l.He=function(){if(this.enabled){var a=this.C,c;0===this.behavior.VD?c=this.i.yi/60:(c=this.i.dk(this.C),c>1/30&&(c=1/30));this.i.Td>this.behavior.Zr&&0<this.i.yi&&(this.Vd.Kg(c,this.behavior.Wm,this.behavior.Em),this.Vd.Yt(),this.behavior.Zr=this.i.Td);if(this.mx||
a.width!==this.$r||a.height!==this.Wr||a.tb!==this.Tr||a.aa!==this.Ur||a.zh&&a.Zw)this.Xq(),this.mx=!1,this.Tr=a.tb,this.Ur=a.aa,a.zh&&a.Zw&&(a.Zw=!1);c=a.G!==this.fg;if(a.x!==this.Ao||a.y!==this.Bo){a.Ma();var d=a.jb.ji(),e=a.jb.ki(),f=d-this.Ao,g=e-this.Bo;this.body.uq(b.q(.02*d,.02*e));this.body.Ji(b.q(f,g));this.Yr=!0;this.body.Qc(!0)}else this.Yr&&(this.Yr=!1,this.body.Ji(b.q(0,0)),this.body.uq(b.q(.02*a.jb.ji(),.02*a.jb.ki())));c&&(this.body.jl(a.G),this.body.Qc(!0));d=this.body.A.position;
c=d.x/.02;d=d.y/.02;e=this.body.sd();if(c!==a.x||d!==a.y||e!==a.G)if(a.x=c,a.y=d,a.G=e,a.na(),a.Ma(),c=a.jb.ji()-a.x,d=a.jb.ki()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.na();this.Ao=a.x;this.Bo=a.y;this.fg=a.G}};l.ko=function(a){return-1!==a&&this.C.cg?0===a&&this.body?(this.body.A.position.x+this.body.Ei().x)/.02:this.C.cg(a,!0):this.C.x};l.lo=function(a){return-1!==a&&this.C.cg?0===a&&this.body?(this.body.A.position.y+this.body.Ei().y)/.02:this.C.cg(a,!1):this.C.y};a.prototype.hq=function(){return this.enabled};
m.R=new a;c.prototype.Pf=function(a,c,d){if(this.enabled){var e=this.ko(d);d=this.lo(d);this.body.Pf(b.q(a,c),b.q(.02*e,.02*d))}};c.prototype.$m=function(a){this.enabled&&this.body.$m(w(a))};c.prototype.kl=function(a){this.enabled&&(this.body.kl(w(a)),this.body.Qc(!0))};l.FA=function(a,c,d,e,f){if(this.enabled&&(c=this.i.Ll(c))&&c!=this.C&&c.W.Oe){c.W.Oe.Wf.hh.add(this.C);var h=this.ko(a);a=this.lo(a);var k;c.cg?(k=c.cg(d,!0),d=c.cg(d,!1)):(k=c.x,d=c.y);var l=h-k,m=a-d,n=new g;n.ac(this.body,c.W.Oe,
b.q(.02*h,.02*a),b.q(.02*k,.02*d));n.length=.02*Math.sqrt(l*l+m*m);n.Pn=e;n.fo=f;this.fe.push(this.Vd.en(n))}};l.HA=function(a,c){if(this.enabled){var d=this.i.Ll(c);if(d&&d!=this.C&&d.W.Oe){d.W.Oe.Wf.hh.add(this.C);var e=this.ko(a),f=this.lo(a),g=new n;g.ac(this.body,d.W.Oe,b.q(.02*e,.02*f));this.fe.push(this.Vd.en(g))}}};l.GA=function(a,c,d,e){if(this.enabled&&(c=this.i.Ll(c))&&c!=this.C&&c.W.Oe){c.W.Oe.Wf.hh.add(this.C);var f=this.ko(a);a=this.lo(a);var g=new n;g.ac(this.body,c.W.Oe,b.q(.02*f,
.02*a));g.Xi=!0;g.ts=w(d);g.Nt=w(e);this.fe.push(this.Vd.en(g))}};m.sb=new c;m.wc=new function(){}})();function Ze(a){this.i=a}
(function(){var a=Ze.prototype;a.Nb=function(a){this.behavior=a;this.i=a.i};a.Nb.prototype.Ua=function(){};a.rb=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.i=a.i;this.mode=0};a=a.rb.prototype;a.Ua=function(){this.mode=this.da[0]};a.He=function(){};a.Jp=function(){this.C.Ma();var a=this.C.Ib,b=this.C.N.zc,d=!1;0===this.mode?(0>this.C.x&&(this.C.x=0,d=!0),0>this.C.y&&(this.C.y=0,d=!0),this.C.x>b.width&&(this.C.x=b.width,d=!0),this.C.y>b.height&&(this.C.y=b.height,d=!0)):(0>a.left&&
(this.C.x-=a.left,d=!0),0>a.top&&(this.C.y-=a.top,d=!0),a.right>b.width&&(this.C.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.C.y-=a.bottom-b.height,d=!0));d&&this.C.na()}})();function gc(a){this.i=a}
(function(){function a(){}var c=gc.prototype;c.Nb=function(a){this.behavior=a;this.i=a.i};c.Nb.prototype.Ua=function(){};c.rb=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.i=a.i};var b=c.rb.prototype;b.Ua=function(){this.C.W.solidEnabled=0!==this.da[0]};b.He=function(){};a.prototype.hq=function(){return this.C.W.solidEnabled};c.R=new a;c.sb=new function(){}})();
function fc(){return[ic,hc,jc,kc,J,gc,mc,Ze,Ye,nc,lc,y.prototype.R.mu,hc.prototype.sb.jl,y.prototype.wc.random,y.prototype.R.Hy,jc.prototype.sb.xz,hc.prototype.sb.Hz,y.prototype.R.Gy,y.prototype.sb.Dy,y.prototype.wc.DC,jc.prototype.sb.ky,hc.prototype.R.Sy,hc.prototype.sb.vz,y.prototype.sb.yz,jc.prototype.R.Zt,y.prototype.sb.zz,J.prototype.R.ru,y.prototype.sb.Oy,ic.prototype.R.nq,y.prototype.sb.Mz,J.prototype.R.Ty,mc.prototype.sb.Bz,hc.prototype.R.dz,hc.prototype.sb.rd,J.prototype.R.Ry,y.prototype.R.yy,
hc.prototype.wc.Cy,J.prototype.wc.zq,J.prototype.wc.Aq,hc.prototype.R.Zt,nc.prototype.sb.Gz]};
