// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var r,ba,ca,da,ea,fa,ga,ha,v,ia,ja,ka,la,ma,oa,w,pa,qa,ra,ta,ua,va,wa,xa,za,Aa,z,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Oa,Pa,Qa,Ra,Sa,Ta,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb={},Xb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.gd=this.fd=this.jd=this.hd=this.ud=this.td=this.ac=this.$b=0}function b(a,b,c,d){a<b?c<d?(s=a<c?a:c,t=b>d?b:d):(s=a<d?a:d,t=b>c?b:c):c<d?(s=b<c?b:c,t=a>d?a:d):(s=b<d?b:d,t=a>c?a:c)}function d(){this.items=this.Rf=null;this.qk=0;y&&(this.Rf=new Set);this.Zk=[];this.Wh=!0}function e(a){B[E++]=a}function g(){this.$c=this.Op=this.y=this.B=0}function f(a){this.Zb=[];this.On=this.Qn=this.Rn=this.Pn=0;this.co=null;this.cn(a)}function l(a,
b){this.Tq=a;this.Sq=b;this.cells={}}function h(a,b){this.Tq=a;this.Sq=b;this.cells={}}function n(a,b,c){var d;return C.length?(d=C.pop(),d.Jr=a,d.x=b,d.y=c,d):new ba(a,b,c)}function k(a,b,c){this.Jr=a;this.x=b;this.y=c;this.Tc=new ca}function m(a,b,c){var d;return G.length?(d=G.pop(),d.Jr=a,d.x=b,d.y=c,d):new da(a,b,c)}function q(a,b,c){this.Jr=a;this.x=b;this.y=c;this.Tc=[];this.pk=!0;this.yg=new ca;this.Al=!1}function p(a,b){return a.Wf-b.Wf}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};v=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,b){return a>b?a:b};ma=function(a,b){return a<b?a:b};oa=Math.PI;w=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var b=a|0;return b===a?b:b+1};
qa=function(a,b,c,d,g,f,m,l){var y,k,h,e;a<c?(k=a,y=c):(k=c,y=a);g<m?(e=g,h=m):(e=m,h=g);if(y<e||k>h)return!1;b<d?(k=b,y=d):(k=d,y=b);f<l?(e=f,h=l):(e=l,h=f);if(y<e||k>h)return!1;y=g-a+m-c;k=f-b+l-d;a=c-a;b=d-b;g=m-g;f=l-f;l=ka(b*g-f*a);return ka(g*k-f*y)>l?!1:ka(a*k-b*y)<=l};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.Hl=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.iw=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.jw=function(a,b,c){return!(a.right+
b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Cc=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.oo=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ra=a;c.prototype.Sk=function(a){this.$b=a.left;this.ac=a.top;this.td=a.right;this.ud=a.top;this.hd=a.right;this.jd=a.bottom;this.fd=a.left;this.gd=a.bottom};c.prototype.Rx=function(a,b){if(0===b)this.Sk(a);else{var c=
Math.sin(b),d=Math.cos(b),g=a.left*c,f=a.top*c,m=a.right*c,c=a.bottom*c,l=a.left*d,y=a.top*d,k=a.right*d,d=a.bottom*d;this.$b=l-f;this.ac=y+g;this.td=k-f;this.ud=y+m;this.hd=k-c;this.jd=d+m;this.fd=l-c;this.gd=d+g}};c.prototype.offset=function(a,b){this.$b+=a;this.ac+=b;this.td+=a;this.ud+=b;this.hd+=a;this.jd+=b;this.fd+=a;this.gd+=b;return this};var s=0,t=0;c.prototype.pv=function(a){b(this.$b,this.td,this.hd,this.fd);a.left=s;a.right=t;b(this.ac,this.ud,this.jd,this.gd);a.top=s;a.bottom=t};c.prototype.Cc=
function(a,b){var c=this.td-this.$b,d=this.ud-this.ac,g=this.hd-this.$b,f=this.jd-this.ac,m=a-this.$b,l=b-this.ac,y=c*c+d*d,k=c*g+d*f,d=c*m+d*l,h=g*g+f*f,e=g*m+f*l,B=1/(y*h-k*k),c=(h*d-k*e)*B,y=(y*e-k*d)*B;if(0<=c&&0<y&&1>c+y)return!0;c=this.fd-this.$b;d=this.gd-this.ac;y=c*c+d*d;k=c*g+d*f;d=c*m+d*l;B=1/(y*h-k*k);c=(h*d-k*e)*B;y=(y*e-k*d)*B;return 0<=c&&0<y&&1>c+y};c.prototype.Te=function(a,b){if(b)switch(a){case 0:return this.$b;case 1:return this.td;case 2:return this.hd;case 3:return this.fd;case 4:return this.$b;
default:return this.$b}else switch(a){case 0:return this.ac;case 1:return this.ud;case 2:return this.jd;case 3:return this.gd;case 4:return this.ac;default:return this.ac}};c.prototype.qi=function(){return(this.$b+this.td+this.hd+this.fd)/4};c.prototype.ri=function(){return(this.ac+this.ud+this.jd+this.gd)/4};c.prototype.dm=function(a,b,c,d){if(this.Cc(a,b)||this.Cc(c,d))return!0;var g,f,m,l,y;for(y=0;4>y;y++)if(g=this.Te(y,!0),f=this.Te(y,!1),m=this.Te(y+1,!0),l=this.Te(y+1,!1),qa(a,b,c,d,g,f,m,
l))return!0;return!1};c.prototype.hw=function(a){var b=a.qi(),c=a.ri();if(this.Cc(b,c))return!0;b=this.qi();c=this.ri();if(a.Cc(b,c))return!0;var d,g,f,m,l,y,k,h;for(k=0;4>k;k++)for(h=0;4>h;h++)if(b=this.Te(k,!0),c=this.Te(k,!1),d=this.Te(k+1,!0),g=this.Te(k+1,!1),f=a.Te(h,!0),m=a.Te(h,!1),l=a.Te(h+1,!0),y=a.Te(h+1,!1),qa(b,c,d,g,f,m,l,y))return!0;return!1};ta=c;ua=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};va=function(a,b){var c,d;b=w(b);if(!(0>b||b>=a.length)){c=b;for(d=
a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};wa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};xa=function(a,b){a.push.apply(a,b)};za=function(a,b){var c,d;c=0;for(d=a.length;c<d;++c)if(a[c]===b)return c;return-1};Aa=function(a,b){var c=za(a,b);-1!==c&&va(a,c)};z=function(a){return a/(180/oa)};Ba=function(a){return 180/oa*a};Ca=function(a){a%=360;0>a&&(a+=360);return a};Da=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ea=function(a){return Ca(Ba(a))};Fa=function(a){return Da(z(a))};
Ga=function(a,b,c,d){return Math.atan2(d-b,c-a)};Ha=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),f=Math.cos(b),c=c*g+d*f;return 1<=c?0:-1>=c?oa:Math.acos(c)};Ia=function(a,b,c){var d=Math.sin(a),g=Math.cos(a),f=Math.sin(b),m=Math.cos(b);return Math.acos(d*f+g*m)>c?0<g*f-d*m?Da(a+c):Da(a-c):Da(b)};Ja=function(a,b){var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),f=Math.cos(b);return 0>=d*g-c*f};Ka=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};La=function(a,
b){return!a!==!b};Oa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Pa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var u=+new Date;Qa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-u};var x=!1,A=x=!1,D=!1;"undefined"!==
typeof window&&(x=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),x=!x&&/safari/i.test(navigator.userAgent),A=/(iphone|ipod|ipad)/i.test(navigator.userAgent),D=window.c2ejecta);var y=!x&&!D&&!A&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.kh()?!1:y?this.Rf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(y)this.Rf.has(a)||(this.Rf.add(a),this.Wh=!1);else{var b=a.toString(),
c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.qk++,this.Wh=!1):(this.items={},this.items[b]=a,this.qk=1,this.Wh=!1)}};d.prototype.remove=function(a){if(!this.kh())if(y)this.Rf.has(a)&&(this.Rf["delete"](a),this.Wh=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.qk--,this.Wh=!1)}};d.prototype.clear=function(){this.kh()||(y?this.Rf.clear():(this.items=null,this.qk=0),this.Zk.length=0,this.Wh=!0)};d.prototype.kh=function(){return 0===this.count()};d.prototype.count=
function(){return y?this.Rf.size:this.qk};var B=null,E=0;d.prototype.sE=function(){if(!this.Wh){if(y)this.Zk.length=this.Rf.size,B=this.Zk,E=0,this.Rf.forEach(e),B=null,E=0;else{var a=this.Zk;a.length=this.qk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.Wh=!0}};d.prototype.Yd=function(){this.sE();return this.Zk};ca=d;new ca;Ra=function(a,b){y?Sa(a,b.Rf):Ta(a,b.Yd())};Sa=function(a,b){var c,d,g,f;d=c=0;for(g=a.length;c<g;++c)f=a[c],b.has(f)||(a[d++]=f);a.length=d};
Ta=function(a,b){var c,d,g,f;d=c=0;for(g=a.length;c<g;++c)f=a[c],-1===za(b,f)&&(a[d++]=f);a.length=d};g.prototype.add=function(a){this.y=a-this.B;this.Op=this.$c+this.y;this.B=this.Op-this.$c-this.y;this.$c=this.Op};g.prototype.reset=function(){this.$c=this.Op=this.y=this.B=0};Wa=g;Xa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.cn=function(a){this.Cx=a;this.me=a.length/2;this.Zb.length=a.length;this.Xn=this.Yn=-1;this.sv=0};f.prototype.gi=function(){return!this.Cx.length};
f.prototype.Ha=function(){for(var a=this.Zb,b=a[0],c=b,d=a[1],g=d,f,m,l=1,y=this.me;l<y;++l)m=2*l,f=a[m],m=a[m+1],f<b&&(b=f),f>c&&(c=f),m<d&&(d=m),m>g&&(g=m);this.Pn=b;this.Qn=c;this.Rn=d;this.On=g};f.prototype.Sk=function(a,b,c){this.Zb.length=8;this.me=4;var d=this.Zb;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.Yn=a.right-a.left;this.Xn=a.bottom-a.top;this.Ha()};f.prototype.Rk=function(a,b,c,d,g){this.Zb.length=8;this.me=
4;var f=this.Zb;f[0]=a.$b-b;f[1]=a.ac-c;f[2]=a.td-b;f[3]=a.ud-c;f[4]=a.hd-b;f[5]=a.jd-c;f[6]=a.fd-b;f[7]=a.gd-c;this.Yn=d;this.Xn=g;this.Ha()};f.prototype.Qx=function(a){this.me=a.me;wa(this.Zb,a.Zb);this.Pn=a.Pn;this.Rn-a.Rn;this.Qn=a.Qn;this.On=a.On};f.prototype.Vh=function(a,b,c){if(this.Yn!==a||this.Xn!==b||this.sv!==c){this.Yn=a;this.Xn=b;this.sv=c;var d,g,f,m,l,y=0,k=1,h=this.Cx,e=this.Zb;0!==c&&(y=Math.sin(c),k=Math.cos(c));c=0;for(f=this.me;c<f;c++)d=2*c,g=d+1,m=h[d]*a,l=h[g]*b,e[d]=m*k-l*
y,e[g]=l*k+m*y;this.Ha()}};f.prototype.Cc=function(a,b){var c=this.Zb;if(a===c[0]&&b===c[1])return!0;var d,g,f,m=this.me,l=this.Pn-110,y=this.Rn-101,k=this.Qn+131,h=this.On+120,e,B,n=0,p=0;for(d=0;d<m;d++)g=2*d,f=(d+1)%m*2,e=c[g],g=c[g+1],B=c[f],f=c[f+1],qa(l,y,a,b,e,g,B,f)&&n++,qa(k,h,a,b,e,g,B,f)&&p++;return 1===n%2||1===p%2};f.prototype.cm=function(a,b,c){var d=a.Zb,g=this.Zb;if(this.Cc(d[0]+b,d[1]+c)||a.Cc(g[0]-b,g[1]-c))return!0;var f,m,l,y,k,h,e,B,n,p,q,u;f=0;for(y=this.me;f<y;f++)for(m=2*f,
l=(f+1)%y*2,B=g[m],m=g[m+1],n=g[l],p=g[l+1],l=0,e=a.me;l<e;l++)if(k=2*l,h=(l+1)%e*2,q=d[k]+b,k=d[k+1]+c,u=d[h]+b,h=d[h+1]+c,qa(B,m,n,p,q,k,u,h))return!0;return!1};f.prototype.dm=function(a,b,c,d,g,f){var m=this.Zb;if(this.Cc(c-a,d-b))return!0;var l,y,k,h,e,B;l=0;for(y=this.me;l<y;l++)if(k=2*l,h=(l+1)%y*2,e=m[k]+a,k=m[k+1]+b,B=m[h]+a,h=m[h+1]+b,qa(c,d,g,f,e,k,B,h))return!0;return!1};Ya=f;l.prototype.bi=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=n(this,a,b),this.cells[a][b]=d):null:
c?(d=n(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};l.prototype.we=function(a){return w(a/this.Tq)};l.prototype.xe=function(a){return w(a/this.Sq)};l.prototype.update=function(a,b,c){var d,g,f,m,l;if(b)for(d=b.left,g=b.right;d<=g;++d)for(f=b.top,m=b.bottom;f<=m;++f)if(!c||!c.Cc(d,f))if(l=this.bi(d,f,!1))l.remove(a),l.kh()&&(l.Tc.clear(),1E3>C.length&&C.push(l),this.cells[d][f]=null);if(c)for(d=c.left,g=c.right;d<=g;++d)for(f=c.top,m=c.bottom;f<=m;++f)b&&b.Cc(d,f)||this.bi(d,f,!0).Sr(a)};l.prototype.wp=
function(a,b){var c,d,g,f,m,l;c=this.we(a.left);g=this.xe(a.top);d=this.we(a.right);for(m=this.xe(a.bottom);c<=d;++c)for(f=g;f<=m;++f)(l=this.bi(c,f,!1))&&l.dump(b)};Za=l;h.prototype.bi=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};h.prototype.we=function(a){return w(a/this.Tq)};h.prototype.xe=function(a){return w(a/this.Sq)};h.prototype.update=function(a,b,c){var d,g,f,m,l;if(b)for(d=
b.left,g=b.right;d<=g;++d)for(f=b.top,m=b.bottom;f<=m;++f)if(!c||!c.Cc(d,f))if(l=this.bi(d,f,!1))l.remove(a),l.kh()&&(l.reset(),1E3>G.length&&G.push(l),this.cells[d][f]=null);if(c)for(d=c.left,g=c.right;d<=g;++d)for(f=c.top,m=c.bottom;f<=m;++f)b&&b.Cc(d,f)||this.bi(d,f,!0).Sr(a)};h.prototype.wp=function(a,b,c,d,g){var f,m;a=this.we(a);b=this.xe(b);c=this.we(c);for(f=this.xe(d);a<=c;++a)for(d=b;d<=f;++d)(m=this.bi(a,d,!1))&&m.dump(g)};h.prototype.nD=function(a){var b,c,d,g,f;b=a.left;d=a.top;c=a.right;
for(g=a.bottom;b<=c;++b)for(a=d;a<=g;++a)if(f=this.bi(b,a,!1))f.pk=!1};$a=h;var C=[];k.prototype.kh=function(){return this.Tc.kh()};k.prototype.Sr=function(a){this.Tc.add(a)};k.prototype.remove=function(a){this.Tc.remove(a)};k.prototype.dump=function(a){xa(a,this.Tc.Yd())};ba=k;var G=[];q.prototype.kh=function(){if(!this.Tc.length)return!0;if(this.Tc.length>this.yg.count())return!1;this.yr();return!0};q.prototype.Sr=function(a){this.yg.contains(a)?(this.yg.remove(a),this.yg.kh()&&(this.Al=!1)):this.Tc.length?
(this.Tc[this.Tc.length-1].cf()>a.cf()&&(this.pk=!1),this.Tc.push(a)):(this.Tc.push(a),this.pk=!0)};q.prototype.remove=function(a){this.yg.add(a);this.Al=!0;30<=this.yg.count()&&this.yr()};q.prototype.yr=function(){this.Al&&(this.yg.count()===this.Tc.length?this.reset():(Ra(this.Tc,this.yg),this.yg.clear(),this.Al=!1))};q.prototype.vB=function(){this.pk||(this.Tc.sort(p),this.pk=!0)};q.prototype.reset=function(){this.Tc.length=0;this.pk=!0;this.yg.clear();this.Al=!1};q.prototype.dump=function(a){this.yr();
this.vB();this.Tc.length&&a.push(this.Tc)};da=q;var F="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ab=function(a){return 0>=a||11<=a?"source-over":F[a-1]};bb=function(a,b,c){if(c)switch(a.rd=c.ONE,a.kd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.rd=c.ONE;a.kd=c.ONE;break;case 3:a.rd=c.ONE;a.kd=c.ZERO;break;case 4:a.rd=c.ONE_MINUS_DST_ALPHA;a.kd=c.ONE;break;case 5:a.rd=c.DST_ALPHA;a.kd=c.ZERO;break;case 6:a.rd=c.ZERO;a.kd=c.SRC_ALPHA;
break;case 7:a.rd=c.ONE_MINUS_DST_ALPHA;a.kd=c.ZERO;break;case 8:a.rd=c.ZERO;a.kd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.rd=c.DST_ALPHA;a.kd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.rd=c.ONE_MINUS_DST_ALPHA,a.kd=c.SRC_ALPHA}};cb=function(a){return Math.round(1E6*a)/1E6};db=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};eb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||
db(a.tagName,"canvas")?!0:!1}})();var Yb="undefined"!==typeof Float32Array?Float32Array:Array;function Zb(a){var c=new Yb(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}function $b(a){var c=new Yb(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}
function ac(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}function bc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function cc(a,c,b,d){d||(d=$b());var e,g,f,l,h,n,k,m,q=a[0],p=a[1];a=a[2];g=b[0];f=b[1];e=b[2];b=c[1];n=c[2];q===c[0]&&p===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],n=p-c[1],k=a-c[2],m=1/Math.sqrt(b*b+n*n+k*k),b*=m,n*=m,k*=m,c=f*k-e*n,e=e*b-g*k,g=g*n-f*b,(m=Math.sqrt(c*c+e*e+g*g))?(m=1/m,c*=m,e*=m,g*=m):g=e=c=0,f=n*g-k*e,l=k*c-b*g,h=b*e-n*c,(m=Math.sqrt(f*f+l*l+h*h))?(m=1/m,f*=m,l*=m,h*=m):h=l=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=l,d[6]=n,d[7]=0,d[8]=g,d[9]=h,d[10]=k,d[11]=0,d[12]=-(c*q+e*p+g*a),d[13]=-(f*q+l*p+h*a),d[14]=-(b*q+n*p+k*a),d[15]=1)}
(function(){function a(a){this.ei=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.tv=Zb([0,0,100]);this.Dw=Zb([0,0,0]);this.ny=Zb([0,1,0]);this.bu=Zb([1,1,1]);this.Gv=!0;this.Ts=$b();this.jf=$b();this.vw=$b();this.hr=$b();this.W=a;this.dw()}function c(a,b,c){this.W=a;this.dn=b;this.name=c;this.ef=a.getAttribLocation(b,"aPos");this.ki=a.getAttribLocation(b,"aTex");this.Bw=a.getUniformLocation(b,"matP");this.Yo=a.getUniformLocation(b,"matMV");this.xk=
a.getUniformLocation(b,"opacity");this.Cw=a.getUniformLocation(b,"samplerFront");this.um=a.getUniformLocation(b,"samplerBack");this.rj=a.getUniformLocation(b,"destStart");this.qj=a.getUniformLocation(b,"destEnd");this.zs=a.getUniformLocation(b,"seconds");this.ys=a.getUniformLocation(b,"pixelWidth");this.xs=a.getUniformLocation(b,"pixelHeight");this.tm=a.getUniformLocation(b,"layerScale");this.rm=a.getUniformLocation(b,"layerAngle");this.wm=a.getUniformLocation(b,"viewOrigin");this.vm=a.getUniformLocation(b,
"scrollPos");this.AC=!!(this.ys||this.xs||this.zs||this.um||this.rj||this.qj||this.tm||this.rm||this.wm||this.vm);this.Lw=this.Mw=-999;this.$o=1;this.Hw=this.Gw=0;this.Jw=this.Fw=this.Ew=1;this.Ow=this.Nw=this.Qw=this.Pw=this.Iw=0;this.cs=[];this.Kw=$b();this.xk&&a.uniform1f(this.xk,1);this.Cw&&a.uniform1i(this.Cw,0);this.um&&a.uniform1i(this.um,1);this.rj&&a.uniform2f(this.rj,0,0);this.qj&&a.uniform2f(this.qj,1,1);this.tm&&a.uniform1f(this.tm,1);this.rm&&a.uniform1f(this.rm,0);this.wm&&a.uniform2f(this.wm,
0,0);this.vm&&a.uniform2f(this.vm,0,0);this.fj=!1}function b(a,b){this.type=a;this.Z=b;this.W=b.W;this.mg=this.pf=this.qx=0;this.jb=this.Tf=null;this.Sx=[]}a.prototype.dw=function(){var a=this.W,b;this.ww=1;this.mj=this.ii=null;this.io=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.xw=a.ONE;this.uw=a.ONE_MINUS_SRC_ALPHA;this.ht=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ht);this.qn=
Array(4);this.jn=Array(4);for(b=0;4>b;b++)this.qn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.qn[b]),this.jn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.jn[b]);this.Yg=0;this.CC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.CC);this.$t=new Float32Array(16E3);this.Kt=new Float32Array(16E3);this.LD=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,
a.STATIC_DRAW);this.it=this.Mg=0;this.Kc=[];b=this.gr({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Kc.push(b);b=this.gr({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Kc.push(b);for(var e in dc)dc.hasOwnProperty(e)&&this.Kc.push(this.gr(dc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Uh=[];this.Vg=0;this.fe=!1;this.Dv=this.km=-1;this.Jl=null;this.VB=a.createFramebuffer();this.Hx=null;this.Fi=Zb([0,0,0]);this.$w=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.$w&&
(this.$w=2048);this.Gg(0)};c.prototype.Tt=function(a){var b=this.Kw;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])ac(a,this.Kw),this.W.uniformMatrix4fv(this.Yo,!1,a)};a.prototype.gr=function(a,b,d){var h=this.W,e=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(e,a.src);h.compileShader(e);if(!h.getShaderParameter(e,h.COMPILE_STATUS))return h.deleteShader(e),
null;var k=h.createShader(h.VERTEX_SHADER);h.shaderSource(k,b);h.compileShader(k);if(!h.getShaderParameter(k,h.COMPILE_STATUS))return h.deleteShader(e),h.deleteShader(k),null;b=h.createProgram();h.attachShader(b,e);h.attachShader(b,k);h.linkProgram(b);if(!h.getProgramParameter(b,h.LINK_STATUS))return h.deleteShader(e),h.deleteShader(k),h.deleteProgram(b),null;h.useProgram(b);h.deleteShader(e);h.deleteShader(k);d=new c(h,b,d);d.rr=a.rr||0;d.sr=a.sr||0;d.Bv=!!a.Bv;d.gv=!!a.gv;d.za=a.za||[];a=0;for(e=
d.za.length;a<e;a++)d.za[a][1]=h.getUniformLocation(b,d.za[a][0]),d.cs.push(0),h.uniform1f(d.za[a][1],0);return d};a.prototype.Ir=function(a){var b,c;b=0;for(c=this.Kc.length;b<c;b++)if(this.Kc[b].name===a)return b;return-1};a.prototype.Bx=function(a,b,c){var d=this.jf,e=this.Ts,k=[0,0,0,0,0,0,0,0];k[0]=d[0]*a+d[4]*b+d[12];k[1]=d[1]*a+d[5]*b+d[13];k[2]=d[2]*a+d[6]*b+d[14];k[3]=d[3]*a+d[7]*b+d[15];k[4]=e[0]*k[0]+e[4]*k[1]+e[8]*k[2]+e[12]*k[3];k[5]=e[1]*k[0]+e[5]*k[1]+e[9]*k[2]+e[13]*k[3];k[6]=e[2]*
k[0]+e[6]*k[1]+e[10]*k[2]+e[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],c[0]=(.5*k[4]+.5)*this.width,c[1]=(.5*k[5]+.5)*this.height)};a.prototype.Qk=function(a,b,c){if(this.width!==a||this.height!==b||c){this.$h();this.width=a;this.height=b;this.W.viewport(0,0,a,b);b=a/b;var d=this.Ts,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=$b());var k=b-a,m=e-c;d[0]=2/k;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/m;d[6]=0;d[7]=0;d[8]=(b+a)/k;d[9]=(e+c)/m;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;cc(this.tv,this.Dw,this.ny,this.jf);a=[0,0];b=[0,0];this.Bx(0,0,a);this.Bx(1,1,b);this.bu[0]=1/(b[0]-a[0]);this.bu[1]=-1/(b[1]-a[1]);a=0;for(b=this.Kc.length;a<b;a++)c=this.Kc[a],c.fj=!1,c.Bw&&(this.W.useProgram(c.dn),this.W.uniformMatrix4fv(c.Bw,!1,this.Ts));this.W.useProgram(this.Kc[this.km].dn);this.W.bindTexture(this.W.TEXTURE_2D,null);this.W.activeTexture(this.W.TEXTURE1);this.W.bindTexture(this.W.TEXTURE_2D,null);this.W.activeTexture(this.W.TEXTURE0);this.mj=
this.ii=null}};a.prototype.Dg=function(){cc(this.tv,this.Dw,this.ny,this.jf);bc(this.jf,this.bu)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Fi[0]=a;this.Fi[1]=b;this.Fi[2]=0;var c=this.jf,d=this.Fi,e=d[0],k=d[1],d=d[2];c[12]=c[0]*e+c[4]*k+c[8]*d+c[12];c[13]=c[1]*e+c[5]*k+c[9]*d+c[13];c[14]=c[2]*e+c[6]*k+c[10]*d+c[14];c[15]=c[3]*e+c[7]*k+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Fi[0]=a,this.Fi[1]=b,this.Fi[2]=1,bc(this.jf,this.Fi)};a.prototype.wt=function(a){if(0!==
a){var b=this.jf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],k=b[1],m=b[2],q=b[3],p=b[4],s=b[5],t=b[6],u=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+p*d;c[1]=k*a+s*d;c[2]=m*a+t*d;c[3]=q*a+u*d;c[4]=e*-d+p*a;c[5]=k*-d+s*a;c[6]=m*-d+t*a;c[7]=q*-d+u*a}};a.prototype.Lg=function(){for(var a=!1,b=0;16>b;b++)if(this.vw[b]!==this.jf[b]){a=!0;break}a&&(a=this.Qf(),a.type=5,a.jb?ac(this.jf,a.jb):a.jb=$b(this.jf),ac(this.jf,this.vw),this.fe=
!1)};b.prototype.eB=function(){this.W.bindTexture(this.W.TEXTURE_2D,this.Tf)};b.prototype.fB=function(){var a=this.W;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Tf);a.activeTexture(a.TEXTURE0)};b.prototype.bB=function(){var a=this.qx,b=this.Z;b.io=a;b=b.Jl;b.xk&&b.$o!==a&&(b.$o=a,this.W.uniform1f(b.xk,a))};b.prototype.ZA=function(){this.W.drawElements(this.W.TRIANGLES,this.mg,this.W.UNSIGNED_SHORT,2*this.pf)};b.prototype.aB=function(){this.W.blendFunc(this.pf,this.mg)};b.prototype.gB=
function(){var a,b,c,d=this.Z.Kc,e=this.Z.Dv;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Yo?(c.Tt(this.jb),c.fj=!0):c.fj=!1;ac(this.jb,this.Z.hr)};b.prototype.$A=function(){var a=this.W,b=this.Z;this.Tf?(b.mj===this.Tf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.mj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.VB),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Tf,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.UA=function(){var a=this.W;0===this.pf?(a.clearColor(this.jb[0],this.jb[1],this.jb[2],this.jb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.jb[0],this.jb[1],this.jb[2],this.jb[3]),a.clearColor(0,0,0,0),a.clear(this.W.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.YA=function(){var a=this.W,b=this.Z,c=b.Kc[1];a.useProgram(c.dn);!c.fj&&c.Yo&&(c.Tt(b.hr),c.fj=!0);a.enableVertexAttribArray(c.ef);a.bindBuffer(a.ARRAY_BUFFER,
b.ht);a.vertexAttribPointer(c.ef,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.pf/4,this.mg);c=b.Jl;a.useProgram(c.dn);0<=c.ef&&(a.enableVertexAttribArray(c.ef),a.bindBuffer(a.ARRAY_BUFFER,b.qn[b.Yg]),a.vertexAttribPointer(c.ef,2,a.FLOAT,!1,0,0));0<=c.ki&&(a.enableVertexAttribArray(c.ki),a.bindBuffer(a.ARRAY_BUFFER,b.jn[b.Yg]),a.vertexAttribPointer(c.ki,2,a.FLOAT,!1,0,0))};b.prototype.cB=function(){var a=this.W,b=this.Z,c=b.Kc[this.pf];b.Dv=this.pf;b.Jl=c;a.useProgram(c.dn);!c.fj&&c.Yo&&(c.Tt(b.hr),
c.fj=!0);c.xk&&c.$o!==b.io&&(c.$o=b.io,a.uniform1f(c.xk,b.io));0<=c.ef&&(a.enableVertexAttribArray(c.ef),a.bindBuffer(a.ARRAY_BUFFER,b.qn[b.Yg]),a.vertexAttribPointer(c.ef,2,a.FLOAT,!1,0,0));0<=c.ki&&(a.enableVertexAttribArray(c.ki),a.bindBuffer(a.ARRAY_BUFFER,b.jn[b.Yg]),a.vertexAttribPointer(c.ki,2,a.FLOAT,!1,0,0))};b.prototype.dB=function(){var a,b,c=this.Z.Jl,d=this.W;a=this.jb;c.um&&this.Z.mj!==this.Tf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Tf),this.Z.mj=this.Tf,d.activeTexture(d.TEXTURE0));
var e=a[0];c.ys&&e!==c.Mw&&(c.Mw=e,d.uniform1f(c.ys,e));e=a[1];c.xs&&e!==c.Lw&&(c.Lw=e,d.uniform1f(c.xs,e));e=a[2];b=a[3];!c.rj||e===c.Gw&&b===c.Hw||(c.Gw=e,c.Hw=b,d.uniform2f(c.rj,e,b));e=a[4];b=a[5];!c.qj||e===c.Ew&&b===c.Fw||(c.Ew=e,c.Fw=e,d.uniform2f(c.qj,e,b));e=a[6];c.tm&&e!==c.Jw&&(c.Jw=e,d.uniform1f(c.tm,e));e=a[7];c.rm&&e!==c.Iw&&(c.Iw=e,d.uniform1f(c.rm,e));e=a[8];b=a[9];!c.wm||e===c.Pw&&b===c.Qw||(c.Pw=e,c.Qw=b,d.uniform2f(c.wm,e,b));e=a[10];b=a[11];!c.vm||e===c.Nw&&b===c.Ow||(c.Nw=e,c.Ow=
b,d.uniform2f(c.vm,e,b));c.zs&&d.uniform1f(c.zs,Qa()/1E3);if(c.za.length)for(a=0,b=c.za.length;a<b;a++)e=this.Sx[a],e!==c.cs[a]&&(c.cs[a]=e,d.uniform1f(c.za[a][1],e))};a.prototype.Qf=function(){this.Vg===this.Uh.length&&this.Uh.push(new b(0,this));return this.Uh[this.Vg++]};a.prototype.$h=function(){if(0!==this.Vg&&!this.W.isContextLost()){var a=this.W;0<this.it&&(a.bindBuffer(a.ARRAY_BUFFER,this.ht),a.bufferData(a.ARRAY_BUFFER,this.LD.subarray(0,this.it),a.STREAM_DRAW),b&&0<=b.ef&&"<point>"===b.name&&
a.vertexAttribPointer(b.ef,4,a.FLOAT,!1,0,0));if(0<this.Mg){var b=this.Jl;a.bindBuffer(a.ARRAY_BUFFER,this.qn[this.Yg]);a.bufferData(a.ARRAY_BUFFER,this.$t.subarray(0,this.Mg),a.STREAM_DRAW);b&&0<=b.ef&&"<point>"!==b.name&&a.vertexAttribPointer(b.ef,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.jn[this.Yg]);a.bufferData(a.ARRAY_BUFFER,this.Kt.subarray(0,this.Mg),a.STREAM_DRAW);b&&0<=b.ki&&"<point>"!==b.name&&a.vertexAttribPointer(b.ki,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Vg;a<b;a++)switch(c=
this.Uh[a],c.type){case 1:c.ZA();break;case 2:c.eB();break;case 3:c.bB();break;case 4:c.aB();break;case 5:c.gB();break;case 6:c.$A();break;case 7:c.UA();break;case 8:c.YA();break;case 9:c.cB();break;case 10:c.dB();break;case 11:c.fB()}this.it=this.Mg=this.Vg=0;this.fe=!1;this.Yg++;4<=this.Yg&&(this.Yg=0)}};a.prototype.Jj=function(a){if(a!==this.ww){var b=this.Qf();b.type=3;this.ww=b.qx=a;this.fe=!1}};a.prototype.pe=function(a){if(a!==this.ii){var b=this.Qf();b.type=2;this.ii=b.Tf=a;this.fe=!1}};a.prototype.Bi=
function(a,b){if(a!==this.xw||b!==this.uw){var c=this.Qf();c.type=4;c.pf=a;c.mg=b;this.xw=a;this.uw=b;this.fe=!1}};a.prototype.Ox=function(){this.Bi(this.W.ONE,this.W.ONE_MINUS_SRC_ALPHA)};a.prototype.vp=function(a,b,c,d,e,k,m,q){15992<=this.Mg&&this.$h();var p=this.Mg,s=this.$t,t=this.Kt;if(this.fe)this.Uh[this.Vg-1].mg+=6;else{var u=this.Qf();u.type=1;u.pf=p/4*3;u.mg=6;this.fe=!0}s[p]=a;t[p++]=0;s[p]=b;t[p++]=0;s[p]=c;t[p++]=1;s[p]=d;t[p++]=0;s[p]=e;t[p++]=1;s[p]=k;t[p++]=1;s[p]=m;t[p++]=0;s[p]=
q;t[p++]=1;this.Mg=p};a.prototype.Ag=function(a,b,c,d,e,k,m,q,p){15992<=this.Mg&&this.$h();var s=this.Mg,t=this.$t,u=this.Kt;if(this.fe)this.Uh[this.Vg-1].mg+=6;else{var x=this.Qf();x.type=1;x.pf=s/4*3;x.mg=6;this.fe=!0}var x=p.left,A=p.top,D=p.right;p=p.bottom;t[s]=a;u[s++]=x;t[s]=b;u[s++]=A;t[s]=c;u[s++]=D;t[s]=d;u[s++]=A;t[s]=e;u[s++]=D;t[s]=k;u[s++]=p;t[s]=m;u[s++]=x;t[s]=q;u[s++]=p;this.Mg=s};a.prototype.Gg=function(a){if(this.km!==a){if(!this.Kc[a]){if(0===this.km)return;a=0}var b=this.Qf();
b.type=9;this.km=b.pf=a;this.fe=!1}};a.prototype.Xm=function(a){a=this.Kc[a];return!(!a.rj&&!a.qj)};a.prototype.lt=function(a){a=this.Kc[a];return!!(a.rj||a.qj||a.Bv)};a.prototype.RD=function(a){a=this.Kc[a];return 0!==a.rr||0!==a.sr};a.prototype.hC=function(a){return this.Kc[a].rr};a.prototype.iC=function(a){return this.Kc[a].sr};a.prototype.jC=function(a,b){return this.Kc[a].za[b][2]};a.prototype.sp=function(a){return this.Kc[a].gv};a.prototype.Pk=function(a,b,c,d,e,k,m,q,p,s,t,u,x,A){var D=this.Kc[this.km],
y,B;if(D.AC||A.length){y=this.Qf();y.type=10;y.jb?ac(this.jf,y.jb):y.jb=$b();B=y.jb;B[0]=b;B[1]=c;B[2]=d;B[3]=e;B[4]=k;B[5]=m;B[6]=q;B[7]=p;B[8]=s;B[9]=t;B[10]=u;B[11]=x;y.Tf=D.um?a:null;if(A.length)for(c=y.Sx,c.length=A.length,a=0,b=A.length;a<b;a++)c[a]=A[a];this.fe=!1}};a.prototype.clear=function(a,b,c,d){var e=this.Qf();e.type=7;e.pf=0;e.jb||(e.jb=$b());e.jb[0]=a;e.jb[1]=b;e.jb[2]=c;e.jb[3]=d;this.fe=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.Qf();e.type=7;e.pf=1;e.jb||
(e.jb=$b());e.jb[0]=a;e.jb[1]=b;e.jb[2]=c;e.jb[3]=d;this.fe=!1}};a.prototype.QD=function(){this.$h();this.W.flush()};var d=[],e={};a.prototype.LA=function(){d.length=0;e={}};a.prototype.Wo=function(a,b,c,h){b=!!b;c=!!c;var n=a.src+","+b+","+c+(b?",undefined":""),k=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(n))return k=e[n],k.Wn++,k;this.$h();var m=this.W,q=ia(a.width)&&ia(a.height),k=m.createTexture();m.bindTexture(m.TEXTURE_2D,k);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=
m.RGBA,s=m.RGBA,t=m.UNSIGNED_BYTE;if(h&&!this.ei)switch(h){case 1:s=p=m.RGB;break;case 2:t=m.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=p=m.RGB,t=m.UNSIGNED_SHORT_5_6_5}if(!q&&b){h=document.createElement("canvas");h.width=ja(a.width);h.height=ja(a.height);var u=h.getContext("2d");u.webkitImageSmoothingEnabled=c;u.mozImageSmoothingEnabled=c;u.msImageSmoothingEnabled=c;u.imageSmoothingEnabled=c;u.drawImage(a,0,0,a.width,a.height,0,0,h.width,h.height);m.texImage2D(m.TEXTURE_2D,
0,p,s,t,h)}else m.texImage2D(m.TEXTURE_2D,0,p,s,t,a);b?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));c?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),q&&this.Gv?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.ii=null;k.Fl=a.width;k.El=a.height;k.Wn=1;k.rv=n;d.push(k);return e[n]=k};a.prototype.Xg=function(a,b,c,e){this.$h();var n=this.W;this.ei&&(e=!1);var k=n.createTexture();n.bindTexture(n.TEXTURE_2D,k);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,b,0,n.RGBA,e?n.UNSIGNED_SHORT_4_4_4_4:n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,
n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,c?n.LINEAR:n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,c?n.LINEAR:n.NEAREST);n.bindTexture(n.TEXTURE_2D,null);this.ii=null;k.Fl=a;k.El=b;d.push(k);return k};a.prototype.yE=function(a,b,c){this.$h();var d=this.W;this.ei&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,
0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.ii=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Wn&&1<a.Wn?a.Wn--:(this.$h(),a===this.ii&&(this.W.bindTexture(this.W.TEXTURE_2D,null),this.ii=null),a===this.mj&&(this.W.activeTexture(this.W.TEXTURE1),this.W.bindTexture(this.W.TEXTURE_2D,null),this.W.activeTexture(this.W.TEXTURE0),this.mj=null),
Aa(d,a),"undefined"!==typeof a.rv&&delete e[a.rv],this.W.deleteTexture(a)))};a.prototype.Fg=function(a){if(a!==this.Hx){var b=this.Qf();b.type=6;this.Hx=b.Tf=a;this.fe=!1}};fb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Ef=(this.Ho=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.ng=!!a.dc;this.em="undefined"!==typeof window.AppMobi||this.ng;this.De=!!window.c2cocoonjs;this.Ff=!!window.c2ejecta;this.De&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ff&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ab=this.ng||this.De||this.Ff;this.ei=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.nw=/tizen/i.test(navigator.userAgent);this.lw=/android/i.test(navigator.userAgent)&&!this.nw&&!this.ei;this.$r=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.ei;this.sw=/ipad/i.test(navigator.userAgent);this.rw=this.$r||this.sw||this.Ff;this.MC=this.$r&&/os\s6/i.test(navigator.userAgent);this.Go=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.ei;this.kw=/amazonwebappplatform/i.test(navigator.userAgent);this.HC=/firefox/i.test(navigator.userAgent);this.JC=/safari/i.test(navigator.userAgent)&&!this.Go&&!this.ei;this.fi="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.pw=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.LC=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.nk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Yr=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ow=this.pw||this.LC||this.Yr;this.FC=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.mw=this.lw&&!this.Go&&!this.Ho&&!this.HC&&!this.kw&&!this.Ab;this.devicePixelRatio=
1;this.df=this.Ef||this.Ho||this.em||this.De||this.lw||this.rw||this.nk||this.Yr||this.FC||this.nw||this.Ff;this.df||(this.df=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.fi||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.fi=!0);this.GC="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.uv=document.getElementById("c2canvasdiv");
this.mb=this.Z=this.W=null;this.Cr="";this.so=!1;this.mx=this.nx=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.ng&&(window.c2runtime=this);this.fi&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.mw&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ka=this.width;this.Ja=this.height;this.fo=this.width;this.eo=this.height;this.nm=window.innerWidth;this.mm=window.innerHeight;this.XB=!1;this.ob=!0;this.gm=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.Y=[];this.pc=[];this.rs={};this.Hf=[];this.qr={};this.eh=[];this.al=[];this.Zp=[];this.xA=[];this.yA=[];this.Gt=null;this.Yi={};this.Ur=this.di=!1;this.Gf=0;this.Wr=!1;this.Bf=[];this.nh=this.Ed=this.To=
this.At="";this.gn=this.Vx=!1;this.dr=this.xm=this.dh=this.Ba=0;this.Mj=1;this.lj=new Wa;this.cq=new Wa;this.No=0;this.bx=!0;this.mp=this.vo=this.Nl=this.Xd=this.oj=this.Br=0;this.Wq=null;this.mo=[];this.or=[];this.po=-1;this.As=[[]];this.Qt=this.Zo=0;this.up(null);this.Ol=this.jx=this.Mm=0;this.Np=[];this.Tp=this.yp=-1;this.Lo=!0;this.Xo=0;this.fm=!1;this.hE=0;this.Dl=null;this.yC=!1;this.gs=0;this.Gc=this.lk=this.nt=!1;this.lx=new ca;this.Ys=new ca;this.Zs=new ca;this.Ap=[];this.Sf=new Ya([]);this.Jt=
new Ya([]);this.ak=[];this.Do={};this.dk={};this.$j={};this.$k={};this.ov={};this.Aw=this.Ro=this.he=this.Fe=this.zw=this.Qo=this.wb=null;this.Yk=this.Zr=!1;this.Dr=[null,null];this.cj=0;this.wi={};this.Jp=this.wk=null;this.lp=[];this.VD()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,m){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=m;k.onsuccess=function(d){d=d.target.result;d.onerror=m;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,
data:b}).onsuccess=c}}function g(a,b,c){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=d;m.onerror=c;m.onsuccess=function(d){d=d.target.result;d.onerror=c;var m=d.transaction(["saves"]).objectStore("saves").get(a);m.onsuccess=function(){m.result?b(m.result.data):b(null)}}}function f(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function l(a){var b,c=
{};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].dg||(c[b]=a[b]);return c}b.prototype.VD=function(){var a=this,b;b=this.nk?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.pw||this.nk||this.Yr)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Ab&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(m){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.nk?b.onreadystatechange=function(){4===b.readyState&&a.Vo(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Vo(b.response);else if(a.Ff){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Vo(JSON.parse(c))}else a.Vo(JSON.parse(b.responseText))},b.onerror=function(a){fa("Error requesting "+c+":");fa(a)});b.send()};b.prototype.DC=function(){var b=this,d,m,k,f,e,g,l,h,p;this.devicePixelRatio=(this.kj=(!this.Ab||this.Ff)&&
this.uE&&!this.mw)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.cd();m=!(!this.XB&&(!this.Jq||this.fi||this.ow||this.nk||this.Ho||this.Ef||this.kw));0<this.Dd&&this.setSize(a(),c(),!0);try{this.tB&&(this.De||this.Ff||!this.Ab)&&(d={alpha:m,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.W=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(q){}if(this.W){this.Ab||(this.Yc=document.createElement("canvas"),
jQuery(this.Yc).appendTo(this.canvas.parentNode),this.Yc.oncontextmenu=function(){return!1},this.Yc.onselectstart=function(){return!1},this.Yc.width=this.fo,this.Yc.height=this.eo,jQuery(this.Yc).css({width:this.fo+"px",height:this.eo+"px"}),this.yx(),this.gt=this.Yc.getContext("2d"));this.Z=new fb(this.W,this.df);this.Z.Qk(this.canvas.width,this.canvas.height);this.Z.Gv=0!==this.hB;this.mb=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.zD();ea("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.Z.dw();b.Z.Qk(b.Z.width,b.Z.height,!0);b.Fe=null;b.he=null;b.Dr[0]=null;b.Dr[1]=null;b.AD();b.ob=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(m=this.Y.length;d<m;d++)for(e=this.Y[d],k=0,f=e.wa.length;k<f;k++)l=e.wa[k],l.Zc=this.Z.Ir(l.id),this.Yk=this.Yk||this.Z.Xm(l.Zc);d=0;for(m=this.Hf.length;d<m;d++){h=this.Hf[d];k=0;for(f=h.wa.length;k<f;k++)l=h.wa[k],l.Zc=
this.Z.Ir(l.id);k=0;for(f=h.Da.length;k<f;k++)for(p=h.Da[k],e=0,g=p.wa.length;e<g;e++)l=p.wa[e],l.Zc=this.Z.Ir(l.id),this.Yk=this.Yk||this.Z.Xm(l.Zc)}}else{if(0<this.Dd&&this.ng){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.mb=AppMobi.canvas.getContext("2d");try{this.mb.samplingMode=this.Za?"smooth":"sharp",this.mb.globalScale=1,this.mb.HTML5CompatibilityMode=!0,this.mb.imageSmoothingEnabled=this.Za}catch(n){}0!==this.width&&0!==this.height&&
(this.mb.width=this.width,this.mb.height=this.height)}this.mb||(d=this.De?{antialias:!!this.Za,alpha:m}:{alpha:m},this.mb=this.canvas.getContext("2d",d),this.mb.webkitImageSmoothingEnabled=this.Za,this.mb.mozImageSmoothingEnabled=this.Za,this.mb.msImageSmoothingEnabled=this.Za,this.mb.imageSmoothingEnabled=this.Za);this.gt=this.Yc=null}this.Sp=function(){b.Wd(!1)};window==window.top||this.Ab||this.ow||this.nk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.De&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.To="__c2_continuouspreview",this.gn=!0),this.KD&&!this.df&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.Ab||(d=function(a){if(eb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Dd&&this.kj&&1<this.devicePixelRatio&&this.setSize(this.Ic,this.Hc,!0);this.jy();this.wC();this.go();this.X={}};b.prototype.setSize=function(a,b,c){var d=0,m=0,k=0,f=0,f=0,e=this.MC&&
this.JC&&!navigator.standalone&&!this.Ab&&!this.Ef;e&&(b+=60);if(this.nm!==a||this.mm!==b||c){this.nm=a;this.mm=b;var g=this.Dd,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.fm)&&!this.Ef;if(l||0!==this.Dd||c)l&&0<this.cj&&(g=this.cj),c=this.devicePixelRatio,4<=g?(k=this.Ic/this.Hc,a/b>k?(k*=b,5===g?(f=k*c/this.Ic,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),k=this.Ic*f/c,f=this.Hc*f/c,d=(a-k)/2,m=(b-f)/2,a=k,b=f):(d=(a-k)/2,a=k)):
(f=a/k,5===g?(f=f*c/this.Hc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),k=this.Ic*f/c,f=this.Hc*f/c,d=(a-k)/2,m=(b-f)/2,a=k):m=(b-f)/2,b=f),l&&!this.fi&&(m=d=0)):this.fi&&this.fm&&0===this.Nv&&(d=Math.floor((a-this.Ic)/2),m=Math.floor((b-this.Hc)/2),a=this.Ic,b=this.Hc),2>g&&(this.Cl=c),this.kj&&this.sw&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.fo=Math.round(a),this.eo=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.ob=!0,this.Cy?(this.Ka=this.width,this.Ja=this.height,
this.$e=!0):this.width<this.Ic&&this.height<this.Hc||1===g?(this.Ka=this.width,this.Ja=this.height,this.$e=!0):(this.Ka=this.Ic,this.Ja=this.Hc,this.$e=!1,2===g?(k=this.Ic/this.Hc,g=this.nm/this.mm,g<k?this.Ka=this.Ja*g:g>k&&(this.Ja=this.Ka/g)):3===g&&(k=this.Ic/this.Hc,g=this.nm/this.mm,g>k?this.Ka=this.Ja*g:g<k&&(this.Ja=this.Ka/g))),this.uv&&!this.Ab&&(jQuery(this.uv).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(m)+"px"}),"undefined"!==
typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ff?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(m)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.kj&&!this.Ab&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Yc&&(this.Yc.width=Math.round(a),
this.Yc.height=Math.round(b),jQuery(this.Yc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Z&&this.Z.Qk(Math.round(a*c),Math.round(b*c)),this.ng&&this.mb&&(this.mb.width=Math.round(a),this.mb.height=Math.round(b)),this.mb&&(this.mb.webkitImageSmoothingEnabled=this.Za,this.mb.mozImageSmoothingEnabled=this.Za,this.mb.msImageSmoothingEnabled=this.Za,this.mb.imageSmoothingEnabled=this.Za),this.jy(),this.Ab||!e&&!this.$r||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.jy=
function(){if(this.BA&&0!==this.ft){var a="portrait";2===this.ft&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.zD=function(){this.Z.LA();this.Zr=!0;var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.np&&c.np()};b.prototype.AD=
function(){this.Zr=!1;var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.et&&c.et()};b.prototype.yx=function(){if(!this.Ab){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.fm)&&!this.Ef?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Yc).css(a)}};var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
b.prototype.setSuspended=function(a){var b;if(a&&!this.gm)for(ea("[Construct 2] Suspending"),this.gm=!0,-1!==this.yp&&h&&h(this.yp),-1!==this.Tp&&clearTimeout(this.Tp),a=0,b=this.Np.length;a<b;a++)this.Np[a](!0);else if(!a&&this.gm){ea("[Construct 2] Resuming");this.gm=!1;this.No=Qa();this.oj=Qa();a=this.xm=this.vo=0;for(b=this.Np.length;a<b;a++)this.Np[a](!1);this.Wd(!1)}};b.prototype.Oh=function(a){return this.lp[a]};b.prototype.Vo=function(a){a&&a.project||fa("Project model unavailable");a=a.project;
this.name=a[0];this.Mv=a[1];this.Dd=a[12];this.Nv=a[12];this.Ic=a[10];this.Hc=a[11];this.rx=this.Ic/2;this.tx=this.Hc/2;this.Ab&&!this.Ff&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Nv=this.Dd=3);this.Yt=a[18];this.qm=a[19];0===this.qm&&(this.wk=new Image,this.wk.src="loading-logo.png");this.Mm=a[21];this.lp=ec();this.Hg=new J(this);var b,c,d,m,k,f,e,g,l;b=0;for(c=a[2].length;b<c;b++)e=a[2][b],
d=this.Oh(e[0]),gb(e,d.prototype),l=new d(this),l.Ip=e[1],l.hi=e[2],l.gx=e[9],l.Fa&&l.Fa(),this.plugins.push(l);this.lp=ec();b=0;for(c=a[3].length;b<c;b++){e=a[3][b];k=this.Oh(e[1]);l=null;d=0;for(m=this.plugins.length;d<m;d++)if(this.plugins[d]instanceof k){l=this.plugins[d];break}var h=new l.rb(l);h.name=e[0];h.pa=e[2];h.Tr=e[3].slice(0);h.xE=e[3].length;h.FA=e[4];h.YB=e[5];h.Na=e[11];h.pa?(h.Ik=[],h.fh=this.Ol++,h.Ob=null):(h.Ik=null,h.fh=-1,h.Ob=[]);h.qo=null;h.hk=null;h.Iv=null;h.Ee=!1;h.ee=
null;e[6]?(h.Lt=e[6][0],h.Mt=e[6][1],h.Nt=e[6][2]):(h.Lt=null,h.Mt=0,h.Nt=0);h.ae=e[7]?e[7]:null;h.index=b;h.C=[];h.ko=[];h.Ei=[new hb(h)];h.ah=0;h.Xe=null;h.QA=0;h.Uk=!0;h.$p=ib;h.bC=jb;h.gC=kb;h.Ya=lb;h.Zm=mb;h.tp=nb;h.Hj=ob;h.xo=pb;h.Er=qb;h.Hr=rb;h.Af=sb;h.Rv=tb;h.Zn=new Za(this.Ic,this.Hc);h.Mn=!0;h.Nn=!1;h.X={};h.toString=ub;h.pc=[];d=0;for(m=e[8].length;d<m;d++){g=e[8][d];var p=this.Oh(g[1]),q=null;k=0;for(f=this.pc.length;k<f;k++)if(this.pc[k]instanceof p){q=this.pc[k];break}q||(q=new p(this),
q.Xs=[],q.vi=new ca,q.Fa&&q.Fa(),this.pc.push(q),fc&&q instanceof fc&&(this.Gt=q));-1===q.Xs.indexOf(h)&&q.Xs.push(h);k=new q.rb(q,h);k.name=g[0];k.Na=g[2];k.Fa();h.pc.push(k)}h.global=e[9];h.Vr=e[10];h.wa=[];d=0;for(m=e[12].length;d<m;d++)h.wa.push({id:e[12][d][0],name:e[12][d][1],Zc:-1,hc:!0,index:d});h.aG=e[13];this.Yt&&!h.pa&&!h.Vr&&l.hi||h.Fa();h.name&&(this.types[h.name]=h);this.Y.push(h);l.Ip&&(d=new l.Va(h),d.uid=this.Mm++,d.Dx=this.jx++,d.gj=0,d.Xl=vb,d.toString=xb,d.aa=e[14],d.Fa(),h.C.push(d),
this.wi[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(k=a[4][b],f=this.Y[k[0]],d=1,m=k.length;d<m;d++)e=this.Y[k[d]],e.Ob.push(f),f.Ik.push(e);b=0;for(c=a[27].length;b<c;b++){k=a[27][b];f=[];d=0;for(m=k.length;d<m;d++)f.push(this.Y[k[d]]);d=0;for(m=f.length;d<m;d++)f[d].Ee=!0,f[d].ee=f}if(0<this.Ol)for(b=0,c=this.Y.length;b<c;b++)if(e=this.Y[b],!e.pa&&e.Ob.length){e.qo=Array(this.Ol);e.hk=Array(this.Ol);e.Iv=Array(this.Ol);h=[];d=q=p=g=0;for(m=e.Ob.length;d<m;d++)for(l=e.Ob[d],e.qo[l.fh]=
g,g+=l.xE,e.hk[l.fh]=p,p+=l.FA,e.Iv[l.fh]=q,q+=l.YB,k=0,f=l.wa.length;k<f;k++)h.push(ua({},l.wa[k]));e.wa=h.concat(e.wa);d=0;for(m=e.wa.length;d<m;d++)e.wa[d].index=d}b=0;for(c=a[5].length;b<c;b++)e=a[5][b],d=new yb(this,e),this.rs[d.name]=d,this.Hf.push(d);b=0;for(c=a[6].length;b<c;b++)e=a[6][b],d=new zb(this,e),this.qr[d.name]=d,this.eh.push(d);b=0;for(c=this.eh.length;b<c;b++)this.eh[b].mc();b=0;for(c=this.eh.length;b<c;b++)this.eh[b].ry();b=0;for(c=this.Zp.length;b<c;b++)this.Zp[b].mc();this.Zp.length=
0;this.AA=a[7];this.zg=a[9];this.Cl=1;this.tB=a[13];this.Za=a[14];this.Jq=a[15];this.uE=a[17];this.ft=a[20];this.BA=0<this.ft;this.KD=a[22];this.$e=this.Cy=a[23];this.hB=a[24];this.OD=a[25];this.Kp=Date.now();this.lp.length=0;this.DC()};var n=!1;b.prototype.By=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){n=a.qv=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Ff?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){n=
a.qv=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.al.push(a)};b.prototype.WB=function(a){var b,c;b=0;for(c=this.al.length;b<c;b++)if(this.al[b].MA===a)return this.al[b];return null};var k=0,m=!1;b.prototype.wC=function(){this.Dl&&(k=this.Dl.YF(this.AA))};b.prototype.hv=function(){var a=k,b=0,c=0,d=!0,f,e,c=0;for(f=this.al.length;c<f;c++){e=this.al[c];var g=e.zv;if(!g||0>=g)g=5E4;a+=g;e.src&&(e.complete||e.loaded)&&!e.qv?b+=g:d=
!1}d&&this.OD&&this.Dl&&(m||(this.Dl.ZF(),m=!0),c=this.Dl.QF(),b+=c,c<k&&(d=!1));this.Ij=0==a?0:b/a;return d};b.prototype.go=function(){if(this.mb||this.Z){var a=this.mb||this.gt;this.Yc&&this.yx();this.Ij=0;this.yw=-1;if(this.hv())this.xC();else{var b=Date.now()-this.Kp;if(a){var c=this.width,d=this.height,m=this.devicePixelRatio;this.Yc&&(c=this.fo,d=this.eo,m=1);if(3!==this.qm&&(this.De||500<=b&&this.yw!=this.Ij)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.qm&&this.wk.complete,k=40*m,f=0,
e=80*m,g;c&&(e=this.wk.width*m,g=this.wk.height*m,k=e/2,f=g/2,a.drawImage(this.wk,w(b-k),w(d-f),e,g));1>=this.qm?(b=w(b-k)+.5,d=w(d+(f+(c?12*m:0)))+.5,a.fillStyle=n?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(e*this.Ij),6*m),a.strokeStyle="black",a.strokeRect(b,d,e,6*m),a.strokeStyle="white",a.strokeRect(b-1*m,d-1*m,e+2*m,8*m)):2===this.qm&&(a.font=this.Ff?"12pt ArialMT":"12pt Arial",a.fillStyle=n?"#f00":"#999",a.$F="middle",m=Math.round(100*this.Ij)+"%",c=a.measureText?a.measureText(m):null,a.fillText(m,
b-(c?c.width:0)/2,d))}this.yw=this.Ij}setTimeout(function(a){return function(){a.go()}}(this),this.De?10:100)}}};b.prototype.xC=function(){this.Yc&&(this.canvas.parentNode.removeChild(this.Yc),this.Yc=this.gt=null);this.Kp=Date.now();this.oj=Qa();var a,b,c;if(this.Yt)for(a=0,b=this.Y.length;a<b;a++)c=this.Y[a],c.pa||c.Vr||!c.Xb.hi||c.Fa();else this.Lo=!1;a=0;for(b=this.Hf.length;a<b;a++)this.Hf[a].NA();2<=this.Dd&&(a=this.Ic/this.Hc,b=this.width/this.height,this.Cl=2!==this.Dd&&b>a||2===this.Dd&&
b<a?this.height/this.Hc:this.width/this.Ic);this.Mv?this.rs[this.Mv].Ht():this.Hf[0].Ht();this.Yt||(this.Xo=1,this.trigger(J.prototype.V.wu,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.yD&&c.yD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Wd(!1);this.ng&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Wd=function(b){if(this.wb){var d=Qa();if(this.yC&&this.nt&&29>d-this.gs)this.nt=!1,this.gs=d,q?this.yp=q(this.Sp,this.canvas):this.Tp=setTimeout(this.Sp,this.df?1:16);else{this.nt=!0;this.gs=d;var m=this.Dd,k=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Ef;(k||this.fm)&&0<this.cj&&(m=this.cj);0<m&&(!this.rw||window.self!==
window.top)&&(m=window.innerHeight,this.nm===window.innerWidth&&this.mm===m||this.setSize(a(),c()));this.Ab||(k?(this.so||(this.Cr=jQuery(this.canvas).css("margin")||"0",this.so=!0),this.Go||this.fi||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.so?(this.Go||this.fi||jQuery(this.canvas).css("margin",this.Cr),this.Cr="",this.so=!1,0===this.Dd&&
this.setSize(Math.round(this.nx/this.devicePixelRatio),Math.round(this.mx/this.devicePixelRatio),!0)):(this.nx=this.width,this.mx=this.height));this.Lo&&(k=this.hv(),this.Xo=this.Ij,k&&(this.Lo=!1,this.Ij=1,this.trigger(J.prototype.V.wu,null)));this.SC();!this.ob&&!this.De||this.Zr||this.gn||b||(this.ob=!1,this.Z?this.Ye():this.hg(),this.Jp&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Jp[0],this.Jp[1]),this.trigger(J.prototype.V.vz,null)),this.Jp=null));this.SF||(this.Xd++,this.Nl++,
this.vo++);this.xm+=Qa()-d;this.gm||b||(q?this.yp=q(this.Sp,this.canvas):this.Tp=setTimeout(this.Sp,this.df?1:16))}}};b.prototype.SC=function(){var a,b,c,d,m,k,f,e,g;a=Qa();1E3<=a-this.oj&&(this.oj+=1E3,1E3<=a-this.oj&&(this.oj=a),this.Br=this.vo,this.vo=0,this.dr=this.xm,this.xm=0);this.bx&&(0!==this.No&&(b=a-this.No,0!==b||this.GC?(this.dh=b/1E3,.5<this.dh?this.dh=0:.1<this.dh&&(this.dh=.1)):(10<=this.cG&&(this.bx=!1),this.dh=1/60)),this.No=a);this.Ba=this.dh*this.Mj;this.lj.add(this.Ba);this.cq.add(this.dh);
a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.fm)&&!this.Ef;2<=this.Dd||a&&0<this.cj?(b=this.Ic/this.Hc,c=this.width/this.height,d=this.Dd,a&&0<this.cj&&(d=this.cj),this.Cl=2!==d&&c>b||2===d&&c<b?this.height/this.Hc:this.width/this.Ic,this.wb&&(this.wb.Mx(this.wb.scrollX),this.wb.Nx(this.wb.scrollY))):this.Cl=this.kj?this.devicePixelRatio:1;this.cd();this.Gf++;this.Hg.YD();this.Gf--;this.cd();this.Gf++;c=this.lx.Yd();a=0;for(b=c.length;a<
b;a++)c[a].TF();a=0;for(b=this.Y.length;a<b;a++)if(f=this.Y[a],!f.pa&&(f.pc.length||f.Ob.length))for(c=0,d=f.C.length;c<d;c++)for(e=f.C[c],m=0,k=e.na.length;m<k;m++)e.na[m].Wd();a=0;for(b=this.Y.length;a<b;a++)if(f=this.Y[a],!f.pa&&(f.pc.length||f.Ob.length))for(c=0,d=f.C.length;c<d;c++)for(e=f.C[c],m=0,k=e.na.length;m<k;m++)g=e.na[m],g.ND&&g.ND();c=this.Ys.Yd();a=0;for(b=c.length;a<b;a++)c[a].Wd();this.Gf--;this.zC();for(a=0;this.Wq&&10>a++;)this.Fv(this.Wq);a=0;for(b=this.eh.length;a<b;a++)this.eh[a].Mr=
!1;this.wb.Ll&&this.wb.Ll.uc();this.Ap.length=0;this.Gf++;a=0;for(b=this.Y.length;a<b;a++)if(f=this.Y[a],!f.pa&&(f.pc.length||f.Ob.length))for(c=0,d=f.C.length;c<d;c++)for(e=f.C[c],m=0,k=e.na.length;m<k;m++)g=e.na[m],g.Rp&&g.Rp();c=this.Zs.Yd();a=0;for(b=c.length;a<b;a++)c[a].Rp();this.Gf--};b.prototype.Fv=function(a){var b=this.wb;this.wb.jE();var c,d,m,k,f,e,g;if(this.Z)for(c=0,d=this.Y.length;c<d;c++)f=this.Y[c],f.pa||!f.St||f.global&&0!==f.C.length||-1!==a.am.indexOf(f)||f.St();b==a&&(this.Hg.te.length=
0);a.Ht();c=0;for(d=this.Y.length;c<d;c++)if(f=this.Y[c],f.global||f.Xb.Ip)for(a=0,b=f.C.length;a<b;a++)if(e=f.C[a],e.dt&&e.dt(),e.na)for(m=0,k=e.na.length;m<k;m++)g=e.na[m],g.dt&&g.dt();this.ob=!0;this.cd()};b.prototype.ey=function(a){this.Ys.add(a)};b.prototype.mE=function(a){this.Zs.add(a)};b.prototype.Sl=function(a){return a&&-1!==a.Lm?this.dh*a.Lm:this.Ba};b.prototype.hg=function(){this.wb.hg(this.mb);this.ng&&this.mb.present()};b.prototype.Ye=function(){this.wb.Ye(this.Z);this.Z.QD()};b.prototype.$u=
function(a){a&&this.mo.push(a)};b.prototype.UD=function(a){Aa(this.mo,a)};b.prototype.Ul=function(a){a=a.toString();return this.wi.hasOwnProperty(a)?this.wi[a]:null};var p=[];b.prototype.Hi=function(a){var b,c;b=a.type.name;var d=null;if(this.Yi.hasOwnProperty(b)){if(d=this.Yi[b],d.contains(a))return}else d=p.length?p.pop():new ca,this.Yi[b]=d;d.add(a);this.di=!0;if(a.Ee)for(b=0,c=a.siblings.length;b<c;b++)this.Hi(a.siblings[b]);this.Ur&&d.Zk.push(a);this.Gf++;this.trigger(Object.getPrototypeOf(a.type.Xb).V.xz,
a);this.Gf--};b.prototype.cd=function(){if(this.di){var a,b,c,d,m,f;this.Ur=!0;c=0;for(m=this.Bf.length;c<m;++c)for(a=this.Bf[c],b=a.type,b.C.push(a),d=0,f=b.Ob.length;d<f;++d)b.Ob[d].C.push(a),b.Ob[d].Uk=!0;this.Bf.length=0;this.mz();Pa(this.Yi);this.di=this.Ur=!1}};b.prototype.mz=function(){for(var a in this.Yi)this.Yi.hasOwnProperty(a)&&this.Py(this.Yi[a])};b.prototype.Py=function(a){var b=a.Yd(),c=b[0].type,d,m,f,k,e,g;Ra(c.C,a);c.Uk=!0;0===c.C.length&&(c.Nn=!1);d=0;for(m=c.Ob.length;d<m;++d)g=
c.Ob[d],Ra(g.C,a),g.Uk=!0;d=0;for(m=this.Hg.te.length;d<m;++d)if(e=this.Hg.te[d],e.se.hasOwnProperty(c.index)&&Ra(e.se[c.index].jj,a),!c.pa)for(f=0,k=c.Ob.length;f<k;++f)g=c.Ob[f],e.se.hasOwnProperty(g.index)&&Ra(e.se[g.index].jj,a);if(e=b[0].O){if(e.Uf)for(f=e.C,d=0,m=f.length;d<m;++d)k=f[d],a.contains(k)&&(k.Ha(),e.oe.update(k,k.Vd,null),k.Vd.set(0,0,-1,-1));Ra(e.C,a);e.bn(0)}for(d=0;d<b.length;++d)this.Oy(b[d],c);a.clear();p.push(a);this.ob=!0};b.prototype.Oy=function(a,b){var c,d,m;c=0;for(d=
this.mo.length;c<d;++c)this.mo[c](a);a.Xh&&b.Zn.update(a,a.Xh,null);(c=a.O)&&c.Ok(a,!0);if(a.na)for(c=0,d=a.na.length;c<d;++c)m=a.na[c],m.Gj&&m.Gj(),m.behavior.vi.remove(a);this.lx.remove(a);this.Ys.remove(a);this.Zs.remove(a);a.Gj&&a.Gj();this.wi.hasOwnProperty(a.uid.toString())&&delete this.wi[a.uid.toString()];this.mp--;100>b.ko.length&&b.ko.push(a)};b.prototype.Av=function(a,b,c,d){if(a.pa){var m=w(Math.random()*a.Ik.length);return this.Av(a.Ik[m],b,c,d)}return a.Xe?this.Yh(a.Xe,b,!1,c,d,!1):
null};var s=[];b.prototype.Yh=function(a,b,c,d,m,f){var k,e,g,l;if(!a)return null;var h=this.Y[a[1]],q=h.Xb.hi;if(this.Lo&&q&&!h.Vr||q&&!this.Z&&11===a[0][11])return null;var p=b;q||(b=null);var n;h.ko.length?(n=h.ko.pop(),n.Ne=!0,h.Xb.Va.call(n,h)):(n=new h.Xb.Va(h),n.Ne=!1);n.uid=c&&!f?a[2]:this.Mm++;this.wi[n.uid.toString()]=n;n.Dx=this.jx++;n.gj=h.C.length;k=0;for(e=this.Bf.length;k<e;++k)this.Bf[k].type===h&&n.gj++;n.Xl=vb;n.toString=xb;g=a[3];if(n.Ne)Pa(n.X);else{n.X={};if("undefined"!==typeof cr_is_preview)for(n.gw=
[],n.gw.length=g.length,k=0,e=g.length;k<e;k++)n.gw[k]=g[k][1];n.Fc=[];n.Fc.length=g.length}k=0;for(e=g.length;k<e;k++)n.Fc[k]=g[k][0];if(q){var u=a[0];n.x=ga(d)?u[0]:d;n.y=ga(m)?u[1]:m;n.z=u[2];n.width=u[3];n.height=u[4];n.depth=u[5];n.J=u[6];n.opacity=u[7];n.Od=u[8];n.Pd=u[9];n.Md=u[10];k=u[11];!this.Z&&h.wa.length&&(n.Md=k);n.Gl=ab(n.Md);this.W&&bb(n,n.Md,this.W);if(n.Ne){k=0;for(e=u[12].length;k<e;k++)for(g=0,l=u[12][k].length;g<l;g++)n.Sb[k][g]=u[12][k][g];n.yb.set(0,0,0,0);n.Xh.set(0,0,-1,-1);
n.Vd.set(0,0,-1,-1);n.lb.Sk(n.yb);n.Pq.length=0}else{n.Sb=u[12].slice(0);k=0;for(e=n.Sb.length;k<e;k++)n.Sb[k]=u[12][k].slice(0);n.Wa=[];n.Sh=[];n.Sh.length=h.wa.length;n.yb=new ra(0,0,0,0);n.Xh=new ra(0,0,-1,-1);n.Vd=new ra(0,0,-1,-1);n.lb=new ta;n.Pq=[];n.Ga=Ab;n.GF=Bb;n.Cc=Cb;n.Ha=Db;n.tE=Eb;n.ty=Fb;n.cf=Gb}n.Jg=!1;n.pE=0;n.oE=0;n.nE=null;14===u.length&&(n.Jg=!0,n.pE=u[13][0],n.oE=u[13][1],n.nE=u[13][2]);k=0;for(e=h.wa.length;k<e;k++)n.Sh[k]=!0;n.Hh=Hb;n.Hh();n.xy=!!n.Wa.length;n.Oq=!0;n.Rq=!0;
h.Mn=!0;n.visible=!0;n.Lm=-1;n.O=b;n.Wf=b.C.length;"undefined"===typeof n.ua&&(n.ua=null);this.ob=n.fg=!0}var D;k=s.length=0;for(e=h.Ob.length;k<e;k++)s.push.apply(s,h.Ob[k].pc);s.push.apply(s,h.pc);if(n.Ne)for(k=0,e=s.length;k<e;k++){var x=s[k];D=n.na[k];D.Ne=!0;x.behavior.Va.call(D,x,n);u=a[4][k];g=0;for(l=u.length;g<l;g++)D.aa[g]=u[g];D.Fa();x.behavior.vi.add(n)}else for(n.na=[],k=0,e=s.length;k<e;k++)x=s[k],D=new x.behavior.Va(x,n),D.Ne=!1,D.aa=a[4][k].slice(0),D.Fa(),n.na.push(D),x.behavior.vi.add(n);
u=a[5];if(n.Ne)for(k=0,e=u.length;k<e;k++)n.aa[k]=u[k];else n.aa=u.slice(0);this.Bf.push(n);this.di=!0;b&&(b.Bl(n,!0),1!==b.Td||1!==b.Ud)&&(h.Nn=!0);this.mp++;if(h.Ee){if(n.Ee=!0,n.Ne?n.siblings.length=0:n.siblings=[],!c&&!f){k=0;for(e=h.ee.length;k<e;k++)if(h.ee[k]!==h){if(!h.ee[k].Xe)return null;n.siblings.push(this.Yh(h.ee[k].Xe,p,!1,q?n.x:d,q?n.y:m,!0))}k=0;for(e=n.siblings.length;k<e;k++)for(n.siblings[k].siblings.push(n),g=0;g<e;g++)k!==g&&n.siblings[k].siblings.push(n.siblings[g])}}else n.Ee=
!1,n.siblings=null;n.Fa();k=0;for(e=n.na.length;k<e;k++)n.na[k].zx&&n.na[k].zx();return n};b.prototype.Tl=function(a){var b,c;b=0;for(c=this.wb.Da.length;b<c;b++){var d=this.wb.Da[b];if(db(d.name,a))return d}return null};b.prototype.hh=function(a){a=w(a);0>a&&(a=0);a>=this.wb.Da.length&&(a=this.wb.Da.length-1);return this.wb.Da[a]};b.prototype.Xq=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ya().nb=!0};b.prototype.Zm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Zm()};b.prototype.tp=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].tp()};b.prototype.Hj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Hj()};b.prototype.oy=function(a){if(a.Mn){var b,c,d=a.C;b=0;for(c=d.length;b<c;++b)d[b].ty();d=this.Bf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].ty();a.Mn=!1}};b.prototype.Fr=function(a,b,c,d){var m,k,e=a?1!==a.Td||1!==a.Ud:!1;if(b.pa)for(a=0,m=b.Ik.length;a<m;++a)k=b.Ik[a],e||k.Nn?xa(d,k.C):(this.oy(k),k.Zn.wp(c,d));else e||b.Nn?xa(d,b.C):(this.oy(b),b.Zn.wp(c,d))};b.prototype.Wv=
function(a,b,c,d){var m,k;m=0;for(k=b.length;m<k;++m)this.Fr(a,b[m],c,d)};b.prototype.Vv=function(a,b,c){var d=this.Gt;d&&this.Wv(a,d.Xs,b,c)};b.prototype.hn=function(a,b,c){var d=a.Ya(),m,k,e,f,g,l;if(d.nb)for(d.nb=!1,m=d.C.length=0,f=a.C.length;m<f;m++)e=a.C[m],e.Ha(),g=e.O.ic(b,c,!0),l=e.O.ic(b,c,!1),e.Cc(g,l)&&d.C.push(e);else{m=k=0;for(f=d.C.length;m<f;m++)e=d.C[m],e.Ha(),g=e.O.ic(b,c,!0),l=e.O.ic(b,c,!1),e.Cc(g,l)&&(d.C[k]=d.C[m],k++);d.C.length=k}a.Af();return d.Lr()};b.prototype.Pp=function(a,
b){if(!(a&&b&&a!==b&&a.fg&&b.fg))return!1;a.Ha();b.Ha();var c=a.O,d=b.O,m,k,e,f,g,l,h,n;if(c===d||c.Td===d.Td&&d.Ud===d.Ud&&c.scale===d.scale&&c.J===d.J&&c.vd===d.vd){if(!a.yb.iw(b.yb)||!a.lb.hw(b.lb)||a.Jg&&b.Jg)return!1;if(a.Jg)return this.ay(a,b);if(b.Jg)return this.ay(b,a);h=a.ua&&!a.ua.gi();m=b.ua&&!b.ua.gi();if(!h&&!m)return!0;h?(a.ua.Vh(a.width,a.height,a.J),h=a.ua):(this.Sf.Rk(a.lb,a.x,a.y,a.width,a.height),h=this.Sf);m?(b.ua.Vh(b.width,b.height,b.J),n=b.ua):(this.Sf.Rk(b.lb,b.x,b.y,b.width,
b.height),n=this.Sf);return h.cm(n,b.x-a.x,b.y-a.y)}h=a.ua&&!a.ua.gi();m=b.ua&&!b.ua.gi();h?(a.ua.Vh(a.width,a.height,a.J),this.Sf.Qx(a.ua)):this.Sf.Rk(a.lb,a.x,a.y,a.width,a.height);h=this.Sf;m?(b.ua.Vh(b.width,b.height,b.J),this.Jt.Qx(b.ua)):this.Jt.Rk(b.lb,b.x,b.y,b.width,b.height);n=this.Jt;m=0;for(k=h.me;m<k;m++)e=2*m,f=e+1,g=h.Zb[e],l=h.Zb[f],h.Zb[e]=c.Pb(g+a.x,l+a.y,!0),h.Zb[f]=c.Pb(g+a.x,l+a.y,!1);h.Ha();m=0;for(k=n.me;m<k;m++)e=2*m,f=e+1,g=n.Zb[e],l=n.Zb[f],n.Zb[e]=d.Pb(g+b.x,l+b.y,!0),n.Zb[f]=
d.Pb(g+b.x,l+b.y,!1);n.Ha();return h.cm(n,0,0)};var t=new ta,u=new ra(0,0,0,0),x=[];b.prototype.ay=function(a,b){var c,d,m,k,e=b.yb,f=a.x,g=a.y;a.aC(e,x);var l=b.ua&&!b.ua.gi();c=0;for(d=x.length;c<d;++c)if(m=x[c],k=m.Ex,e.jw(k,f,g)&&(t.Sk(k),t.offset(f,g),t.hw(b.lb)))if(l)if(b.ua.Vh(b.width,b.height,b.J),m.nf){if(m.nf.cm(b.ua,b.x-(f+k.left),b.y-(g+k.top)))return x.length=0,!0}else{if(this.Sf.Rk(t,0,0,k.right-k.left,k.bottom-k.top),this.Sf.cm(b.ua,b.x,b.y))return x.length=0,!0}else if(m.nf){if(this.Sf.Rk(b.lb,
0,0,b.width,b.height),m.nf.cm(this.Sf,-(f+k.left),-(g+k.top)))return x.length=0,!0}else return x.length=0,!0;x.length=0;return!1};b.prototype.$x=function(a,b,c,d,m){if(!m||!m.fg)return!1;m.Ha();u.set(ma(a,c),ma(b,d),la(a,c),la(b,d));if(!m.yb.iw(u))return!1;if(m.Jg){m.aC(u,x);var k,e,f,g=m.x,l=m.y;m=0;for(k=x.length;m<k;++m)if(e=x[m],f=e.Ex,u.jw(f,g,l)&&(t.Sk(f),t.offset(g,l),t.dm(a,b,c,d)))if(e.nf){if(e.nf.dm(g+f.left,l+f.top,a,b,c,d))return x.length=0,!0}else return x.length=0,!0;x.length=0;return!1}if(!m.lb.dm(a,
b,c,d))return!1;if(!m.ua||m.ua.gi())return!0;m.ua.Vh(m.width,m.height,m.J);return m.ua.dm(m.x,m.y,a,b,c,d)};b.prototype.ky=function(a,b){if(!b)return!1;var c,d,m,k,e;c=0;for(d=a.pc.length;c<d;c++)if(a.pc[c].behavior instanceof b)return!0;if(!a.pa)for(c=0,d=a.Ob.length;c<d;c++)for(e=a.Ob[c],m=0,k=e.pc.length;m<k;m++)if(e.pc[m].behavior instanceof b)return!0;return!1};b.prototype.ly=function(a){return this.ky(a,Xb.fF)};b.prototype.Rt=function(a){return this.ky(a,Xb.gF)};var A=[];b.prototype.Vk=function(a){var b,
c,d;a.Ha();this.Vv(a.O,a.yb,A);b=0;for(c=A.length;b<c;++b)if(d=A[b],d.X.solidEnabled&&this.Pp(a,d))return A.length=0,d;A.length=0;return null};b.prototype.TD=function(a){var b=ga(void 0)?100:void 0,c=0,d=a.x,m=a.y,k=0,e=0,f=0,g=this.Vk(a);if(!g)return!0;for(;c<=b;){switch(k){case 0:e=0;f=-1;c++;break;case 1:e=1;f=-1;break;case 2:e=1;f=0;break;case 3:f=e=1;break;case 4:e=0;f=1;break;case 5:e=-1;f=1;break;case 6:e=-1;f=0;break;case 7:f=e=-1}k=(k+1)%8;a.x=w(d+e*c);a.y=w(m+f*c);a.Ga();if(!this.Pp(a,g)&&
(g=this.Vk(a),!g))return!0}a.x=d;a.y=m;a.Ga();return!1};b.prototype.$m=function(a,b){a.fg&&b.fg&&this.Ap.push([a,b])};b.prototype.JA=function(a,b){var c,d,m;c=0;for(d=this.Ap.length;c<d;c++)if(m=this.Ap[c],m[0]==a&&m[1]==b||m[0]==b&&m[1]==a)return!0;return!1};var D=-1;b.prototype.trigger=function(a,b,c){if(!this.wb)return!1;var d=this.wb.Ll;if(!d)return!1;var m=!1,k,e,f;D++;var g=d.jr;e=0;for(f=g.length;e<f;++e)k=this.hy(a,b,g[e],c),m=m||k;k=this.hy(a,b,d,c);D--;return m||k};b.prototype.hy=function(a,
b,c,d){var m=!1,k,e,f,g;if(b)for(f=this.Pt(a,b,b.type.name,c,d),m=m||f,g=b.type.Ob,k=0,e=g.length;k<e;++k)f=this.Pt(a,b,g[k].name,c,d),m=m||f;else f=this.Pt(a,b,"system",c,d),m=m||f;return m};b.prototype.Pt=function(a,b,c,d,m){var k,e=!1,f=!1,f="undefined"!==typeof m,g=(f?d.Kv:d.iy)[c];if(!g)return e;var l=null;d=0;for(k=g.length;d<k;++d)if(g[d].method==a){l=g[d].Ml;break}if(!l)return e;a=f?l[m]:l;if(!a)return null;d=0;for(k=a.length;d<k;d++)m=a[d][0],f=a[d][1],f=this.UB(b,c,m,f),e=e||f;return e};
b.prototype.UB=function(a,b,c,d){var m,k,e=!1;this.Qt++;var f=this.md().Ae;f&&this.Zm(f.Ci);var g=1<this.Qt;this.Zm(c.Ci);g&&this.SD();var l=this.up(c);l.Ae=c;a&&(m=this.types[b].Ya(),m.nb=!1,m.C.length=1,m.C[0]=a,this.types[b].Af());a=!0;if(c.parent){b=l.Zx;for(m=c.parent;m;)b.push(m),m=m.parent;b.reverse();m=0;for(k=b.length;m<k;m++)if(!b[m].$D()){a=!1;break}}a&&(this.Nl++,c.lf?c.ZD(d):c.uc(),e=e||l.nj);this.rp();g&&this.MD();this.Hj(c.Ci);f&&this.Hj(f.Ci);this.di&&0===this.Gf&&0===D&&!this.Wr&&
this.cd();this.Qt--;return e};b.prototype.yo=function(){var a=this.md();return a.Ae.Pc[a.Ac]};b.prototype.SD=function(){this.Zo++;this.Zo>=this.As.length&&this.As.push([])};b.prototype.MD=function(){this.Zo--};b.prototype.Pv=function(){return this.As[this.Zo]};b.prototype.up=function(a){this.po++;this.po>=this.or.length&&this.or.push(new Ib);var b=this.md();b.reset(a);return b};b.prototype.rp=function(){this.po--};b.prototype.md=function(){return this.or[this.po]};b.prototype.Qv=function(a,b){for(var c,
d,m,k,e,f;b;){c=0;for(d=b.qf.length;c<d;c++)if(f=b.qf[c],f instanceof Jb&&db(a,f.name))return f;b=b.parent}c=0;for(d=this.eh.length;c<d;c++)for(e=this.eh[c],m=0,k=e.ai.length;m<k;m++)if(f=e.ai[m],f instanceof Jb&&db(a,f.name))return f;return null};b.prototype.Sv=function(a){var b,c;b=0;for(c=this.Hf.length;b<c;b++)if(this.Hf[b].Na===a)return this.Hf[b];return null};b.prototype.Vl=function(a){var b,c;b=0;for(c=this.Y.length;b<c;b++)if(this.Y[b].Na===a)return this.Y[b];return null};b.prototype.cC=function(a){var b,
c;b=0;for(c=this.ak.length;b<c;b++)if(this.ak[b].Na===a)return this.ak[b];return null};b.prototype.zC=function(){var a=this,b=this.At,c=this.nh,d=this.To,m=!1;this.Vx&&(m=!0,b="__c2_continuouspreview",this.Vx=!1);if(b.length){this.cd();c=this.eE();if(window.indexedDB&&!this.De)e(b,c,function(){ea("Saved state to IndexedDB storage ("+c.length+" bytes)");a.nh=c;a.trigger(J.prototype.V.vq,null);a.nh="";m&&f()},function(d){try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+
" bytes)"),a.nh=c,a.trigger(J.prototype.V.vq,null),a.nh="",m&&f()}catch(k){ea("Failed to save game state: "+d+"; "+k)}});else try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+" bytes)"),a.nh=c,this.trigger(J.prototype.V.vq,null),a.nh="",m&&f()}catch(k){ea("Error saving to WebStorage: "+k)}this.Ed=this.To=this.At=""}d.length&&(window.indexedDB&&!this.De?g(d,function(b){b?(a.Ed=b,ea("Loaded state from IndexedDB storage ("+a.Ed.length+" bytes)")):(a.Ed=localStorage.getItem("__c2save_"+
d)||"",ea("Loaded state from WebStorage ("+a.Ed.length+" bytes)"));a.gn=!1;a.Ed.length||a.trigger(J.prototype.V.uq,null)},function(){a.Ed=localStorage.getItem("__c2save_"+d)||"";ea("Loaded state from WebStorage ("+a.Ed.length+" bytes)");a.gn=!1;a.Ed.length||a.trigger(J.prototype.V.uq,null)}):(this.Ed=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+this.Ed.length+" bytes)"),this.gn=!1,a.Ed.length||a.trigger(J.prototype.V.uq,null)),this.At=this.To="");this.Ed.length&&(this.cd(),
this.RC(this.Ed),this.nh=this.Ed,this.trigger(J.prototype.V.Gz,null),this.Ed=this.nh="")};b.prototype.eE=function(){var a,b,c,d,m,k,e,f={c2save:!0,version:1,rt:{time:this.lj.$c,walltime:this.cq.$c,timescale:this.Mj,tickcount:this.Xd,execcount:this.Nl,next_uid:this.Mm,running_layout:this.wb.Na,start_time_offset:Date.now()-this.Kp},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.Y.length;a<b;a++)if(m=this.Y[a],!m.pa&&!this.ly(m)){k={instances:[]};Oa(m.X)&&(k.ex=l(m.X));
c=0;for(d=m.C.length;c<d;c++)k.instances.push(this.zt(m.C[c]));f.types[m.Na.toString()]=k}a=0;for(b=this.Hf.length;a<b;a++)c=this.Hf[a],f.layouts[c.Na.toString()]=c.Kd();d=f.events.groups;a=0;for(b=this.ak.length;a<b;a++)c=this.ak[a],d[c.Na.toString()]=this.Do[c.Yl].Co;b=f.events.cnds;for(e in this.dk)this.dk.hasOwnProperty(e)&&(a=this.dk[e],Oa(a.X)&&(b[e]={ex:l(a.X)}));b=f.events.acts;for(e in this.$j)this.$j.hasOwnProperty(e)&&(a=this.$j[e],Oa(a.X)&&(b[e]={ex:a.X}));b=f.events.vars;for(e in this.$k)this.$k.hasOwnProperty(e)&&
(a=this.$k[e],a.Io||a.parent&&!a.hm||(b[e]=a.data));f.system=this.Hg.Kd();return JSON.stringify(f)};b.prototype.Gx=function(){var a,b,c,d,m,k;this.wi={};a=0;for(b=this.Y.length;a<b;a++)if(c=this.Y[a],!c.pa)for(d=0,m=c.C.length;d<m;d++)k=c.C[d],this.wi[k.uid.toString()]=k};b.prototype.RC=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.lj.reset();this.lj.$c=b.time;this.cq.reset();this.cq.$c=b.walltime||0;this.Mj=b.timescale;this.Xd=b.tickcount;this.Nl=b.execcount;this.Kp=Date.now()-
b.start_time_offset;var c=b.running_layout;if(c!==this.wb.Na)if(c=this.Sv(c))this.Fv(c);else return;var d,m,k,e,f,g,l;g=a.types;for(m in g)if(g.hasOwnProperty(m)&&(e=this.Vl(parseInt(m,10)))&&!e.pa&&!this.ly(e)){g[m].ex?e.X=g[m].ex:Pa(e.X);f=e.C;k=g[m].instances;c=0;for(d=ma(f.length,k.length);c<d;c++)this.Uo(f[c],k[c]);c=k.length;for(d=f.length;c<d;c++)this.Hi(f[c]);c=f.length;for(d=k.length;c<d;c++){f=null;if(e.Xb.hi&&(f=this.wb.zo(k[c].w.l),!f))continue;f=this.Yh(e.Xe,f,!1,0,0,!0);this.Uo(f,k[c])}e.Uk=
!0}this.cd();this.Gx();d=a.layouts;for(m in d)d.hasOwnProperty(m)&&(c=this.Sv(parseInt(m,10)))&&c.ie(d[m]);d=a.events.groups;for(m in d)d.hasOwnProperty(m)&&(c=this.cC(parseInt(m,10)))&&this.Do[c.Yl]&&(this.Do[c.Yl].Co=d[m]);c=a.events.cnds;for(m in c)c.hasOwnProperty(m)&&this.dk.hasOwnProperty(m)&&(this.dk[m].X=c[m].ex);c=a.events.acts;for(m in c)c.hasOwnProperty(m)&&this.$j.hasOwnProperty(m)&&(this.$j[m].X=c[m].ex);c=a.events.vars;for(m in c)c.hasOwnProperty(m)&&this.$k.hasOwnProperty(m)&&(this.$k[m].data=
c[m]);this.Mm=b.next_uid;this.Hg.ie(a.system);c=0;for(d=this.Y.length;c<d;c++)if(e=this.Y[c],!e.pa)for(m=0,a=e.C.length;m<a;m++){f=e.C[m];if(e.Ee)for(g=f.Xl(),b=f.siblings.length=0,k=e.ee.length;b<k;b++)l=e.ee[b],e!==l&&f.siblings.push(l.C[g]);f.Tg&&f.Tg();if(f.na)for(b=0,k=f.na.length;b<k;b++)g=f.na[b],g.Tg&&g.Tg()}this.ob=!0}};b.prototype.zt=function(a,b){var c,d,m,k,e;k=a.type;m=k.Xb;var f={};b?f.c2=!0:f.uid=a.uid;Oa(a.X)&&(f.ex=l(a.X));if(a.Fc&&a.Fc.length)for(f.ivs={},c=0,d=a.Fc.length;c<d;c++)f.ivs[a.type.Tr[c].toString()]=
a.Fc[c];if(m.hi){m={x:a.x,y:a.y,w:a.width,h:a.height,l:a.O.Na,zi:a.cf()};0!==a.J&&(m.a=a.J);1!==a.opacity&&(m.o=a.opacity);.5!==a.Od&&(m.hX=a.Od);.5!==a.Pd&&(m.hY=a.Pd);0!==a.Md&&(m.bm=a.Md);a.visible||(m.v=a.visible);a.fg||(m.ce=a.fg);-1!==a.Lm&&(m.mts=a.Lm);if(k.wa.length)for(m.fx=[],c=0,d=k.wa.length;c<d;c++)e=k.wa[c],m.fx.push({name:e.name,active:a.Sh[e.index],params:a.Sb[e.index]});f.w=m}if(a.na&&a.na.length)for(f.behs={},c=0,d=a.na.length;c<d;c++)k=a.na[c],k.Kd&&(f.behs[k.type.Na.toString()]=
k.Kd());a.Kd&&(f.data=a.Kd());return f};b.prototype.eC=function(a,b){var c,d;c=0;for(d=a.Tr.length;c<d;c++)if(a.Tr[c]===b)return c;return-1};b.prototype.$B=function(a,b){var c,d;c=0;for(d=a.na.length;c<d;c++)if(a.na[c].type.Na===b)return c;return-1};b.prototype.Uo=function(a,b,c){var d,m,k,f,e;e=a.type;k=e.Xb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.X=b.ex:Pa(a.X);if(m=b.ivs)for(d in m)m.hasOwnProperty(d)&&(c=this.eC(e,parseInt(d,10)),0>c||c>=a.Fc.length||(a.Fc[c]=m[d]));if(k.hi){k=b.w;a.O.Na!==
k.l&&(c=a.O,a.O=this.wb.zo(k.l),a.O?(c.Ok(a,!0),a.O.Bl(a,!0),a.Ga(),a.O.bn(0)):(a.O=c,this.Hi(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Wf=k.zi;a.J=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Od=k.hasOwnProperty("hX")?k.hX:.5;a.Pd=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.fg=k.hasOwnProperty("ce")?k.ce:!0;a.Lm=k.hasOwnProperty("mts")?k.mts:-1;a.Md=k.hasOwnProperty("bm")?k.bm:0;a.Gl=ab(a.Md);this.W&&bb(a,a.Md,this.W);a.Ga();if(k.hasOwnProperty("fx"))for(c=
0,m=k.fx.length;c<m;c++)f=e.Hr(k.fx[c].name),0>f||(a.Sh[f]=k.fx[c].active,a.Sb[f]=k.fx[c].params);a.Hh()}if(e=b.behs)for(d in e)e.hasOwnProperty(d)&&(k=this.$B(a,parseInt(d,10)),0>k||a.na[k].ie(e[d]));b.data&&a.ie(b.data)};Kb=function(a){return new b(document.getElementById(a))};Lb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Kb;window.cr_createDCRuntime=Lb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");
a.XF=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.g=a;this.Ll=null;this.scrollX=this.g.Ic/2;this.scrollY=this.g.Hc/2;this.scale=1;this.J=0;this.ik=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.my=b[3];this.Tx=b[4];this.Na=b[5];var c=b[6],d,e;this.Da=[];this.am=[];d=0;for(e=c.length;d<e;d++){var f=new Mb(this,c[d]);f.kx=d;this.Da.push(f)}c=b[7];this.ij=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.g.Y[f[1]];g.Xe||(g.Xe=f);this.ij.push(f);-1===this.am.indexOf(g)&&this.am.push(g)}this.wa=[];this.Wa=[];this.Sb=
[];d=0;for(e=b[8].length;d<e;d++)this.wa.push({id:b[8][d][0],name:b[8][d][1],Zc:-1,hc:!0,index:d}),this.Sb.push(b[8][d][2].slice(0));this.Hh();this.yi=new ra(0,0,1,1);this.ot=new ra(0,0,1,1);this.xi={}}function c(a,b){return a.Wf-b.Wf}function b(a,b){this.rc=a;this.g=a.g;this.C=[];this.scale=1;this.J=0;this.Zi=!1;this.Fh=new ra(0,0,0,0);this.fy=new ta;this.vc=this.ec=this.wc=this.cc=0;this.Nj=!1;this.Kh=-1;this.name=b[0];this.index=b[1];this.Na=b[2];this.visible=b[3];this.Th=b[4];this.Gh=b[5];this.Td=
b[6];this.Ud=b[7];this.opacity=b[8];this.Ar=b[9];this.Uf=b[10];this.vd=b[11];this.Md=b[12];this.sB=b[13];this.Gl="source-over";this.kd=this.rd=0;this.oe=null;this.vk=d();this.Eh=!0;this.Mo=new ra(0,0,-1,-1);this.We=new ra(0,0,-1,-1);this.Uf&&(this.oe=new $a(this.g.Ic,this.g.Hc));this.Ai=!1;var c=b[14],e,f;this.mk=[];e=0;for(f=c.length;e<f;e++){var g=c[e],l=this.g.Y[g[1]];l.Xe||(l.Xe=g,l.QA=this.index);this.mk.push(g);-1===this.rc.am.indexOf(l)&&this.rc.am.push(l)}this.wa=[];this.Wa=[];this.Sb=[];
e=0;for(f=b[15].length;e<f;e++)this.wa.push({id:b[15][e][0],name:b[15][e][1],Zc:-1,hc:!0,index:e}),this.Sb.push(b[15][e][2].slice(0));this.Hh();this.yi=new ra(0,0,1,1);this.ot=new ra(0,0,1,1)}function d(){return l.length?l.pop():[]}function e(a){a.length=0;l.push(a)}a.prototype.dE=function(a){var b=a.type.Na.toString();this.xi.hasOwnProperty(b)||(this.xi[b]=[]);this.xi[b].push(this.g.zt(a))};a.prototype.Zv=function(){var a=this.Da[0];return!a.Gh&&1===a.opacity&&!a.Ar&&a.visible};a.prototype.Hh=function(){this.Wa.length=
0;var a,b,c;a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],c.hc&&this.Wa.push(c)};a.prototype.Gr=function(a){var b,c,d;b=0;for(c=this.wa.length;b<c;b++)if(d=this.wa[b],d.name===a)return d;return null};var g=[],f=!0;a.prototype.Ht=function(){this.Tx&&(this.Ll=this.g.qr[this.Tx],this.Ll.ry());this.g.wb=this;this.scrollX=this.g.Ic/2;this.scrollY=this.g.Hc/2;var a,b,d,e,l,h,n;a=0;for(d=this.g.Y.length;a<d;a++)if(b=this.g.Y[a],!b.pa)for(l=b.C,b=0,e=l.length;b<e;b++)if(h=l[b],h.O){var x=h.O.kx;x>=this.Da.length&&
(x=this.Da.length-1);h.O=this.Da[x];-1===h.O.C.indexOf(h)&&h.O.C.push(h);h.O.Nj=!0}if(!f)for(a=0,d=this.Da.length;a<d;++a)this.Da[a].C.sort(c);g.length=0;this.GA();a=0;for(d=this.Da.length;a<d;a++)h=this.Da[a],h.OA(),h.Ut();l=!1;if(!this.ik){for(n in this.xi)if(this.xi.hasOwnProperty(n)&&(b=this.g.Vl(parseInt(n,10)))&&!b.pa&&this.g.Rt(b)){e=this.xi[n];a=0;for(d=e.length;a<d;a++){h=null;if(b.Xb.hi&&(h=this.zo(e[a].w.l),!h))continue;h=this.g.Yh(b.Xe,h,!1,0,0,!0);this.g.Uo(h,e[a]);l=!0;g.push(h)}e.length=
0}a=0;for(d=this.Da.length;a<d;a++)this.Da[a].C.sort(c),this.Da[a].Nj=!0}l&&(this.g.cd(),this.g.Gx());for(a=0;a<g.length;a++)if(h=g[a],h.type.Ee)for(d=h.Xl(),b=0,e=h.type.ee.length;b<e;b++)n=h.type.ee[b],h.type!==n&&(n.C.length>d?h.siblings.push(n.C[d]):n.Xe&&(l=this.g.Yh(n.Xe,h.O,!0,h.x,h.y,!0),this.g.cd(),n.$p(),h.siblings.push(l),g.push(l)));a=0;for(d=this.ij.length;a<d;a++)this.g.Yh(this.ij[a],null,!0);this.g.Wq=null;this.g.cd();if(this.g.mb&&!this.g.Ab)for(a=0,d=this.g.Y.length;a<d;a++)n=this.g.Y[a],
!n.pa&&n.C.length&&n.jt&&n.jt(this.g.mb);a=0;for(d=g.length;a<d;a++)h=g[a],this.g.trigger(Object.getPrototypeOf(h.type.Xb).V.tq,h);g.length=0;this.g.trigger(J.prototype.V.Fz,null);this.ik=!1};a.prototype.NA=function(){var a,b,c,d,e;b=a=0;for(c=this.ij.length;a<c;a++)d=this.ij[a],e=this.g.Y[d[1]],e.global?this.g.Yh(d,null,!0):(this.ij[b]=d,b++);this.ij.length=b};a.prototype.jE=function(){this.g.trigger(J.prototype.V.Ez,null);this.g.Hg.te.length=0;var a,b,c,d,e,g;if(!this.ik)for(a=0,b=this.Da.length;a<
b;a++)for(this.Da[a].Vt(),e=this.Da[a].C,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.g.Rt(g.type)&&this.dE(g);a=0;for(b=this.Da.length;a<b;a++){e=this.Da[a].C;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.g.Hi(g);this.g.cd();e.length=0;this.Da[a].Nj=!0}a=0;for(b=this.g.Y.length;a<b;a++)if(e=this.g.Y[a],!(e.global||e.Xb.hi||e.Xb.Ip||e.pa)){c=0;for(d=e.C.length;c<d;c++)this.g.Hi(e.C[c]);this.g.cd()}f=!1};new ra(0,0,0,0);a.prototype.hg=function(a){var b,c=a,d=!1,e=!this.g.$e;e&&(this.g.Ro||
(this.g.Ro=document.createElement("canvas"),b=this.g.Ro,b.width=this.g.Ka,b.height=this.g.Ja,this.g.Aw=b.getContext("2d"),d=!0),b=this.g.Ro,c=this.g.Aw,b.width!==this.g.Ka&&(b.width=this.g.Ka,d=!0),b.height!==this.g.Ja&&(b.height=this.g.Ja,d=!0),d&&(c.webkitImageSmoothingEnabled=this.g.Za,c.mozImageSmoothingEnabled=this.g.Za,c.msImageSmoothingEnabled=this.g.Za,c.imageSmoothingEnabled=this.g.Za));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.g.Jq&&!this.Zv()&&c.clearRect(0,0,this.g.Ka,
this.g.Ja);var f,g,d=0;for(f=this.Da.length;d<f;d++)g=this.Da[d],g.visible&&0<g.opacity&&11!==g.Md&&(g.C.length||!g.Gh)?g.hg(c):g.Ut();e&&a.drawImage(b,0,0,this.g.width,this.g.height)};a.prototype.Ye=function(a){var b=0<this.Wa.length||this.g.Yk||!this.g.$e;if(b){this.g.he||(this.g.he=a.Xg(this.g.Ka,this.g.Ja,this.g.Za));if(this.g.he.Fl!==this.g.Ka||this.g.he.El!==this.g.Ja)a.deleteTexture(this.g.he),this.g.he=a.Xg(this.g.Ka,this.g.Ja,this.g.Za);a.Fg(this.g.he);this.g.$e||a.Qk(this.g.Ka,this.g.Ja)}else this.g.he&&
(a.Fg(null),a.deleteTexture(this.g.he),this.g.he=null);this.g.Jq&&!this.Zv()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Da.length;c<d;c++)e=this.Da[c],e.visible&&0<e.opacity&&(e.C.length||!e.Gh)?e.Ye(a):e.Ut();b&&(0===this.Wa.length||1===this.Wa.length&&this.g.$e?(1===this.Wa.length?(b=this.Wa[0].index,a.Gg(this.Wa[0].Zc),a.Pk(null,1/this.g.Ka,1/this.g.Ja,0,0,1,1,this.scale,this.J,0,0,this.g.Ka/2,this.g.Ja/2,this.Sb[b]),a.sp(this.Wa[0].Zc)&&(this.g.ob=!0)):a.Gg(0),this.g.$e||a.Qk(this.g.width,this.g.height),
a.Fg(null),a.Jj(1),a.pe(this.g.he),a.Ox(),a.Dg(),a.Lg(),b=this.g.width/2,c=this.g.height/2,a.vp(-b,c,b,c,b,-c,-b,-c),a.pe(null)):this.qt(a,null,null,null))};a.prototype.Wl=function(){return 0<this.Wa.length||this.g.Yk||!this.g.$e?this.g.he:null};a.prototype.Tv=function(){var a=this.Da[0].Ce(),b,c,d;b=1;for(c=this.Da.length;b<c;b++)d=this.Da[b],(0!==d.Td||0!==d.Ud)&&d.Ce()<a&&(a=d.Ce());return a};a.prototype.Mx=function(a){if(!this.my){var b=1/this.Tv()*this.g.Ka/2;a>this.width-b&&(a=this.width-b);
a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.g.ob=!0)};a.prototype.Nx=function(a){if(!this.my){var b=1/this.Tv()*this.g.Ja/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.g.ob=!0)};a.prototype.GA=function(){this.Mx(this.scrollX);this.Nx(this.scrollY)};a.prototype.qt=function(a,b,c,d){var e=c?c.Wa:b?b.Wa:this.Wa,f=1,g=0,l=0,h=0,n=this.g.Ka,y=this.g.Ja;c?(f=c.O.Ce(),g=c.O.Be(),l=c.O.cc,h=c.O.ec,n=c.O.wc,y=c.O.vc):b&&(f=b.Ce(),g=b.Be(),l=b.cc,h=b.ec,n=b.wc,
y=b.vc);var B=this.g.Dr,E,C,G,F,H=0,X=1,na,aa=this.g.Ka,U=this.g.Ja,wb=aa/2,sa=U/2,M=b?b.yi:this.yi,I=b?b.ot:this.ot,R=0,W=0,L=0,Y=0,T=aa,Ma=aa,S=U,Na=U,ya=G=0,Ua=c?c.O.Be():0;if(c){E=0;for(C=e.length;E<C;E++)G+=a.hC(e[E].Zc),ya+=a.iC(e[E].Zc);F=c.yb;R=b.Pb(F.left,F.top,!0,!0);L=b.Pb(F.left,F.top,!1,!0);T=b.Pb(F.right,F.bottom,!0,!0);S=b.Pb(F.right,F.bottom,!1,!0);0!==Ua&&(E=b.Pb(F.right,F.top,!0,!0),C=b.Pb(F.right,F.top,!1,!0),W=b.Pb(F.left,F.bottom,!0,!0),Y=b.Pb(F.left,F.bottom,!1,!0),F=Math.min(R,
T,E,W),T=Math.max(R,T,E,W),R=F,F=Math.min(L,S,C,Y),S=Math.max(L,S,C,Y),L=F);R-=G;L-=ya;T+=G;S+=ya;I.left=R/aa;I.top=1-L/U;I.right=T/aa;I.bottom=1-S/U;W=R=w(R);Y=L=w(L);Ma=T=pa(T);Na=S=pa(S);W-=G;Y-=ya;Ma+=G;Na+=ya;0>R&&(R=0);0>L&&(L=0);T>aa&&(T=aa);S>U&&(S=U);0>W&&(W=0);0>Y&&(Y=0);Ma>aa&&(Ma=aa);Na>U&&(Na=U);M.left=R/aa;M.top=1-L/U;M.right=T/aa;M.bottom=1-S/U}else M.left=I.left=0,M.top=I.top=0,M.right=I.right=1,M.bottom=I.bottom=1;ya=c&&((c.J||Ua)&&a.Xm(e[0].Zc)||0!==G||0!==ya||1!==c.opacity||c.type.Xb.gx)||
b&&!c&&1!==b.opacity;a.Ox();if(ya){B[H]||(B[H]=a.Xg(aa,U,this.g.Za));if(B[H].Fl!==aa||B[H].El!==U)a.deleteTexture(B[H]),B[H]=a.Xg(aa,U,this.g.Za);a.Gg(0);a.Fg(B[H]);na=Na-Y;a.clearRect(W,U-Y-na,Ma-W,na);c?c.Ye(a):(a.pe(this.g.Fe),a.Jj(b.opacity),a.Dg(),a.translate(-wb,-sa),a.Lg(),a.Ag(R,S,T,S,T,L,R,L,M));I.left=I.top=0;I.right=I.bottom=1;c&&(F=M.top,M.top=M.bottom,M.bottom=F);H=1;X=0}a.Jj(1);G=e.length-1;var Ua=a.lt(e[G].Zc)||!b&&!c&&!this.g.$e,Va=0;E=0;for(C=e.length;E<C;E++){B[H]||(B[H]=a.Xg(aa,
U,this.g.Za));if(B[H].Fl!==aa||B[H].El!==U)a.deleteTexture(B[H]),B[H]=a.Xg(aa,U,this.g.Za);a.Gg(e[E].Zc);Va=e[E].index;a.sp(e[E].Zc)&&(this.g.ob=!0);0!=E||ya?(a.Pk(d,1/aa,1/U,I.left,I.top,I.right,I.bottom,f,g,l,h,(l+n)/2,(h+y)/2,c?c.Sb[Va]:b?b.Sb[Va]:this.Sb[Va]),a.pe(null),E!==G||Ua?(a.Fg(B[H]),na=Na-Y,F=U-Y-na,a.clearRect(W,F,Ma-W,na)):(c?a.Bi(c.rd,c.kd):b&&a.Bi(b.rd,b.kd),a.Fg(d)),a.pe(B[X]),a.Dg(),a.translate(-wb,-sa),a.Lg(),a.Ag(R,S,T,S,T,L,R,L,M),E!==G||Ua||a.pe(null)):(a.Fg(B[H]),na=Na-Y,F=
U-Y-na,a.clearRect(W,F,Ma-W,na),c?(a.Pk(d,1/c.width,1/c.height,I.left,I.top,I.right,I.bottom,f,g,l,h,(l+n)/2,(h+y)/2,c.Sb[Va]),c.Ye(a)):(a.Pk(d,1/aa,1/U,0,0,1,1,f,g,l,h,(l+n)/2,(h+y)/2,b?b.Sb[Va]:this.Sb[Va]),a.pe(b?this.g.Fe:this.g.he),a.Dg(),a.translate(-wb,-sa),a.Lg(),a.Ag(R,S,T,S,T,L,R,L,M)),I.left=I.top=0,I.right=I.bottom=1,c&&!Ua&&(F=S,S=L,L=F));H=0===H?1:0;X=0===H?1:0}Ua&&(a.Gg(0),c?a.Bi(c.rd,c.kd):b?a.Bi(b.rd,b.kd):this.g.$e||(a.Qk(this.g.width,this.g.height),wb=this.g.width/2,sa=this.g.height/
2,L=R=0,T=this.g.width,S=this.g.height),a.Fg(d),a.pe(B[X]),a.Dg(),a.translate(-wb,-sa),a.Lg(),c&&1===e.length&&!ya?a.Ag(R,L,T,L,T,S,R,S,M):a.Ag(R,S,T,S,T,L,R,L,M),a.pe(null))};a.prototype.zo=function(a){var b,c;b=0;for(c=this.Da.length;b<c;b++)if(this.Da[b].Na===a)return this.Da[b];return null};a.prototype.Kd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.J,w:this.width,h:this.height,fv:this.ik,persist:this.xi,fx:[],layers:{}};a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],
d.fx.push({name:c.name,active:c.hc,params:this.Sb[c.index]});a=0;for(b=this.Da.length;a<b;a++)c=this.Da[a],d.layers[c.Na.toString()]=c.Kd();return d};a.prototype.ie=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.J=a.a;this.width=a.w;this.height=a.h;this.xi=a.persist;"undefined"!==typeof a.fv&&(this.ik=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Gr(f[b].name))d.hc=f[b].active,this.Sb[d.index]=f[b].params;this.Hh();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.zo(parseInt(e,10)))&&a.ie(b[e])};yb=a;b.prototype.Hh=function(){this.Wa.length=0;var a,b,c;a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],c.hc&&this.Wa.push(c)};b.prototype.Gr=function(a){var b,c,d;b=0;for(c=this.wa.length;b<c;b++)if(d=this.wa[b],d.name===a)return d;return null};b.prototype.OA=function(){var a,b,c,d,e,f;b=a=0;for(c=this.mk.length;a<c;a++){d=this.mk[a];e=this.g.Y[d[1]];f=this.g.Rt(e);e=!0;if(!f||this.rc.ik)d=this.g.Yh(d,this,!0),g.push(d),d.type.global&&(e=!1);e&&(this.mk[b]=
this.mk[a],b++)}this.mk.length=b;this.g.cd();!this.g.Z&&this.wa.length&&(this.Md=this.sB);this.Gl=ab(this.Md);this.g.W&&bb(this,this.Md,this.g.W);this.Eh=!0};b.prototype.Ok=function(a,b){var c=za(this.C,a);0>c||(b&&this.Uf&&a.Vd&&a.Vd.right>=a.Vd.left&&(a.Ha(),this.oe.update(a,a.Vd,null),a.Vd.set(0,0,-1,-1)),c===this.C.length-1?this.C.pop():(va(this.C,c),this.bn(c)),this.Eh=!0)};b.prototype.Bl=function(a,b){a.Wf=this.C.length;this.C.push(a);b&&this.Uf&&a.Vd&&a.Ga();this.Eh=!0};b.prototype.PD=function(a){this.C.unshift(a);
this.bn(0)};b.prototype.vD=function(a,b,c){var d=a.cf();b=b.cf();va(this.C,d);d<b&&b--;c&&b++;b===this.C.length?this.C.push(a):this.C.splice(b,0,a);this.bn(d<b?d:b)};b.prototype.bn=function(a){-1===this.Kh?this.Kh=a:a<this.Kh&&(this.Kh=a);this.Eh=this.Nj=!0};b.prototype.Vt=function(){if(this.Nj){-1===this.Kh&&(this.Kh=0);var a,b,c;if(this.Uf)for(a=this.Kh,b=this.C.length;a<b;++a)c=this.C[a],c.Wf=a,this.oe.nD(c.Vd);else for(a=this.Kh,b=this.C.length;a<b;++a)this.C[a].Wf=a;this.Nj=!1;this.Kh=-1}};b.prototype.Ce=
function(a){return this.fC()*(this.g.$e||a?this.g.Cl:1)};b.prototype.fC=function(){return(this.scale*this.rc.scale-1)*this.vd+1};b.prototype.Be=function(){return this.Zi?0:Da(this.rc.J+this.J)};var l=[],h=[],n=[];b.prototype.Uv=function(){this.Vt();this.oe.wp(this.cc,this.ec,this.wc,this.vc,n);if(!n.length)return d();if(1===n.length){var a=d();wa(a,n[0]);n.length=0;return a}for(var b=!0;1<n.length;){for(var a=n,c=void 0,f=void 0,g=void 0,l=void 0,u=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],l=a[c+
1],u=d(),x=g,A=l,D=u,y=0,B=0,E=0,C=x.length,G=A.length,F=void 0,H=void 0;for(D.length=C+G;y<C&&B<G;++E)F=x[y],H=A[B],F.Wf<H.Wf?(D[E]=F,++y):(D[E]=H,++B);for(;y<C;++y,++E)D[E]=x[y];for(;B<G;++B,++E)D[E]=A[B];b||(e(g),e(l));h.push(u)}1===f%2&&(b?(g=d(),wa(g,a[f-1]),h.push(g)):h.push(a[f-1]));wa(a,h);h.length=0;b=!1}a=n[0];n.length=0;return a};b.prototype.hg=function(a){this.Ai=this.Ar||1!==this.opacity||0!==this.Md;var b=this.g.canvas,c=a,d=!1;this.Ai&&(this.g.Qo||(this.g.Qo=document.createElement("canvas"),
b=this.g.Qo,b.width=this.g.Ka,b.height=this.g.Ja,this.g.zw=b.getContext("2d"),d=!0),b=this.g.Qo,c=this.g.zw,b.width!==this.g.Ka&&(b.width=this.g.Ka,d=!0),b.height!==this.g.Ja&&(b.height=this.g.Ja,d=!0),d&&(c.webkitImageSmoothingEnabled=this.g.Za,c.mozImageSmoothingEnabled=this.g.Za,c.msImageSmoothingEnabled=this.g.Za,c.imageSmoothingEnabled=this.g.Za),this.Gh&&c.clearRect(0,0,this.g.Ka,this.g.Ja));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Gh||(c.fillStyle="rgb("+this.Th[0]+","+
this.Th[1]+","+this.Th[2]+")",c.fillRect(0,0,this.g.Ka,this.g.Ja));c.save();this.Zi=!0;var d=this.ic(0,0,!0,!0),f=this.ic(0,0,!1,!0);this.Zi=!1;this.g.zg&&(d=Math.round(d),f=Math.round(f));this.ut(d,f,c);var g=this.Ce();c.scale(g,g);c.translate(-d,-f);this.Uf?(this.We.left=this.oe.we(this.cc),this.We.top=this.oe.xe(this.ec),this.We.right=this.oe.we(this.wc),this.We.bottom=this.oe.xe(this.vc),this.Eh||!this.We.oo(this.Mo)?(e(this.vk),d=this.Uv(),this.Eh=!1,this.Mo.Hl(this.We)):d=this.vk):d=this.C;
for(var l,h=null,f=0,g=d.length;f<g;++f)l=d[f],l!==h&&(this.iB(l,c),h=l);this.Uf&&(this.vk=d);c.restore();this.Ai&&(a.globalCompositeOperation=this.Gl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.iB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ha();var c=a.yb;c.right<this.cc||c.bottom<this.ec||c.left>this.wc||c.top>this.vc||(b.globalCompositeOperation=a.Gl,a.hg(b))}};b.prototype.Ut=function(){this.Zi=!0;var a=this.ic(0,0,!0,!0),b=this.ic(0,0,!1,!0);this.Zi=!1;this.g.zg&&
(a=Math.round(a),b=Math.round(b));this.ut(a,b,null)};b.prototype.ut=function(a,b,c){var d=this.Ce();this.cc=a;this.ec=b;this.wc=a+1/d*this.g.Ka;this.vc=b+1/d*this.g.Ja;a=this.Be();0!==a&&(c&&(c.translate(this.g.Ka/2,this.g.Ja/2),c.rotate(-a),c.translate(this.g.Ka/-2,this.g.Ja/-2)),this.Fh.set(this.cc,this.ec,this.wc,this.vc),this.Fh.offset((this.cc+this.wc)/-2,(this.ec+this.vc)/-2),this.fy.Rx(this.Fh,a),this.fy.pv(this.Fh),this.Fh.offset((this.cc+this.wc)/2,(this.ec+this.vc)/2),this.cc=this.Fh.left,
this.ec=this.Fh.top,this.wc=this.Fh.right,this.vc=this.Fh.bottom)};b.prototype.Ye=function(a){var b=0,c=0;if(this.Ai=this.Ar||1!==this.opacity||0<this.Wa.length||0!==this.Md){this.g.Fe||(this.g.Fe=a.Xg(this.g.Ka,this.g.Ja,this.g.Za));if(this.g.Fe.Fl!==this.g.Ka||this.g.Fe.El!==this.g.Ja)a.deleteTexture(this.g.Fe),this.g.Fe=a.Xg(this.g.Ka,this.g.Ja,this.g.Za);a.Fg(this.g.Fe);this.Gh&&a.clear(0,0,0,0)}this.Gh||a.clear(this.Th[0]/255,this.Th[1]/255,this.Th[2]/255,1);this.Zi=!0;var d=this.ic(0,0,!0,!0),
b=this.ic(0,0,!1,!0);this.Zi=!1;this.g.zg&&(d=Math.round(d),b=Math.round(b));this.ut(d,b,null);d=this.Ce();a.Dg();a.scale(d,d);a.wt(-this.Be());a.translate((this.cc+this.wc)/-2,(this.ec+this.vc)/-2);a.Lg();this.Uf?(this.We.left=this.oe.we(this.cc),this.We.top=this.oe.xe(this.ec),this.We.right=this.oe.we(this.wc),this.We.bottom=this.oe.xe(this.vc),this.Eh||!this.We.oo(this.Mo)?(e(this.vk),b=this.Uv(),this.Eh=!1,this.Mo.Hl(this.We)):b=this.vk):b=this.C;var f,g,l=null,c=0;for(f=b.length;c<f;++c)g=b[c],
g!==l&&(this.jB(b[c],a),l=g);this.Uf&&(this.vk=b);this.Ai&&(b=this.Wa.length?this.Wa[0].Zc:0,c=this.Wa.length?this.Wa[0].index:0,0===this.Wa.length||1===this.Wa.length&&!a.lt(b)&&1===this.opacity?(1===this.Wa.length?(a.Gg(b),a.Pk(this.rc.Wl(),1/this.g.Ka,1/this.g.Ja,0,0,1,1,d,this.Be(),this.cc,this.ec,(this.cc+this.wc)/2,(this.ec+this.vc)/2,this.Sb[c]),a.sp(b)&&(this.g.ob=!0)):a.Gg(0),a.Fg(this.rc.Wl()),a.Jj(this.opacity),a.pe(this.g.Fe),a.Bi(this.rd,this.kd),a.Dg(),a.Lg(),d=this.g.Ka/2,b=this.g.Ja/
2,a.vp(-d,b,d,b,d,-b,-d,-b),a.pe(null)):this.rc.qt(a,this,null,this.rc.Wl()))};b.prototype.jB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ha();var c=a.yb;c.right<this.cc||c.bottom<this.ec||c.left>this.wc||c.top>this.vc||(a.xy?this.kB(a,b):(b.Gg(0),b.Bi(a.rd,a.kd),a.Ye(b)))}};b.prototype.kB=function(a,b){var c=a.Wa[0].Zc,d=a.Wa[0].index,e=this.Ce();if(1!==a.Wa.length||b.lt(c)||b.RD(c)||(a.J||a.O.Be())&&b.Xm(c)||1!==a.opacity||a.type.Xb.gx)this.rc.qt(b,this,a,this.Ai?this.g.Fe:this.rc.Wl()),
b.Dg(),b.scale(e,e),b.wt(-this.Be()),b.translate((this.cc+this.wc)/-2,(this.ec+this.vc)/-2),b.Lg();else{b.Gg(c);b.Bi(a.rd,a.kd);b.sp(c)&&(this.g.ob=!0);var f=0,g=0,l=0,h=0;b.Xm(c)&&(c=a.yb,f=this.Pb(c.left,c.top,!0,!0),g=this.Pb(c.left,c.top,!1,!0),l=this.Pb(c.right,c.bottom,!0,!0),c=this.Pb(c.right,c.bottom,!1,!0),f/=windowWidth,g=1-g/windowHeight,l/=windowWidth,h=1-c/windowHeight);b.Pk(this.Ai?this.g.Fe:this.rc.Wl(),1/a.width,1/a.height,f,g,l,h,e,this.Be(),this.cc,this.ec,(this.cc+this.wc)/2,(this.ec+
this.vc)/2,a.Sb[d]);a.Ye(b)}};b.prototype.ic=function(a,b,c,d){var e=this.g.devicePixelRatio;this.g.kj&&(a*=e,b*=e);var e=this.g.rx,f=this.g.tx,e=(this.rc.scrollX-e)*this.Td+e,f=(this.rc.scrollY-f)*this.Ud+f,g=e,l=f,h=1/this.Ce(!d);d?(g-=this.g.Ka*h/2,l-=this.g.Ja*h/2):(g-=this.g.width*h/2,l-=this.g.height*h/2);g+=a*h;l+=b*h;b=this.Be();0!==b&&(g-=e,l-=f,a=Math.cos(b),b=Math.sin(b),d=g*a-l*b,l=l*a+g*b,g=d+e,l+=f);return c?g:l};b.prototype.Pb=function(a,b,c,d){var e=this.g.rx,f=this.g.tx,g=(this.rc.scrollX-
e)*this.Td+e,l=(this.rc.scrollY-f)*this.Ud+f,f=g,e=l,h=this.Be();if(0!==h){a-=g;b-=l;var n=Math.cos(-h),h=Math.sin(-h),y=a*n-b*h;b=b*n+a*h;a=y+g;b+=l}g=1/this.Ce(!d);d?(f-=this.g.Ka*g/2,e-=this.g.Ja*g/2):(f-=this.g.width*g/2,e-=this.g.height*g/2);f=(a-f)/g;e=(b-e)/g;a=this.g.devicePixelRatio;this.g.kj&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Kd=function(){var a,b,c,d={s:this.scale,a:this.J,vl:this.cc,vt:this.ec,vr:this.wc,vb:this.vc,v:this.visible,bc:this.Th,t:this.Gh,px:this.Td,py:this.Ud,o:this.opacity,
zr:this.vd,fx:[],instances:[]};a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],d.fx.push({name:c.name,active:c.hc,params:this.Sb[c.index]});return d};b.prototype.ie=function(a){var b,d;this.scale=a.s;this.J=a.a;this.cc=a.vl;this.ec=a.vt;this.wc=a.vr;this.vc=a.vb;this.visible=a.v;this.Th=a.bc;this.Gh=a.t;this.Td=a.px;this.Ud=a.py;this.opacity=a.o;this.vd=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.Gr(e[a].name))d.hc=e[a].active,this.Sb[d.index]=e[a].params;this.Hh();this.C.sort(c);this.Nj=!0};
Mb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,m;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);m=p[b.length];d=0;for(e=m.length;d<e;d++)if(f=m[d],a(b,f))return f;m.push(b);return b}
function d(a,b){this.g=a;this.iy={};this.Kv={};this.Mr=!1;this.bw=new ca;this.jr=[];this.Kq=[];this.name=b[0];var c=b[1];this.ai=[];var d,e;d=0;for(e=c.length;d<e;d++)this.ew(c[d],null,this.ai)}function e(a){this.type=a;this.C=[];this.Xa=[];this.nb=!0}function g(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Qb=[];this.Ci=[];this.$v=this.Up=this.Ot=this.Rr=this.group=this.Wx=!1;this.Pc=[];this.yf=[];this.qf=[];this.Yl="";this.Co=this.Rr=this.group=!1;this.xv=null;c[1]&&(this.Yl=c[1][1].toLowerCase(),
this.group=!0,this.Rr=!!c[1][0],this.xv=[],this.Co=this.Rr,this.g.ak.push(this),this.g.Do[this.Yl]=this);this.lf=c[2];this.Na=c[4];this.group||(this.g.ov[this.Na.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Nb(this,d[a]);e.index=a;this.Pc.push(e);this.av(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Ob(this,d[a]),e.index=a,this.yf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.ew(c[a],this,this.qf);this.Jo=!1;this.Pc.length&&(this.Jo=null==this.Pc[0].type&&
this.Pc[0].Xc==J.prototype.V.$y)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ee))for(c=0,d=a.ee.length;c<d;c++)e=a.ee[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function l(a,b){this.ze=a;this.sheet=a.sheet;this.g=a.g;this.za=[];this.pb=[];this.X={};this.index=-1;this.zl=!1;this.Xc=this.g.Oh(b[1]);this.trigger=0<b[3];this.Jv=2===b[3];this.Fo=b[5];this.NC=b[6];this.Na=b[7];this.g.dk[this.Na.toString()]=this;-1===b[0]?(this.type=null,this.uc=this.yt,this.Ui=null,this.Ue=-1):(this.type=
this.g.Y[b[0]],this.uc=this.NC?this.aE:this.xt,b[2]?(this.Ui=this.type.xo(b[2]),this.Ue=this.type.Er(b[2])):(this.Ui=null,this.Ue=-1),this.ze.parent&&this.ze.parent.Gp());this.Jv&&(this.uc=this.bE);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Pb(this,e[c]);this.za.push(f)}this.pb.length=e.length}}function h(a,b){this.ze=a;this.sheet=a.sheet;this.g=a.g;this.za=[];this.pb=[];this.X={};this.index=-1;this.zl=!1;this.Xc=this.g.Oh(b[1]);-1===b[0]?(this.type=null,this.uc=this.yt,
this.Ui=null,this.Ue=-1):(this.type=this.g.Y[b[0]],this.uc=this.xt,b[2]?(this.Ui=this.type.xo(b[2]),this.Ue=this.type.Er(b[2])):(this.Ui=null,this.Ue=-1));this.Na=b[3];this.g.$j[this.Na.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Pb(this,e[c]);this.za.push(f)}this.pb.length=e.length}}function n(a,b){this.ja=a;this.ze=a.ze;this.sheet=a.sheet;this.g=a.g;this.type=b[0];this.jg=null;this.Di=0;this.get=null;this.wv=0;this.rc=null;this.key=0;this.object=null;this.index=
0;this.mn=this.Kj=this.mn=this.Kj=this.Lv=this.bj=this.nn=null;this.rf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.jg=new Qb(this,b[1]);this.Di=0;this.get=this.nC;break;case 1:this.jg=new Qb(this,b[1]);this.Di=0;this.get=this.oC;break;case 5:this.jg=new Qb(this,b[1]);this.Di=0;this.get=this.sC;break;case 3:case 8:this.wv=b[1];this.get=this.lC;break;case 6:this.rc=this.g.rs[b[1]];this.get=this.tC;break;case 9:this.key=b[1];this.get=this.rC;break;case 4:this.object=this.g.Y[b[1]];this.get=this.uC;
this.ze.av(this.object);this.ja instanceof Ob?this.ze.Gp():this.ze.parent&&this.ze.parent.Gp();break;case 10:this.index=b[1];a.type.pa?(this.get=this.pC,this.rf=!0):this.get=this.qC;break;case 11:this.nn=b[1];this.bj=null;this.get=this.mC;break;case 2:case 12:this.Lv=b[1];this.get=this.kC;break;case 13:for(this.get=this.vC,this.Kj=[],this.mn=[],c=1,d=b.length;c<d;c++)e=new Pb(this.ja,b[c]),this.Kj.push(e),this.mn.push(0)}}function k(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Qb=[];this.name=
c[1];this.yy=c[2];this.Qr=c[3];this.hm=!!c[4];this.Io=!!c[5];this.Na=c[6];this.g.$k[this.Na.toString()]=this;this.data=this.Qr;this.parent?(this.tj=this.hm||this.Io?-1:this.g.hE++,this.g.yA.push(this)):(this.tj=-1,this.g.xA.push(this))}function m(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Qb=[];this.$l=null;this.BC=c[1];this.hc=!0}function q(){this.Zx=[];this.reset(null)}var p=[];d.prototype.toString=function(){return this.name};d.prototype.ew=function(a,b,c){switch(a[0]){case 0:a=new Rb(this,
b,a);if(a.lf)for(c.push(a),c=0,b=a.Pc.length;c<b;c++)a.Pc[c].trigger&&this.fw(a,c);else a.qw()?this.fw(a,0):c.push(a);break;case 1:a=new Jb(this,b,a);c.push(a);break;case 2:a=new Sb(this,b,a),c.push(a)}};d.prototype.mc=function(){var a,b;a=0;for(b=this.ai.length;a<b;a++)this.ai[a].mc(a<b-1&&this.ai[a+1].Jo)};d.prototype.ry=function(){this.jr.length=0;this.Kq.length=0;this.Zu(this);this.Kq.length=0};d.prototype.Zu=function(a){var b,c,d,e,f=a.jr,m=a.Kq,g=this.bw.Yd();b=0;for(c=g.length;b<c;++b)d=g[b],
e=d.$l,!d.hc||a===e||-1<m.indexOf(e)||(m.push(e),e.Zu(a),f.push(e))};d.prototype.uc=function(a){this.g.UF||(this.Mr=!0,a||(this.g.Wr=!0));var b,c;b=0;for(c=this.ai.length;b<c;b++){var d=this.ai[b];d.uc();this.g.Xq(d.Qb);this.g.di&&this.g.cd()}a||(this.g.Wr=!1)};d.prototype.fw=function(a,b){a.lf||this.g.Zp.push(a);var c,d,e=a.Pc[b],f;f=e.type?e.type.name:"system";var m=(c=e.Jv)?this.Kv:this.iy;m[f]||(m[f]=[]);f=m[f];m=e.Xc;if(c){if(e.za.length&&(e=e.za[0],1===e.type&&2===e.jg.type)){e=e.jg.value.toLowerCase();
c=0;for(d=f.length;c<d;c++)if(f[c].method==m){c=f[c].Ml;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:m,Ml:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==m){f[c].Ml.push([a,b]);return}gc&&m===gc.prototype.V.Yj?f.unshift({method:m,Ml:[[a,b]]}):f.push({method:m,Ml:[[a,b]]})}};zb=d;e.prototype.Lr=function(){return this.nb?this.type.C.length:this.C.length};e.prototype.bf=function(){return this.nb?this.type.C:this.C};e.prototype.Vm=function(a){a&&(a.g.md().Ae.lf?(this.nb&&
(this.C.length=0,wa(this.Xa,a.type.C),this.nb=!1),a=this.Xa.indexOf(a),-1!==a&&(this.C.push(this.Xa[a]),this.Xa.splice(a,1))):(this.nb=!1,this.C.length=1,this.C[0]=a))};hb=e;window._c2hh_="19E67212653292A33E81E2383C2F6DFE36887535";g.prototype.mc=function(a){var c,d=this.parent;if(this.group)for(this.Up=!0;d;){if(!d.group){this.Up=!1;break}d=d.parent}this.Ot=!this.qw()&&(!this.parent||this.parent.group&&this.parent.Up);this.$v=!!a;this.Ci=this.Qb.slice(0);for(d=this.parent;d;){a=0;for(c=d.Qb.length;a<
c;a++)this.vA(d.Qb[a]);d=d.parent}this.Qb=b(this.Qb);this.Ci=b(this.Ci);a=0;for(c=this.Pc.length;a<c;a++)this.Pc[a].mc();a=0;for(c=this.yf.length;a<c;a++)this.yf[a].mc();a=0;for(c=this.qf.length;a<c;a++)this.qf[a].mc(a<c-1&&this.qf[a+1].Jo)};g.prototype.av=function(a){f(a,this.Qb)};g.prototype.vA=function(a){f(a,this.Ci)};g.prototype.Gp=function(){this.Wx=!0;this.parent&&this.parent.Gp()};g.prototype.qw=function(){return this.Pc.length?this.Pc[0].trigger:!1};g.prototype.uc=function(){var a,b=!1,c,
d=this.g,e=this.g.md();e.Ae=this;var f=this.Pc;this.Jo||(e.nr=!1);if(this.lf){0===f.length&&(b=!0);e.Ac=0;for(a=f.length;e.Ac<a;e.Ac++)f[e.Ac].trigger||(c=f[e.Ac].uc())&&(b=!0);(e.nj=b)&&this.Dp()}else{e.Ac=0;for(a=f.length;e.Ac<a;e.Ac++)if(c=f[e.Ac].uc(),!c){e.nj=!1;this.Ot&&d.di&&d.cd();return}e.nj=!0;this.Dp()}this.uB(e)};g.prototype.uB=function(a){a.nj&&this.$v&&(a.nr=!0);this.Ot&&this.g.di&&this.g.cd()};g.prototype.ZD=function(a){this.g.md().Ae=this;this.Pc[a].uc()&&(this.Dp(),this.g.md().nj=
!0)};g.prototype.Dp=function(){var a=this.g.md(),b;a.Se=0;for(b=this.yf.length;a.Se<b;a.Se++)if(this.yf[a.Se].uc())return;this.Ix()};g.prototype.WD=function(){var a=this.g.md(),b;for(b=this.yf.length;a.Se<b;a.Se++)if(this.yf[a.Se].uc())return;this.Ix()};g.prototype.Ix=function(){if(this.qf.length){var a,b,c,d,e=this.qf.length-1;this.g.up(this);if(this.Wx)for(a=0,b=this.qf.length;a<b;a++)c=this.qf[a],(d=!this.Up||!this.group&&a<e)&&this.g.tp(c.Qb),c.uc(),d?this.g.Hj(c.Qb):this.g.Xq(c.Qb);else for(a=
0,b=this.qf.length;a<b;a++)this.qf[a].uc();this.g.rp()}};g.prototype.$D=function(){var a=this.g.md();a.Ae=this;var b=!1,c;a.Ac=0;for(c=this.Pc.length;a.Ac<c;a.Ac++)if(this.Pc[a.Ac].uc())b=!0;else if(!this.lf)return!1;return this.lf?b:!0};g.prototype.XD=function(){this.g.Nl++;var a=this.g.md().Ac,b=this.g.up(this);if(!this.lf)for(b.Ac=a+1,a=this.Pc.length;b.Ac<a;b.Ac++)if(!this.Pc[b.Ac].uc()){this.g.rp();return}this.Dp();this.g.rp()};g.prototype.IC=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=
b;--b)if(this.Pc[b].type===a.type)return!1;return!0};Rb=g;l.prototype.mc=function(){var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.mc(),c.rf&&(this.zl=!0)};l.prototype.bE=function(){return!0};l.prototype.yt=function(){var a,b;a=0;for(b=this.za.length;a<b;a++)this.pb[a]=this.za[a].get();return La(this.Xc.apply(this.g.Hg,this.pb),this.Fo)};l.prototype.aE=function(){var a,b;a=0;for(b=this.za.length;a<b;a++)this.pb[a]=this.za[a].get();a=this.Xc.apply(this.Ui?this.Ui:this.type,this.pb);this.type.Af();
return a};l.prototype.xt=function(){var a,b,c,d,e,f,m,g,l=this.type,h=l.Ya(),k=this.ze.lf&&!this.trigger;b=0;var n=l.Ee,p=l.pa,q=l.fh,s=this.Ue,t=-1<s,sa=this.zl,M=this.za,I=this.pb,R=this.Fo,W=this.Xc,L;if(sa)for(b=0,e=M.length;b<e;++b)f=M[b],f.rf||(I[b]=f.get(0));else for(b=0,e=M.length;b<e;++b)I[b]=M[b].get(0);if(h.nb){h.C.length=0;h.Xa.length=0;L=l.C;a=0;for(d=L.length;a<d;++a){g=L[a];if(sa)for(b=0,e=M.length;b<e;++b)f=M[b],f.rf&&(I[b]=f.get(a));t?(b=0,p&&(b=g.type.hk[q]),b=W.apply(g.na[s+b],
I)):b=W.apply(g,I);(m=La(b,R))?h.C.push(g):k&&h.Xa.push(g)}l.finish&&l.finish(!0);h.nb=!1;l.Af();return h.Lr()}c=0;L=(m=k&&!this.ze.IC(this))?h.Xa:h.C;var Y=!1;a=0;for(d=L.length;a<d;++a){g=L[a];if(sa)for(b=0,e=M.length;b<e;++b)f=M[b],f.rf&&(I[b]=f.get(a));t?(b=0,p&&(b=g.type.hk[q]),b=W.apply(g.na[s+b],I)):b=W.apply(g,I);if(La(b,R))if(Y=!0,m){if(h.C.push(g),n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ya().C.push(f)}else{L[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],
f.type.Ya().C[c]=f;c++}else if(m){L[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ya().Xa[c]=f;c++}else if(k&&(h.Xa.push(g),n))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Ya().Xa.push(f)}L.length=c;if(n)for(p=l.ee,a=0,d=p.length;a<d;a++)g=p[a].Ya(),m?g.Xa.length=c:g.C.length=c;c=Y;if(m&&!Y)for(a=0,d=h.C.length;a<d;a++){g=h.C[a];if(sa)for(b=0,e=M.length;b<e;b++)f=M[b],f.rf&&(I[b]=f.get(a));b=t?W.apply(g.na[s],I):W.apply(g,I);if(La(b,R)){Y=!0;break}}l.finish&&l.finish(c||
k);return k?Y:h.Lr()};Nb=l;h.prototype.mc=function(){var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.mc(),c.rf&&(this.zl=!0)};h.prototype.yt=function(){var a,b;a=0;for(b=this.za.length;a<b;a++)this.pb[a]=this.za[a].get();return this.Xc.apply(this.g.Hg,this.pb)};h.prototype.xt=function(){var a=this.type.Ya().bf(),b=this.type.pa,c=this.type.fh,d=this.Ue,e=-1<d,f=this.zl,m=this.za,g=this.pb,l=this.Xc,h,k,n,p,q,s;if(f)for(k=0,p=m.length;k<p;++k)q=m[k],q.rf||(g[k]=q.get(0));else for(k=0,p=m.length;k<
p;++k)g[k]=m[k].get(0);h=0;for(n=a.length;h<n;++h){s=a[h];if(f)for(k=0,p=m.length;k<p;++k)q=m[k],q.rf&&(g[k]=q.get(h));e?(k=0,b&&(k=s.type.hk[c]),l.apply(s.na[d+k],g)):l.apply(s,g)}return!1};Ob=h;var s=[],t=-1;n.prototype.mc=function(){var a,b;if(11===this.type)this.bj=this.g.Qv(this.nn,this.ze.parent);else if(13===this.type)for(a=0,b=this.Kj.length;a<b;a++)this.Kj[a].mc();this.jg&&this.jg.mc()};n.prototype.rD=function(a){this.rf||!a||a.Xb.Ip||(this.rf=!0)};n.prototype.Px=function(){this.rf=!0};n.prototype.Jc=
function(){t++;s.length===t&&s.push(new Tb);return s[t]};n.prototype.tc=function(){t--};n.prototype.nC=function(a){this.Di=a||0;a=this.Jc();this.jg.get(a);this.tc();return a.data};n.prototype.oC=function(a){this.Di=a||0;a=this.Jc();this.jg.get(a);this.tc();return v(a.data)?a.data:""};n.prototype.uC=function(){return this.object};n.prototype.lC=function(){return this.wv};n.prototype.sC=function(a){this.Di=a||0;a=this.Jc();this.jg.get(a);this.tc();return a.Rc()?this.g.hh(a.data):this.g.Tl(a.data)};
n.prototype.tC=function(){return this.rc};n.prototype.rC=function(){return this.key};n.prototype.qC=function(){return this.index};n.prototype.pC=function(a){a=a||0;var b=this.ja.type,c=null,c=b.Ya(),d=c.bf();if(d.length)c=d[a%d.length].type;else if(c.Xa.length)c=c.Xa[a%c.Xa.length].type;else if(b.C.length)c=b.C[a%b.C.length].type;else return 0;return this.index+c.qo[b.fh]};n.prototype.mC=function(){return this.bj};n.prototype.kC=function(){return this.Lv};n.prototype.vC=function(){var a,b;a=0;for(b=
this.Kj.length;a<b;a++)this.mn[a]=this.Kj[a].get();return this.mn};Pb=n;k.prototype.mc=function(){this.Qb=b(this.Qb)};k.prototype.Hp=function(a){var b=this.g.Pv();this.parent&&!this.hm&&b?(this.tj>=b.length&&(b.length=this.tj+1),b[this.tj]=a):this.data=a};k.prototype.Xv=function(){var a=this.g.Pv();return!this.parent||this.hm||!a||this.Io?this.data:this.tj>=a.length||"undefined"===typeof a[this.tj]?this.Qr:a[this.tj]};k.prototype.uc=function(){!this.parent||this.hm||this.Io||this.Hp(this.Qr)};Jb=
k;m.prototype.toString=function(){return"include:"+this.$l.toString()};m.prototype.mc=function(){this.$l=this.g.qr[this.BC];this.sheet.bw.add(this);this.Qb=b(this.Qb);for(var a=this.parent;a;)a.group&&a.xv.push(this),a=a.parent;this.rE()};m.prototype.uc=function(){this.parent&&this.g.Zm(this.g.Y);this.$l.Mr||this.$l.uc(!0);this.parent&&this.g.Hj(this.g.Y)};m.prototype.rE=function(){for(var a=this.parent;a;){if(a.group&&!a.Co){this.hc=!1;return}a=a.parent}this.hc=!0};Sb=m;q.prototype.reset=function(a){this.Ae=
a;this.Se=this.Ac=0;this.Zx.length=0;this.nr=this.nj=!1};Ib=q})();
(function(){function a(a,c){this.ja=a;this.g=a.g;this.type=c[0];this.get=[this.IB,this.DB,this.QB,this.TB,this.xB,this.RB,this.MB,this.AB,this.LB,this.PB,this.yB,this.OB,this.BB,this.NB,this.JB,this.KB,this.EB,this.GB,this.zB,this.SB,this.Hv,this.HB,this.Hv,this.CB][this.type];var e=null;this.Sd=this.za=this.pb=this.Xc=this.Qp=this.Uc=this.first=this.value=null;this.Ue=-1;this.ih=null;this.Zt=-1;this.bj=this.nn=null;this.an=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Qb(a,c[1]);break;case 18:this.first=new Qb(a,c[1]);this.Uc=new Qb(a,c[2]);this.Qp=new Qb(a,c[3]);break;case 19:this.Xc=this.g.Oh(c[1]);this.Xc!==J.prototype.Tb.random&&this.Xc!==J.prototype.Tb.KA||this.ja.Px();this.pb=[];this.za=[];3===c.length?(e=c[2],this.pb.length=e.length+1):this.pb.length=1;break;case 20:this.Sd=this.g.Y[c[1]];this.Ue=-1;this.Xc=this.g.Oh(c[2]);this.an=c[3];Wb.Function&&this.Xc===Wb.Function.prototype.Tb.JE&&this.ja.Px();this.ih=c[4]?new Qb(a,c[4]):null;this.pb=[];this.za=
[];6===c.length?(e=c[5],this.pb.length=e.length+1):this.pb.length=1;break;case 21:this.Sd=this.g.Y[c[1]];this.an=c[2];this.ih=c[3]?new Qb(a,c[3]):null;this.Zt=c[4];break;case 22:this.Sd=this.g.Y[c[1]];this.Sd.xo(c[2]);this.Ue=this.Sd.Er(c[2]);this.Xc=this.g.Oh(c[3]);this.an=c[4];this.ih=c[5]?new Qb(a,c[5]):null;this.pb=[];this.za=[];7===c.length?(e=c[6],this.pb.length=e.length+1):this.pb.length=1;break;case 23:this.nn=c[1],this.bj=null}this.ja.rD(this.Sd);4<=this.type&&17>=this.type&&(this.first=
new Qb(a,c[1]),this.Uc=new Qb(a,c[2]));if(e){var g,f;g=0;for(f=e.length;g<f;g++)this.za.push(new Qb(a,e[g]))}}function c(a,c){this.type=a||Ub.Xj;this.data=c||0;this.Kk=null;this.type==Ub.Xj&&(this.data=Math.floor(this.data))}a.prototype.mc=function(){23===this.type&&(this.bj=this.ja.g.Qv(this.nn,this.ja.ze.parent));this.first&&this.first.mc();this.Uc&&this.Uc.mc();this.Qp&&this.Qp.mc();this.ih&&this.ih.mc();if(this.za){var a,c;a=0;for(c=this.za.length;a<c;a++)this.za[a].mc()}};a.prototype.SB=function(a){this.pb[0]=
a;a=this.ja.Jc();var c,e;c=0;for(e=this.za.length;c<e;c++)this.za[c].get(a),this.pb[c+1]=a.data;this.ja.tc();this.Xc.apply(this.g.Hg,this.pb)};a.prototype.Hv=function(a){var c=this.Sd.Ya(),e=c.bf();if(!e.length)if(c.Xa.length)e=c.Xa;else{this.an?a.qe(""):a.kb(0);return}this.pb[0]=a;a.Kk=this.Sd;a=this.ja.Jc();var g,c=0;for(g=this.za.length;c<g;c++)this.za[c].get(a),this.pb[c+1]=a.data;c=this.ja.Di;this.ih&&(this.ih.get(a),a.Rc()&&(c=a.data,e=this.Sd.C));this.ja.tc();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Ue?(a=0,this.Sd.pa&&(a=e.type.hk[this.Sd.fh]),this.Xc.apply(e.na[this.Ue+a],this.pb)):this.Xc.apply(e,this.pb)};a.prototype.HB=function(a){var c=this.Sd.Ya(),e=c.bf();if(!e.length)if(c.Xa.length)e=c.Xa;else{this.an?a.qe(""):a.kb(0);return}c=this.ja.Di;if(this.ih){var g=this.ja.Jc();this.ih.get(g);if(g.Rc()){c=g.data;e=this.Sd.C;c%=e.length;0>c&&(c+=e.length);e=e[c].Fc[this.Zt];v(e)?a.qe(e):a.ba(e);this.ja.tc();return}this.ja.tc()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.Sd.pa&&
(c=e.type.qo[this.Sd.fh]);e=e.Fc[this.Zt+c];v(e)?a.qe(e):a.ba(e)};a.prototype.IB=function(a){a.type=Ub.Xj;a.data=this.value};a.prototype.DB=function(a){a.type=Ub.Sj;a.data=this.value};a.prototype.QB=function(a){a.type=Ub.String;a.data=this.value};a.prototype.TB=function(a){this.first.get(a);a.Rc()&&(a.data=-a.data)};a.prototype.xB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data+=c.data,c.ok()&&a.Gk());this.ja.tc()};a.prototype.RB=function(a){this.first.get(a);
var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data-=c.data,c.ok()&&a.Gk());this.ja.tc()};a.prototype.MB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data*=c.data,c.ok()&&a.Gk());this.ja.tc()};a.prototype.AB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data/=c.data,a.Gk());this.ja.tc()};a.prototype.LB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data%=c.data,c.ok()&&a.Gk());this.ja.tc()};
a.prototype.PB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&(a.data=Math.pow(a.data,c.data),c.ok()&&a.Gk());this.ja.tc()};a.prototype.yB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()?c.Ko()?a.qe(a.data.toString()+c.data):a.data&&c.data?a.kb(1):a.kb(0):a.Ko()&&(a.data=c.Ko()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.ja.tc()};a.prototype.OB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.Rc()&&c.Rc()&&
(a.data||c.data?a.kb(1):a.kb(0));this.ja.tc()};a.prototype.zB=function(a){this.first.get(a);a.data?this.Uc.get(a):this.Qp.get(a)};a.prototype.BB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data===c.data?1:0);this.ja.tc()};a.prototype.NB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data!==c.data?1:0);this.ja.tc()};a.prototype.JB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data<c.data?1:0);this.ja.tc()};a.prototype.KB=function(a){this.first.get(a);
var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data<=c.data?1:0);this.ja.tc()};a.prototype.EB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data>c.data?1:0);this.ja.tc()};a.prototype.GB=function(a){this.first.get(a);var c=this.ja.Jc();this.Uc.get(c);a.kb(a.data>=c.data?1:0);this.ja.tc()};a.prototype.CB=function(a){var c=this.bj.Xv();ha(c)?a.ba(c):a.qe(c)};Qb=a;c.prototype.ok=function(){return this.type===Ub.Sj};c.prototype.Rc=function(){return this.type===Ub.Xj||this.type===Ub.Sj};
c.prototype.Ko=function(){return this.type===Ub.String};c.prototype.Gk=function(){this.ok()||(this.Ko()&&(this.data=parseFloat(this.data)),this.type=Ub.Sj)};c.prototype.kb=function(a){this.type=Ub.Xj;this.data=Math.floor(a)};c.prototype.ba=function(a){this.type=Ub.Sj;this.data=a};c.prototype.qe=function(a){this.type=Ub.String;this.data=a};c.prototype.fE=function(a){ha(a)?(this.type=Ub.Sj,this.data=a):v(a)?(this.type=Ub.String,this.data=a.toString()):(this.type=Ub.Xj,this.data=0)};Tb=c;Ub={Xj:0,Sj:1,
String:2}})();function J(a){this.g=a;this.te=[]}
J.prototype.Kd=function(){var a={},c,b,d,e,g,f,l,h;a.waits=[];var n=a.waits,k;c=0;for(b=this.te.length;c<b;c++){f=this.te[c];k={t:f.time,st:f.gE,s:f.Ux,ev:f.Kl.Na,sm:[],sols:{}};f.Kl.yf[f.Se]&&(k.act=f.Kl.yf[f.Se].Na);d=0;for(e=f.Qb.length;d<e;d++)k.sm.push(f.Qb[d].Na);for(g in f.se)if(f.se.hasOwnProperty(g)){l=this.g.Y[parseInt(g,10)];h={sa:f.se[g].Lx,insts:[]};d=0;for(e=f.se[g].jj.length;d<e;d++)h.insts.push(f.se[g].jj[d].uid);k.sols[l.Na.toString()]=h}n.push(k)}return a};
J.prototype.ie=function(a){a=a.waits;var c,b,d,e,g,f,l,h,n,k,m;c=this.te.length=0;for(b=a.length;c<b;c++)if(f=a[c],h=this.g.ov[f.ev.toString()]){n=-1;d=0;for(e=h.yf.length;d<e;d++)if(h.yf[d].Na===f.act){n=d;break}if(-1!==n){l={se:{},Qb:[],Ev:!1};l.time=f.t;l.gE=f.st||"";l.Ux=!!f.s;l.Kl=h;l.Se=n;d=0;for(e=f.sm.length;d<e;d++)(h=this.g.Vl(f.sm[d]))&&l.Qb.push(h);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(h=this.g.Vl(parseInt(g,10)))){n=f.sols[g];k={Lx:n.sa,jj:[]};d=0;for(e=n.insts.length;d<e;d++)(m=
this.g.Ul(n.insts[d]))&&k.jj.push(m);l.se[h.index.toString()]=k}this.te.push(l)}}};
(function(){function a(){}function c(){}function b(){}var d=J.prototype;a.prototype.bz=function(){return!0};a.prototype.Fz=function(){return!0};a.prototype.Ez=function(){return!0};a.prototype.Sy=function(a,b,c){return Vb(a,b,c)};a.prototype.az=function(a){var b=this.g.yo(),c=b.X.Every_lastTime||0,d=this.g.lj.$c;"undefined"===typeof b.X.Every_seconds&&(b.X.Every_seconds=a);var e=b.X.Every_seconds;if(d>=c+e)return b.X.Every_lastTime=c+e,d>=b.X.Every_lastTime+.04&&(b.X.Every_lastTime=d),b.X.Every_seconds=
a,!0;d<c-.1&&(b.X.Every_lastTime=d);return!1};a.prototype.Ty=function(a,b,c){return Vb(a.Xv(),b,c)};a.prototype.$y=function(){var a=this.g.md();return a.nr?!1:!a.nj};a.prototype.wu=function(){return!0};a.prototype.vz=function(){return!0};a.prototype.vq=function(){return!0};a.prototype.Gz=function(){return!0};a.prototype.uq=function(){return!0};a.prototype.Iy=function(a,b,c){return Ha(z(a),z(c))<=z(b)};a.prototype.jz=function(a,b){return Ja(z(a),z(b))};a.prototype.iz=function(a,b,c){a=Fa(a);b=Fa(b);
c=Fa(c);return Ja(c,b)?Ja(a,b)&&!Ja(a,c):!(!Ja(a,b)&&Ja(a,c))};d.V=new a;c.prototype.Yy=function(a,b,c,d){if(b&&a&&(b=this.g.Av(a,b,c,d))){this.g.Gf++;var e;this.g.trigger(Object.getPrototypeOf(a.Xb).V.tq,b);if(b.Ee)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.g.trigger(Object.getPrototypeOf(e.type.Xb).V.tq,e);this.g.Gf--;a=a.Ya();a.nb=!1;a.C.length=1;a.C[0]=b;if(b.Ee)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Ya(),a.nb=!1,a.C.length=1,a.C[0]=e}};c.prototype.Sz=function(a,
b){0===a.yy?ha(b)?a.Hp(b):a.Hp(parseFloat(b)):1===a.yy&&a.Hp(b.toString())};var e=[],g=[];d.ib=new c;b.prototype["int"]=function(a,b){v(b)?(a.kb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.kb(b)};b.prototype["float"]=function(a,b){v(b)?(a.ba(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ba(b)};b.prototype.random=function(a,b,c){void 0===c?a.ba(Math.random()*b):a.ba(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ba(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ba(Math.abs(b))};b.prototype.round=
function(a,b){a.kb(Math.round(b))};b.prototype.floor=function(a,b){a.kb(Math.floor(b))};b.prototype.ceil=function(a,b){a.kb(Math.ceil(b))};b.prototype.sin=function(a,b){a.ba(Math.sin(z(b)))};b.prototype.cos=function(a,b){a.ba(Math.cos(z(b)))};b.prototype.tan=function(a,b){a.ba(Math.tan(z(b)))};b.prototype.asin=function(a,b){a.ba(Ba(Math.asin(b)))};b.prototype.acos=function(a,b){a.ba(Ba(Math.acos(b)))};b.prototype.atan=function(a,b){a.ba(Ba(Math.atan(b)))};b.prototype.exp=function(a,b){a.ba(Math.exp(b))};
b.prototype.log10=function(a,b){a.ba(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ba(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ba(b)};b.prototype.Ba=function(a){a.ba(this.g.Ba)};b.prototype.Mj=function(a){a.ba(this.g.Mj)};b.prototype.time=
function(a){a.ba(this.g.lj.$c)};b.prototype.Xd=function(a){a.kb(this.g.Xd)};b.prototype.mp=function(a){a.kb(this.g.mp)};b.prototype.Br=function(a){a.kb(this.g.Br)};b.prototype.bh=function(a,b,c,d,e){a.ba(Ka(b,c,d,e))};b.prototype.J=function(a,b,c,d,e){a.ba(Ba(Ga(b,c,d,e)))};b.prototype.PC=function(a){a.kb(this.g.wb.width)};b.prototype.OC=function(a){a.kb(this.g.wb.height)};b.prototype.find=function(a,b,c){v(b)&&v(c)?a.kb(b.search(new RegExp(Xa(c),"i"))):a.kb(-1)};b.prototype.left=function(a,b,c){a.qe(v(b)?
b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.qe(v(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){v(b)&&v(c)&&v(d)?a.qe(b.replace(new RegExp(Xa(c),"gi"),d)):a.qe(v(b)?b:"")};b.prototype.trim=function(a,b){a.qe(v(b)?b.trim():"")};b.prototype.KA=function(a){var b=w(Math.random()*(arguments.length-1));a.fE(arguments[b+1])};b.prototype.dr=function(a){a.ba(this.g.dr/1E3)};b.prototype.Xo=function(a){a.ba(this.g.Xo)};d.Tb=new b;d.YD=function(){var a,b,c,d,k,m,q=this.g.md();a=
0;for(c=this.te.length;a<c;a++){d=this.te[a];if(-1===d.time){if(!d.Ux)continue}else if(d.time>this.g.lj.$c)continue;q.Ae=d.Kl;q.Se=d.Se;q.Ac=0;for(b in d.se)d.se.hasOwnProperty(b)&&(k=this.g.Y[parseInt(b,10)].Ya(),m=d.se[b],k.nb=m.Lx,wa(k.C,m.jj),k=m,k.jj.length=0,g.push(k));d.Kl.WD();this.g.Xq(d.Qb);d.Ev=!0}b=a=0;for(c=this.te.length;a<c;a++)d=this.te[a],this.te[b]=d,d.Ev?(Pa(d.se),d.Qb.length=0,e.push(d)):b++;this.te.length=b}})();
(function(){gb=function(a,b){var d=a[1],e=a[3],g=a[4],f=a[5],l=a[6],h=a[7],n=a[8];b.V||(b.V={});b.ib||(b.ib={});b.Tb||(b.Tb={});var k=b.V,m=b.ib,q=b.Tb;e&&(k.OE=function(a,b){return Vb(this.x,a,b)},k.PE=function(a,b){return Vb(this.y,a,b)},k.UE=function(){var a=this.O;this.Ha();var b=this.yb;return!(b.right<a.cc||b.bottom<a.ec||b.left>a.wc||b.top>a.vc)},k.VE=function(){this.Ha();var a=this.yb,b=this.g.wb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.iF=function(a,b,c){var d=this.Ya(),
e=d.bf();if(!e.length)return!1;var f=e[0],m=f,g=Ka(f.x,f.y,b,c),h,l,k;h=1;for(l=e.length;h<l;h++)if(f=e[h],k=Ka(f.x,f.y,b,c),0===a&&k<g||1===a&&k>g)g=k,m=f;d.Vm(m);return!0},m.Vz=function(a){this.x!==a&&(this.x=a,this.Ga())},m.Wz=function(a){this.y!==a&&(this.y=a,this.Ga())},m.xF=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ga()},m.Nu=function(a,b){var c=a.gC(this);if(c){var d;c.lg?(d=c.lg(b,!0),c=c.lg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ga()}},
m.aF=function(a){0!==a&&(this.x+=Math.cos(this.J)*a,this.y+=Math.sin(this.J)*a,this.Ga())},m.$E=function(a,b){0!==b&&(this.x+=Math.cos(z(a))*b,this.y+=Math.sin(z(a))*b,this.Ga())},q.Eq=function(a){a.ba(this.x)},q.Fq=function(a){a.ba(this.y)},q.Ba=function(a){a.ba(this.g.Sl(this))});g&&(k.NE=function(a,b){return Vb(this.width,a,b)},k.KE=function(a,b){return Vb(this.height,a,b)},m.Tz=function(a){this.width!==a&&(this.width=a,this.Ga())},m.vF=function(a){this.height!==a&&(this.height=a,this.Ga())},m.yF=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ga()},q.DF=function(a){a.ba(this.width)},q.QE=function(a){a.ba(this.height)},q.HE=function(a){this.Ha();a.ba(this.yb.left)},q.My=function(a){this.Ha();a.ba(this.yb.top)},q.IE=function(a){this.Ha();a.ba(this.yb.right)},q.GE=function(a){this.Ha();a.ba(this.yb.bottom)});f&&(k.Iy=function(a,b){return Ha(this.J,z(b))<=z(a)},k.jz=function(a){return Ja(this.J,z(a))},k.iz=function(a,b){var c=Fa(a),d=Fa(b),e=Da(this.J);return Ja(d,
c)?Ja(e,c)&&!Ja(e,d):!(!Ja(e,c)&&Ja(e,d))},m.Jn=function(a){a=z(Ca(a));isNaN(a)||this.J===a||(this.J=a,this.Ga())},m.oF=function(a){0===a||isNaN(a)||(this.J+=z(a),this.J=Da(this.J),this.Ga())},m.pF=function(a){0===a||isNaN(a)||(this.J-=z(a),this.J=Da(this.J),this.Ga())},m.qF=function(a,b){var c=Ia(this.J,z(b),z(a));isNaN(c)||this.J===c||(this.J=c,this.Ga())},m.rF=function(a,b,c){a=Ia(this.J,Math.atan2(c-this.y,b-this.x),z(a));isNaN(a)||this.J===a||(this.J=a,this.Ga())},m.zF=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.J===c||(this.J=c,this.Ga())},q.AE=function(a){a.ba(Ea(this.J))});d||(k.LE=function(a,b,c){return Vb(this.Fc[a],b,c)},k.SE=function(a){return this.Fc[a]},k.jF=function(a,b){var c=this.Ya(),d=c.bf();if(!d.length)return!1;var e=d[0],f=e,m=e.Fc[b],g,h,l;g=1;for(h=d.length;g<h;g++)if(e=d[g],l=e.Fc[b],0===a&&l<m||1===a&&l>m)m=l,f=e;c.Vm(f);return!0},k.hF=function(a){var b,c,d,e,f;if(this.g.yo().Fo){f=this.Ya();if(f.nb)for(f.nb=!1,f.C.length=0,f.Xa.length=0,d=this.C,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.Xa.push(e):f.C.push(e);else{d=b=0;for(c=f.C.length;b<c;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.Xa.push(e):d++;f.C.length=d}this.Af();return!!f.C.length}e=this.g.Ul(a);if(!e)return!1;f=this.Ya();if(!f.nb&&-1===f.C.indexOf(e))return!1;if(this.pa)for(a=e.type.Ob,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Vm(e),this.Af(),!0}else if(e.type===this)return f.Vm(e),this.Af(),!0;return!1},k.tq=function(){return!0},k.xz=function(){return!0},m.Qz=function(a,b){var c=this.Fc;
ha(c[a])?c[a]=ha(b)?b:parseFloat(b):v(c[a])&&(c[a]=v(b)?b:b.toString())},m.zE=function(a,b){var c=this.Fc;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):v(c[a])&&(c[a]=v(b)?c[a]+b:c[a]+b.toString())},m.aA=function(a,b){var c=this.Fc;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},m.sF=function(a,b){this.Fc[a]=b?1:0},m.BF=function(a){this.Fc[a]=1-this.Fc[a]},m.wd=function(){this.g.Hi(this)},m.nz||(m.nz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.g.Uo(this,b,!0);this.Tg&&this.Tg();
if(this.na)for(a=0,b=this.na.length;a<b;++a)c=this.na[a],c.Tg&&c.Tg()}),q.Xy=function(a){var b=a.Kk.C.length,c,d,e;c=0;for(d=this.g.Bf.length;c<d;c++)e=this.g.Bf[c],a.Kk.pa?0<=e.type.Ob.indexOf(a.Kk)&&b++:e.type===a.Kk&&b++;a.kb(b)},q.lF=function(a){a.kb(a.Kk.Ya().bf().length)},q.CF=function(a){a.kb(this.uid)},q.RE=function(a){a.kb(this.Xl())},q.Ly||(q.Ly=function(a){a.qe(JSON.stringify(this.g.zt(this,!0)))}));l&&(k.lz=function(){return this.visible},m.Pu=function(a){!a!==!this.visible&&(this.visible=
a,this.g.ob=!0)},k.ME=function(a,b){return Vb(cb(100*this.opacity),a,b)},m.wF=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.ob=!0)},q.Opacity=function(a){a.ba(cb(100*this.opacity))});h&&(k.TE=function(a){return a?this.O===a:!1},k.kF=function(a){var b=this.Ya(),c=b.bf();if(!c.length)return!1;var d=c[0],e=d,f,m;f=1;for(m=c.length;f<m;f++)if(d=c[f],0===a){if(d.O.index>e.O.index||d.O.index===e.O.index&&d.cf()>e.cf())e=d}else if(d.O.index<e.O.index||d.O.index===e.O.index&&
d.cf()<e.cf())e=d;b.Vm(e);return!0},m.dF=function(){var a=this.O,b=a.C;b.length&&b[b.length-1]===this||(a.Ok(this,!1),a.Bl(this,!1),this.g.ob=!0)},m.bF=function(){var a=this.O,b=a.C;b.length&&b[0]===this||(a.Ok(this,!1),a.PD(this),this.g.ob=!0)},m.cF=function(a){a&&a!=this.O&&(this.O.Ok(this,!0),this.O=a,a.Bl(this,!0),this.g.ob=!0)},m.FF=function(a,b){var c=0===a;if(b){var d=b.bC(this);d&&d.uid!==this.uid&&(this.O.index!==d.O.index&&(this.O.Ok(this,!0),this.O=d.O,d.O.Bl(this,!0)),this.O.vD(this,d,
c),this.g.ob=!0)}},q.YE=function(a){a.kb(this.O.kx)},q.XE=function(a){a.qe(this.O.name)},q.EF=function(a){a.kb(this.cf())});n&&(m.tF=function(a,b){if(this.g.Z){var c=this.type.Hr(b);if(!(0>c)){var d=1===a;this.Sh[c]!==d&&(this.Sh[c]=d,this.Hh(),this.g.ob=!0)}}},m.uF=function(a,b,c){if(this.g.Z){var d=this.type.Hr(a);0>d||(a=this.type.wa[d],d=this.Sb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.Z.jC(a.Zc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.hc&&(this.g.ob=!0))))}})};Ab=function(){this.Rq=this.Oq=!0;
this.type.Mn=!0;this.g.ob=!0;var a,b,d=this.Pq;a=0;for(b=d.length;a<b;++a)d[a](this);this.O.Uf&&this.Ha()};Bb=function(a){a&&this.Pq.push(a)};Db=function(){if(this.Oq){var a=this.yb,b=this.lb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Od*this.width,-this.Pd*this.height);this.J?(a.offset(-this.x,-this.y),b.Rx(a,this.J),b.offset(this.x,this.y),b.pv(a)):b.Sk(a);a.normalize();this.Oq=!1;this.tE()}};var a=new ra(0,0,0,0);Eb=function(){if(this.O.Uf){var c=this.O.oe,b=this.yb;
a.set(c.we(b.left),c.xe(b.top),c.we(b.right),c.xe(b.bottom));this.Vd.oo(a)||(this.Vd.right<this.Vd.left?c.update(this,null,a):c.update(this,this.Vd,a),this.Vd.Hl(a),this.O.Eh=!0)}};Fb=function(){if(this.Rq&&this.fg){this.Ha();var c=this.type.Zn,b=this.yb;a.set(c.we(b.left),c.xe(b.top),c.we(b.right),c.xe(b.bottom));this.Xh.oo(a)||(this.Xh.right<this.Xh.left?c.update(this,null,a):c.update(this,this.Xh,a),this.Xh.Hl(a),this.Rq=!1)}};Cb=function(a,b){return this.yb.Cc(a,b)&&this.lb.Cc(a,b)?this.ua&&!this.ua.gi()?
(this.ua.Vh(this.width,this.height,this.J),this.ua.Cc(a-this.x,b-this.y)):!0:!1};vb=function(){this.type.$p();return this.gj};Gb=function(){this.O.Vt();return this.Wf};Hb=function(){this.Wa.length=0;var a,b;a=0;for(b=this.Sh.length;a<b;a++)this.Sh[a]&&this.Wa.push(this.type.wa[a]);this.xy=!!this.Wa.length};xb=function(){return"Inst"+this.Dx};jb=function(a){if(a&&a.Ee&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Ya().bf();return a.length?
a[0]:null};kb=function(a){var b=this.Ya().bf();return b.length?b[a.Xl()%b.length]:null};ib=function(){if(this.Uk&&!this.pa){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].gj=a;var d=a,e=this.g.Bf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].gj=d++);this.Uk=!1}};tb=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var b=this.g.Bf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};lb=function(){return this.Ei[this.ah]};mb=function(){this.ah++;
this.ah===this.Ei.length?this.Ei.push(new hb(this)):this.Ei[this.ah].nb=!0};nb=function(){this.ah++;this.ah===this.Ei.length&&this.Ei.push(new hb(this));var a=this.Ei[this.ah],b=this.Ei[this.ah-1];b.nb?a.nb=!0:(a.nb=!1,wa(a.C,b.C),wa(a.Xa,b.Xa))};ob=function(){this.ah--};pb=function(a){var b,d,e,g,f,l=0;if(!this.pa)for(b=0,d=this.Ob.length;b<d;b++)for(f=this.Ob[b],e=0,g=f.pc.length;e<g;e++){if(a===f.pc[e].name)return this.X.lastBehIndex=l,f.pc[e];l++}b=0;for(d=this.pc.length;b<d;b++){if(a===this.pc[b].name)return this.X.lastBehIndex=
l,this.pc[b];l++}return null};qb=function(a){return this.xo(a)?this.X.lastBehIndex:-1};rb=function(a){var b,d;b=0;for(d=this.wa.length;b<d;b++)if(this.wa[b].name===a)return b;return-1};sb=function(){if(this.Ee&&!this.pa){var a,b,d,e,g,f,l;this.$p();f=this.Ya();var h=f.nb,n=(a=this.g.md())&&a.Ae&&a.Ae.lf;a=0;for(b=this.ee.length;a<b;a++)if(g=this.ee[a],g!==this&&(g.$p(),l=g.Ya(),l.nb=h,!h)){l.C.length=f.C.length;d=0;for(e=f.C.length;d<e;d++)l.C[d]=g.Rv(f.C[d].gj);if(n)for(l.Xa.length=f.Xa.length,d=
0,e=f.Xa.length;d<e;d++)l.Xa[d]=g.Rv(f.Xa[d].gj)}}};ub=function(){return"Type"+this.Na};Vb=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var dc={};function hc(a){this.g=a}
(function(){function a(){}function c(){}var b=hc.prototype;b.rb=function(a){this.Xb=a;this.g=a.g};b.rb.prototype.Fa=function(){};b.Va=function(a){this.type=a;this.g=a.g;this.Qq=Array(4);this.gy=this.Xp=this.Wk=this.ti=this.si=0;this.Kr=!1};var d=b.Va.prototype;d.Fa=function(){var a=this;if(!this.g.Ab){jQuery(document).mousemove(function(b){a.Om(b)});jQuery(document).mousedown(function(b){a.Nm(b)});jQuery(document).mouseup(function(b){a.Pm(b)});jQuery(document).dblclick(function(b){a.BD(b)});var b=
function(b){a.ID(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.Om=function(a){var b=this.g.Ab?e:jQuery(this.g.canvas).offset();this.si=a.pageX-b.left;this.ti=a.pageY-b.top};d.cx=function(){return 0<this.g.Dd?!0:0<=this.si&&0<=this.ti&&this.si<this.g.width&&this.ti<this.g.height};d.Nm=function(a){this.cx()&&(this.g.lk&&!this.g.df&&a.preventDefault(),this.Qq[a.which]=!0,this.g.Gc=!0,this.g.trigger(hc.prototype.V.uz,this),this.Wk=
a.which-1,this.Xp=0,this.g.trigger(hc.prototype.V.vu,this),this.g.trigger(hc.prototype.V.zu,this),this.g.Gc=!1)};d.Pm=function(a){this.Qq[a.which]&&(this.g.lk&&!this.g.df&&a.preventDefault(),this.g.lk=!0,this.Qq[a.which]=!1,this.g.Gc=!0,this.Wk=a.which-1,this.g.trigger(hc.prototype.V.Hz,this),this.g.Gc=!1)};d.BD=function(a){this.cx()&&(a.preventDefault(),this.g.Gc=!0,this.Wk=a.which-1,this.Xp=1,this.g.trigger(hc.prototype.V.vu,this),this.g.trigger(hc.prototype.V.zu,this),this.g.Gc=!1)};d.ID=function(a){this.gy=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Kr=!1;this.g.Gc=!0;this.g.trigger(hc.prototype.V.Kz,this);this.g.Gc=!1;this.Kr&&eb(a)&&a.preventDefault()};a.prototype.vu=function(a,b){return a===this.Wk&&b===this.Xp};a.prototype.uz=function(){return!0};a.prototype.Hz=function(a){return a===this.Wk};a.prototype.zu=function(a,b,c){return a!==this.Wk||b!==this.Xp?!1:this.g.hn(c,this.si,this.ti)};a.prototype.Kz=function(a){this.Kr=!0;return a===this.gy};b.V=new a;b.ib=new function(){};c.prototype.Eq=
function(a,b){var c,d,e,k,m;ga(b)?(c=this.g.hh(0),d=c.scale,e=c.vd,k=c.Td,m=c.J,c.scale=1,c.vd=1,c.Td=1,c.J=0,a.ba(c.ic(this.si,this.ti,!0)),c.scale=d,c.vd=e,c.Td=k,c.J=m):(c=ha(b)?this.g.hh(b):this.g.Tl(b))?a.ba(c.ic(this.si,this.ti,!0)):a.ba(0)};c.prototype.Fq=function(a,b){var c,d,e,k,m;ga(b)?(c=this.g.hh(0),d=c.scale,e=c.vd,k=c.Ud,m=c.J,c.scale=1,c.vd=1,c.Ud=1,c.J=0,a.ba(c.ic(this.si,this.ti,!1)),c.scale=d,c.vd=e,c.Ud=k,c.J=m):(c=ha(b)?this.g.hh(b):this.g.Tl(b))?a.ba(c.ic(this.si,this.ti,!1)):
a.ba(0)};b.Tb=new c})();function gc(a){this.g=a}
(function(){function a(){if(0===this.ir.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Tk?b.drawImage(this.bb,this.Lk,this.Mk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.bb,0,0,this.width,this.height);this.ir=a.toDataURL("image/png")}return this.ir}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;m.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=m.length?m.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function g(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return q=a[b][2],!0;q=-2;return!1}var l=gc.prototype;l.rb=function(a){this.Xb=a;this.g=a.g};var h=l.rb.prototype;h.Fa=function(){if(!this.pa){var b,c,d,e,f,m,g,h,k;this.zf=[];this.Zl=!1;b=0;for(c=this.ae.length;b<c;b++){f=this.ae[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.tt=f[3];g.Bp=f[4];g.wx=
f[5];g.Na=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)m=f[7][d],h={},h.Lt=m[0],h.Mt=m[1],h.Lk=m[2],h.Mk=m[3],h.width=m[4],h.height=m[5],h.duration=m[6],h.Od=m[7],h.Pd=m[8],h.Or=m[9],h.qp=m[10],h.xx=m[11],h.Tk=0!==h.width,h.ir="",h.NF=a,k={left:0,top:0,right:1,bottom:1},h.Bt=k,h.Eb=null,(k=this.g.WB(m[0]))?h.bb=k:(h.bb=new Image,h.bb.MA=m[0],h.bb.zv=m[1],h.bb.HA=null,this.g.By(h.bb,m[0])),g.frames.push(h),this.zf.push(h);this.ae[b]=g}}};h.qy=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=
this.C[a],c.ho=c.Ve.Eb};h.np=function(){if(!this.pa){var a,b,c;a=0;for(b=this.zf.length;a<b;++a)c=this.zf[a],c.bb.HA=null,c.Eb=null;this.Zl=!1;this.qy()}};h.et=function(){if(!this.pa&&this.C.length){var a,b,c;a=0;for(b=this.zf.length;a<b;++a)c=this.zf[a],c.Eb=this.g.Z.Wo(c.bb,!1,this.g.Za,c.xx);this.qy()}};h.ws=function(){if(!this.pa&&!this.Zl&&this.g.Z){var a,b,c;a=0;for(b=this.zf.length;a<b;++a)c=this.zf[a],c.Eb=this.g.Z.Wo(c.bb,!1,this.g.Za,c.xx);this.Zl=!0}};h.St=function(){if(!this.pa&&!this.C.length&&
this.Zl){var a,b,c;a=0;for(b=this.zf.length;a<b;++a)c=this.zf[a],this.g.Z.deleteTexture(c.Eb),c.Eb=null;this.Zl=!1}};var n=[];h.jt=function(a){var b,c,d;b=n.length=0;for(c=this.zf.length;b<c;++b)d=this.zf[b].bb,-1===n.indexOf(d)&&(a.drawImage(d,0,0),n.push(d))};l.Va=function(a){this.type=a;this.g=a.g;a=this.type.ae[0].frames[0].qp;this.Ne?this.ua.cn(a):this.ua=new Ya(a)};var k=l.Va.prototype;k.Fa=function(){this.visible=0===this.aa[0];this.fg=0!==this.aa[3];1===this.type.ae.length&&1===this.type.ae[0].frames.length||
0===this.type.ae[0].speed||this.g.ey(this);this.zb=this.Ov(this.aa[1])||this.type.ae[0];this.da=this.aa[2];0>this.da&&(this.da=0);this.da>=this.zb.frames.length&&(this.da=this.zb.frames.length-1);var a=this.zb.frames[this.da];this.ua.cn(a.qp);this.Od=a.Od;this.Pd=a.Pd;this.Il=this.zb.speed;this.Ne?this.cg.reset():this.cg=new Wa;this.gh=this.cg.$c;this.Ti=!0;this.Ug=0;this.Si=!0;this.Vq=this.dv="";this.IA=0;this.Uq=-1;this.type.ws();var b,c,d,e,f,m,g,a=0;for(b=this.type.ae.length;a<b;a++)for(e=this.type.ae[a],
c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.bb.width,f.height=f.bb.height),f.Tk&&(g=f.bb,m=f.Bt,m.left=f.Lk/g.width,m.top=f.Mk/g.height,m.right=(f.Lk+f.width)/g.width,m.bottom=(f.Mk+f.height)/g.height,0===f.Lk&&0===f.Mk&&f.width===g.width&&f.height===g.height&&(f.Tk=!1));this.Ve=this.zb.frames[this.da];this.ho=this.Ve.Eb};k.Kd=function(){var a={a:this.zb.Na,f:this.da,cas:this.Il,fs:this.gh,ar:this.Ug,at:this.cg.$c};this.Ti||(a.ap=this.Ti);this.Si||(a.af=this.Si);return a};
k.ie=function(a){var b=this.ZB(a.a);b&&(this.zb=b);this.da=a.f;0>this.da&&(this.da=0);this.da>=this.zb.frames.length&&(this.da=this.zb.frames.length-1);this.Il=a.cas;this.gh=a.fs;this.Ug=a.ar;this.cg.reset();this.cg.$c=a.at;this.Ti=a.hasOwnProperty("ap")?a.ap:!0;this.Si=a.hasOwnProperty("af")?a.af:!0;this.Ve=this.zb.frames[this.da];this.ho=this.Ve.Eb;this.ua.cn(this.Ve.qp);this.Od=this.Ve.Od;this.Pd=this.Ve.Pd};k.Mq=function(a){this.da=a?0:this.zb.frames.length-1;this.Ti=!1;this.dv=this.zb.name;this.g.trigger(gc.prototype.V.tz,
this);this.g.trigger(gc.prototype.V.sz,this);this.Ug=0};k.PF=function(){return this.cg.$c};k.Wd=function(){this.cg.add(this.g.Sl(this));this.Vq.length&&this.SA();0<=this.Uq&&this.TA();var a=this.cg.$c,b=this.zb,c=b.frames[this.da],d=c.duration/this.Il;this.Ti&&a>=this.gh+d&&(this.Si?this.da++:this.da--,this.gh+=d,this.da>=b.frames.length&&(b.wx?(this.Si=!1,this.da=b.frames.length-2):b.loop?this.da=b.Bp:(this.Ug++,this.Ug>=b.tt?this.Mq(!1):this.da=b.Bp)),0>this.da&&(b.wx?(this.da=1,this.Si=!0,b.loop||
(this.Ug++,this.Ug>=b.tt&&this.Mq(!0))):b.loop?this.da=b.Bp:(this.Ug++,this.Ug>=b.tt?this.Mq(!0):this.da=b.Bp)),0>this.da?this.da=0:this.da>=b.frames.length&&(this.da=b.frames.length-1),a>this.gh+b.frames[this.da].duration/this.Il&&(this.gh=a),a=b.frames[this.da],this.Yj(c,a),this.g.ob=!0)};k.Ov=function(a){var b,c,d;b=0;for(c=this.type.ae.length;b<c;b++)if(d=this.type.ae[b],db(d.name,a))return d;return null};k.ZB=function(a){var b,c,d;b=0;for(c=this.type.ae.length;b<c;b++)if(d=this.type.ae[b],d.Na===
a)return d;return null};k.SA=function(){var a=this.zb.frames[this.da],b=this.Ov(this.Vq);this.Vq="";!b||db(b.name,this.zb.name)&&this.Ti||(this.zb=b,this.Il=b.speed,0>this.da&&(this.da=0),this.da>=this.zb.frames.length&&(this.da=this.zb.frames.length-1),1===this.IA&&(this.da=0),this.Ti=!0,this.gh=this.cg.$c,this.Si=!0,this.Yj(a,this.zb.frames[this.da]),this.g.ob=!0)};k.TA=function(){var a=this.zb.frames[this.da],b=this.da;this.da=w(this.Uq);0>this.da&&(this.da=0);this.da>=this.zb.frames.length&&(this.da=
this.zb.frames.length-1);b!==this.da&&(this.Yj(a,this.zb.frames[this.da]),this.gh=this.cg.$c,this.g.ob=!0);this.Uq=-1};k.Yj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Od=b.Od;this.Pd=b.Pd;this.ua.cn(b.qp);this.Ga();this.Ve=b;this.ho=b.Eb;c=0;for(d=this.na.length;c<d;c++)e=this.na[c],e.ox&&e.ox(a,b);this.g.trigger(gc.prototype.V.Yj,this)};k.hg=function(a){a.globalAlpha=this.opacity;var b=this.Ve,c=b.Tk,d=b.bb,e=this.x,f=this.y,
m=this.width,g=this.height;if(0===this.J&&0<=m&&0<=g)e-=this.Od*m,f-=this.Pd*g,this.g.zg&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Lk,b.Mk,b.width,b.height,e,f,m,g):a.drawImage(d,e,f,m,g);else{this.g.zg&&(e=Math.round(e),f=Math.round(f));a.save();var h=0<m?1:-1,k=0<g?1:-1;a.translate(e,f);1===h&&1===k||a.scale(h,k);a.rotate(this.J*h*k);e=0-this.Od*ka(m);f=0-this.Pd*ka(g);c?a.drawImage(d,b.Lk,b.Mk,b.width,b.height,e,f,ka(m),ka(g)):a.drawImage(d,e,f,ka(m),ka(g));a.restore()}};k.Ye=function(a){a.pe(this.ho);
a.Jj(this.opacity);var b=this.Ve,c=this.lb;if(this.g.zg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Tk?a.Ag(c.$b+d,c.ac+e,c.td+d,c.ud+e,c.hd+d,c.jd+e,c.fd+d,c.gd+e,b.Bt):a.vp(c.$b+d,c.ac+e,c.td+d,c.ud+e,c.hd+d,c.jd+e,c.fd+d,c.gd+e)}else b.Tk?a.Ag(c.$b,c.ac,c.td,c.ud,c.hd,c.jd,c.fd,c.gd,b.Bt):a.vp(c.$b,c.ac,c.td,c.ud,c.hd,c.jd,c.fd,c.gd)};k.dC=function(a){var b=this.Ve,c,d;c=0;for(d=b.Or.length;c<d;c++)if(db(a,b.Or[c][0]))return c;return-1};k.lg=function(a,b){var c=this.Ve,d=c.Or,
e;e=v(a)?this.dC(a):a-1;e=w(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Od)*this.width,d=d[e][2],d=(d-c.Pd)*this.height,c=Math.cos(this.J);e=Math.sin(this.J);var m=f*c-d*e,d=d*c+f*e,f=m+this.x,d=d+this.y;return b?f:d};var m=[],q=-2,p=[];c.prototype.wz=function(a){if(!a)return!1;var c=this.g,d=c.yo(),m=d.type;d.X.collmemory||(d.X.collmemory={},c.$u(function(a){return function(c){c=c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===c||e[1]===c)&&(b(a[d]),delete a[d])}}(d.X.collmemory)));
var d=d.X.collmemory,h=m.Ya(),k=a.Ya(),h=h.bf(),l,n,s,t,u,x,A,sa=this.g.Xd,M=sa-1,I=c.md().Ae;for(n=0;n<h.length;n++){s=h[n];k.nb?(s.Ha(),this.g.Fr(s.O,a,s.yb,p),l=p):l=k.bf();for(t=0;t<l.length;t++)u=l[t],c.Pp(s,u)||c.JA(s,u)?(x=f(d,s,u),x=!x||q<M,e(d,s,u,sa),x&&(c.tp(I.Qb),x=m.Ya(),A=a.Ya(),x.nb=!1,A.nb=!1,m===a?(x.C.length=2,x.C[0]=s,x.C[1]=u,m.Af()):(x.C.length=1,A.C.length=1,x.C[0]=s,A.C[0]=u,m.Af(),a.Af()),I.XD(),c.Hj(I.Qb))):g(d,s,u);p.length=0}return!1};var s=null,t=new ca,u=!1,x=[],A=new ra(0,
0,0,0);h.finish=function(a){if(u){if(a){var b=this.g.md().Ae.lf;a=s.Ya();var c=t.Yd(),d,e;if(a.nb){a.nb=!1;a.C.length=c.length;d=0;for(e=c.length;d<e;d++)a.C[d]=c[d];if(b)for(d=a.Xa.length=0,e=s.C.length;d<e;d++)c=s.C[d],t.contains(c)||a.Xa.push(c)}else if(b)for(b=a.C.length,a.C.length=b+c.length,d=0,e=c.length;d<e;d++)a.C[b+d]=c[d],Aa(a.Xa,c[d]);else wa(a.C,c);s.Af()}t.clear();u=!1}};c.prototype.kz=function(a){if(a){var b=!1,c,d,e,f=this.g.yo(),m=f.type,f=f.Fo;c=a.Ya();d=this.g.md().Ae.lf;var g;
c.nb?(this.Ha(),A.Hl(this.yb),A.offset(0,0),this.g.Fr(this.O,a,A,x),g=x):g=d?c.Xa:c.C;s=a;u=m!==a&&!f;c=0;for(d=g.length;c<d;c++)if(e=g[c],this.g.Pp(this,e)){b=!0;if(f)break;m!==a&&t.add(e)}x.length=0;a=b}else a=!1;return a};c.prototype.sz=function(a){return db(this.dv,a)};c.prototype.tz=function(){return!0};c.prototype.Yj=function(){return!0};l.V=new c;l.ib=new function(){};l.Tb=new function(){}})();function ic(a){this.g=a}
(function(){function a(){return l.length?l.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)l.push(a[b]);a.length=0}function b(){}function d(){}var e=ic.prototype;e.Fa=function(){e.ib.Tz=function(a){this.width!==a&&(this.width=a,this.Lj=!0,this.Ga())}};e.rb=function(a){this.Xb=a;this.g=a.g};var g=e.rb.prototype;g.Fa=function(){};g.np=function(){if(!this.pa){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.xg=null,c.Ej=null,c.le=null}};e.Va=function(a){this.type=a;this.g=a.g;this.Ne?
this.ji.length=0:this.ji=[];this.Lj=!0};g=e.Va.prototype;g.Fa=function(){this.text=this.aa[0];this.visible=0===this.aa[1];this.font=this.aa[2];this.color=this.aa[3];this.Eo=this.aa[4];this.bq=this.aa[5];this.cu=0===this.aa[7];this.qs=this.Po=this.width;this.Oo=this.height;this.us=this.aa[8];this.uo=this.gk="";this.by=this.cy=this.Ym=0;this.JD();this.le=this.Ej=this.xg=null;this.ix=!1;this.pm=this.g.Xd;this.Ne?this.yi.set(0,0,1,1):this.yi=new ra(0,0,1,1);this.g.Z&&this.g.ey(this)};g.JD=function(){var a=
this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Ym=parseInt(a[b].substr(0,a[b].length-2));this.mt=Math.ceil(this.Ym/72*96)+4;0<b&&(this.uo=a[b-1]);this.gk=a[b+1];for(b+=2;b<a.length;b++)this.gk+=" "+a[b];break}};g.Kd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Eo,va:this.bq,wr:this.cu,lho:this.us,fn:this.gk,fs:this.uo,ps:this.Ym,pxh:this.mt,tw:this.cy,th:this.by,lrt:this.pm}};g.ie=function(a){this.text=a.t;this.font=a.f;this.color=a.c;
this.Eo=a.ha;this.bq=a.va;this.cu=a.wr;this.us=a.lho;this.gk=a.fn;this.uo=a.fs;this.Ym=a.ps;this.mt=a.pxh;this.cy=a.tw;this.by=a.th;this.pm=a.lrt;this.Lj=!0;this.qs=this.Po=this.width;this.Oo=this.height};g.Wd=function(){if(this.g.Z&&this.le&&300<=this.g.Xd-this.pm){var a=this.O;this.Ha();var b=this.yb;if(b.right<a.cc||b.bottom<a.ec||b.left>a.wc||b.top>a.vc)this.g.Z.deleteTexture(this.le),this.xg=this.Ej=this.le=null}};g.Gj=function(){this.xg=this.Ej=null;this.g.Z&&this.le&&this.g.Z.deleteTexture(this.le);
this.le=null};g.bG=function(){this.font=this.uo+" "+this.Ym.toString()+"pt "+this.gk;this.Lj=!0;this.g.ob=!0};g.hg=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.O.Ce(),a.save(),a.scale(c,c));if(this.Lj||this.width!==this.qs)this.type.Xb.fA(this.text,this.ji,a,this.width,this.cu),this.Lj=!1,this.qs=this.width;this.Ha();var c=b?0:this.lb.$b,d=b?0:this.lb.ac;this.g.zg&&(c=c+.5|0,d=d+.5|0);0===this.J||b||(a.save(),a.translate(c,
d),a.rotate(this.J),d=c=0);var e=d+this.height,f=this.mt,f=f+this.us,g,l;1===this.bq?d+=Math.max(this.height/2-this.ji.length*f/2,0):2===this.bq&&(d+=Math.max(this.height-this.ji.length*f-2,0));for(l=0;l<this.ji.length&&!(g=c,1===this.Eo?g=c+(this.width-this.ji[l].width)/2:2===this.Eo&&(g=c+(this.width-this.ji[l].width)),a.fillText(this.ji[l].text,g,d),d+=f,d>=e-f);l++);(0!==this.J||b)&&a.restore();this.pm=this.g.Xd};g.Ye=function(a){if(!(1>this.width||1>this.height)){var b=this.Lj||this.ix;this.ix=
!1;var c=this.O.Ce(),d=this.O.Be(),e=this.yi,f=c*this.width,g=c*this.height,l=Math.ceil(f),u=Math.ceil(g),x=this.g.Ka/2,A=this.g.Ja/2;this.Ej||(this.xg=document.createElement("canvas"),this.xg.width=l,this.xg.height=u,this.Po=l,this.Oo=u,b=!0,this.Ej=this.xg.getContext("2d"));if(l!==this.Po||u!==this.Oo)this.xg.width=l,this.xg.height=u,this.le&&(a.deleteTexture(this.le),this.le=null),b=!0;b&&(this.Ej.clearRect(0,0,l,u),this.hg(this.Ej,!0),this.le||(this.le=a.Xg(l,u,this.g.Za,this.g.df)),a.yE(this.xg,
this.le,this.g.df));this.Po=l;this.Oo=u;a.pe(this.le);a.Jj(this.opacity);a.Dg();a.translate(-x,-A);a.Lg();var D=this.lb,b=this.O.Pb(D.$b,D.ac,!0,!0),x=this.O.Pb(D.$b,D.ac,!1,!0),A=this.O.Pb(D.td,D.ud,!0,!0),y=this.O.Pb(D.td,D.ud,!1,!0),B=this.O.Pb(D.hd,D.jd,!0,!0),E=this.O.Pb(D.hd,D.jd,!1,!0),C=this.O.Pb(D.fd,D.gd,!0,!0),D=this.O.Pb(D.fd,D.gd,!1,!0);if(this.g.zg||0===this.J&&0===d)var G=(b+.5|0)-b,F=(x+.5|0)-x,b=b+G,x=x+F,A=A+G,y=y+F,B=B+G,E=E+F,C=C+G,D=D+F;0===this.J&&0===d?(A=b+l,y=x,B=A,E=x+u,
C=b,D=E,e.right=1,e.bottom=1):(e.right=f/l,e.bottom=g/u);a.Ag(b,x,A,y,B,E,C,D,e);a.Dg();a.scale(c,c);a.wt(-this.O.Be());a.translate((this.O.cc+this.O.wc)/-2,(this.O.ec+this.O.vc)/-2);a.Lg();this.pm=this.g.Xd}};var f=[];e.cA=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=
c,d++);b.length&&f.push(b)};var l=[];e.fA=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var l=e.measureText(b).width;if(l<=f){c(d);d.push(a());d[0].text=b;d[0].width=l;return}}this.gA(b,d,e,f,g)}else c(d)};e.gA=function(b,c,d,e,g){g&&(this.cA(b),b=f);var p="",s,t,u,x=0;for(u=0;u<b.length;u++)"\n"===b[u]?(x>=c.length&&c.push(a()),t=c[x],t.text=p,t.width=d.measureText(p).width,x++,p=""):(s=p,p+=b[u],t=d.measureText(p).width,t>=e&&(x>=c.length&&c.push(a()),
t=c[x],t.text=s,t.width=d.measureText(s).width,x++,p=b[u],g||" "!==p||(p="")));p.length&&(x>=c.length&&c.push(a()),t=c[x],t.text=p,t.width=d.measureText(p).width,x++);for(u=x;u<c.length;u++)l.push(c[u]);c.length=x};e.V=new function(){};b.prototype.Rz=function(a){ha(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Lj=!0,this.g.ob=!0)};e.ib=new b;d.prototype.Text=function(a){a.qe(this.text)};e.Tb=new d})();function jc(a){this.g=a}
(function(){var a=jc.prototype;a.rb=function(a){this.Xb=a;this.g=a.g};var c=a.rb.prototype;c.Fa=function(){this.pa||(this.bb=new Image,this.bb.zv=this.Mt,this.g.By(this.bb,this.Lt),this.Eb=this.pattern=null)};c.np=function(){this.pa||(this.Eb=null)};c.et=function(){if(!this.pa&&this.C.length){this.Eb||(this.Eb=this.g.Z.Wo(this.bb,!0,this.g.Za,this.Nt));var a,c;a=0;for(c=this.C.length;a<c;a++)this.C[a].Eb=this.Eb}};c.ws=function(){this.pa||this.Eb||!this.g.Z||(this.Eb=this.g.Z.Wo(this.bb,!0,this.g.Za,
this.Nt))};c.St=function(){this.pa||this.C.length||!this.Eb||(this.g.Z.deleteTexture(this.Eb),this.Eb=null)};c.jt=function(a){a.drawImage(this.bb,0,0)};a.Va=function(a){this.type=a;this.g=a.g};c=a.Va.prototype;c.Fa=function(){this.visible=0===this.aa[0];this.yi=new ra(0,0,0,0);this.aw=!1;this.bb=this.type.bb;this.g.Z?(this.type.ws(),this.Eb=this.type.Eb):(this.type.pattern||(this.type.pattern=this.g.mb.createPattern(this.type.bb,"repeat")),this.pattern=this.type.pattern)};c.Tg=function(){this.aw=
!1;this.bb=this.type.bb};c.Gj=function(){this.g.Z&&this.aw&&this.Eb&&(this.g.Z.deleteTexture(this.Eb),this.Eb=null)};c.hg=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.g.zg&&(c=Math.round(c),e=Math.round(e));var g=-(this.Od*this.width),f=-(this.Pd*this.height),l=g%this.bb.width,h=f%this.bb.height;0>l&&(l+=this.bb.width);0>h&&(h+=this.bb.height);a.translate(c,e);a.rotate(this.J);a.translate(l,h);a.fillRect(g-l,f-h,this.width,this.height);a.restore()};
c.Ye=function(a){a.pe(this.Eb);a.Jj(this.opacity);var c=this.yi;c.right=this.width/this.bb.width;c.bottom=this.height/this.bb.height;var e=this.lb;if(this.g.zg){var g=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.Ag(e.$b+g,e.ac+f,e.td+g,e.ud+f,e.hd+g,e.jd+f,e.fd+g,e.gd+f,c)}else a.Ag(e.$b,e.ac,e.td,e.ud,e.hd,e.jd,e.fd,e.gd,c)};a.V=new function(){};a.ib=new function(){};a.Tb=new function(){}})();function kc(a){this.g=a}
(function(){function a(a){n=a.x;k=a.y;m=a.z}function c(a){q=a.x;p=a.y;s=a.z}function b(a,b,c,e){var f;f=t.length?t.pop():new d;f.init(a,b,c,e);return f}function d(){this.en=this.id=this.y=this.x=this.Mp=this.Lp=this.ns=this.time=this.It=0;this.kn=this.Yp=!1}function e(){}function g(){}var f=kc.prototype;f.rb=function(a){this.Xb=a;this.g=a.g};f.rb.prototype.Fa=function(){};f.Va=function(a){this.type=a;this.g=a.g;this.touches=[];this.Ws=!1};var l=f.Va.prototype,h={left:0,top:0};l.Pl=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var n=0,k=0,m=0,q=0,p=0,s=0,t=[];d.prototype.init=function(a,b,c,d){var e=Qa();this.It=this.ns=this.time=e;this.Lp=a;this.Mp=b;this.x=a;this.y=b;this.id=c;this.en=d;this.kn=this.Yp=!1};d.prototype.update=function(a,b,c){this.ns=this.time;this.time=a;this.x=b;this.y=c;!this.kn&&15<=Ka(this.Lp,this.Mp,this.x,this.y)&&(this.kn=!0)};d.prototype.qD=function(a,b){!this.Yp&&500<=Qa()-this.It&&!this.kn&&15>Ka(this.Lp,this.Mp,
this.x,this.y)&&(this.Yp=!0,a.Kg=this.en,a.Xk=this.id,a.kk=b,a.g.trigger(kc.prototype.V.Cz,a),a.Zg=this.x,a.$g=this.y,a.g.trigger(kc.prototype.V.Dz,a),a.kk=0)};var u=-1E3,x=-1E3,A=-1E4;d.prototype.ax=function(a,b){if(!this.Yp){var c=Qa();333>=c-this.It&&!this.kn&&15>Ka(this.Lp,this.Mp,this.x,this.y)&&(a.Kg=this.en,a.Xk=this.id,a.kk=b,666>=c-A&&25>Ka(u,x,this.x,this.y)?(a.g.trigger(kc.prototype.V.yz,a),a.Zg=this.x,a.$g=this.y,a.g.trigger(kc.prototype.V.zz,a),x=u=-1E3,A=-1E4):(a.g.trigger(kc.prototype.V.Iz,
a),a.Zg=this.x,a.$g=this.y,a.g.trigger(kc.prototype.V.Jz,a),u=this.x,x=this.y,A=c),a.kk=0)}};l.Fa=function(){this.KC=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.kk=this.Xk=this.Kg=this.$g=this.Zg=this.Yu=this.Xu=this.Wu=this.uA=this.tA=this.sA=this.Um=this.Tm=this.Sm=0;this.vE=0!==this.aa[0];var b=0<this.g.Dd?document:this.g.canvas,d=document;this.g.ng?d=b=window.Canvas:this.g.De&&(d=b=window);var e=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",
function(a){e.Rm(a)},!1),b.addEventListener("pointermove",function(a){e.Qm(a)},!1),d.addEventListener("pointerup",function(a){e.Ah(a,!1)},!1),d.addEventListener("pointercancel",function(a){e.Ah(a,!0)},!1),this.g.canvas&&(this.g.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.g.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){e.Rm(a)},!1),b.addEventListener("MSPointerMove",function(a){e.Qm(a)},!1),d.addEventListener("MSPointerUp",function(a){e.Ah(a,!1)},!1),d.addEventListener("MSPointerCancel",function(a){e.Ah(a,!0)},!1),this.g.canvas&&(this.g.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",
function(a){e.pp(a)},!1),b.addEventListener("touchmove",function(a){e.op(a)},!1),d.addEventListener("touchend",function(a){e.Nk(a,!1)},!1),d.addEventListener("touchcancel",function(a){e.Nk(a,!0)},!1));if(this.KC){var f=function(a){a=a.reading;e.Wu=a.accelerationX;e.Xu=a.accelerationY;e.Yu=a.accelerationZ},m=function(a){a=a.reading;e.Sm=a.yawDegrees;e.Tm=a.pitchDegrees;e.Um=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",f));var l=Windows.Devices.Sensors.Inclinometer.getDefault();l&&(l.reportInterval=Math.max(l.minimumReportInterval,16),l.addEventListener("readingchanged",m));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",f),l&&l.removeEventListener("readingchanged",m)):(g&&g.addEventListener("readingchanged",f),l&&l.addEventListener("readingchanged",m))},!1)}else window.addEventListener("deviceorientation",
function(a){e.Sm=a.alpha||0;e.Tm=a.beta||0;e.Um=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.sA=a.accelerationIncludingGravity.x||0,e.tA=a.accelerationIncludingGravity.y||0,e.uA=a.accelerationIncludingGravity.z||0);a.acceleration&&(e.Wu=a.acceleration.x||0,e.Xu=a.acceleration.y||0,e.Yu=a.acceleration.z||0)},!1);this.vE&&!this.g.Ab&&(jQuery(document).mousemove(function(a){e.Om(a)}),jQuery(document).mousedown(function(a){e.Nm(a)}),jQuery(document).mouseup(function(a){e.Pm(a)}));
this.g.em&&!this.g.ng&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.g.Ef&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.g.mE(this)};l.Qm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Pl(a.pointerId),c=Qa();if(0<=b){var d=this.g.Ab?h:jQuery(this.g.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};l.Rm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.g.Ab?h:jQuery(this.g.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Qa();this.Kg=this.touches.length;this.Xk=a.pointerId;this.touches.push(b(d,c,a.pointerId,this.Kg));this.g.Gc=!0;this.g.trigger(kc.prototype.V.yu,this);this.g.trigger(kc.prototype.V.Cu,this);this.Zg=d;this.$g=c;this.g.trigger(kc.prototype.V.Bu,this);
this.g.Gc=!1}};l.Ah=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.Pl(a.pointerId);this.Kg=0<=c?this.touches[c].en:-1;this.Xk=0<=c?this.touches[c].id:-1;this.g.Gc=!0;this.g.trigger(kc.prototype.V.xu,this);this.g.trigger(kc.prototype.V.Au,this);0<=c&&(b||this.touches[c].ax(this,c),100>t.length&&t.push(this.touches[c]),this.touches.splice(c,1));this.g.Gc=!1}};l.op=function(a){a.preventDefault&&a.preventDefault();
var b=Qa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Pl(e.identifier),0<=f){var m=this.g.Ab?h:jQuery(this.g.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-m.left,e.pageY-m.top)}};l.pp=function(a){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.g.Ab?h:jQuery(this.g.canvas).offset();Qa();this.g.Gc=!0;var d,e,f,m;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],m=this.Pl(f.identifier),-1===m){m=f.pageX-c.left;var g=f.pageY-
c.top;this.Kg=this.touches.length;this.Xk=f.identifier;this.touches.push(b(m,g,f.identifier,this.Kg));this.g.trigger(kc.prototype.V.yu,this);this.g.trigger(kc.prototype.V.Cu,this);this.Zg=m;this.$g=g;this.g.trigger(kc.prototype.V.Bu,this)}this.g.Gc=!1};l.Nk=function(a,b){a.preventDefault&&eb(a)&&a.preventDefault();this.g.Gc=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Pl(e.identifier),0<=e&&(this.Kg=this.touches[e].en,this.Xk=this.touches[e].id,this.g.trigger(kc.prototype.V.xu,
this),this.g.trigger(kc.prototype.V.Au,this),b||this.touches[e].ax(this,e),100>t.length&&t.push(this.touches[e]),this.touches.splice(e,1));this.g.Gc=!1};l.LF=function(){return this.g.em&&0===this.Sm&&0!==m?90*m:this.g.Ef&&0===this.Sm&&0!==s?90*s:this.Sm};l.MF=function(){return this.g.em&&0===this.Tm&&0!==k?-90*k:this.g.Ef&&0===this.Tm&&0!==p?90*p:this.Tm};l.OF=function(){return this.g.em&&0===this.Um&&0!==n?90*n:this.g.Ef&&0===this.Um&&0!==q?90*q:this.Um};l.Nm=function(a){a.preventDefault&&this.g.lk&&
!this.g.df&&a.preventDefault();this.pp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Ws=!0};l.Om=function(a){this.Ws&&this.op({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};l.Pm=function(a){a.preventDefault&&this.g.lk&&!this.g.df&&a.preventDefault();this.g.lk=!0;this.Nk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Ws=!1};l.Rp=function(){var a,b,c,d=Qa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.ns=d),c.qD(this,
a)};e.prototype.Cu=function(){return!0};e.prototype.Au=function(){return!0};e.prototype.Bu=function(a){return a?this.g.hn(a,this.Zg,this.$g):!1};e.prototype.yu=function(a){a=Math.floor(a);return a===this.Kg};e.prototype.xu=function(a){a=Math.floor(a);return a===this.Kg};e.prototype.Cz=function(){return!0};e.prototype.Iz=function(){return!0};e.prototype.yz=function(){return!0};e.prototype.Dz=function(a){return a?this.g.hn(a,this.Zg,this.$g):!1};e.prototype.Jz=function(a){return a?this.g.hn(a,this.Zg,
this.$g):!1};e.prototype.zz=function(a){return a?this.g.hn(a,this.Zg,this.$g):!1};f.V=new e;g.prototype.Eq=function(a,b){var c=this.kk;if(0>c||c>=this.touches.length)a.ba(0);else{var d,e,f,m,g;ga(b)?(d=this.g.hh(0),e=d.scale,f=d.vd,m=d.Td,g=d.J,d.scale=1,d.vd=1,d.Td=1,d.J=0,a.ba(d.ic(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.vd=f,d.Td=m,d.J=g):(d=ha(b)?this.g.hh(b):this.g.Tl(b))?a.ba(d.ic(this.touches[c].x,this.touches[c].y,!0)):a.ba(0)}};g.prototype.Fq=function(a,b){var c=this.kk;if(0>
c||c>=this.touches.length)a.ba(0);else{var d,e,f,m,g;ga(b)?(d=this.g.hh(0),e=d.scale,f=d.vd,m=d.Ud,g=d.J,d.scale=1,d.vd=1,d.Ud=1,d.J=0,a.ba(d.ic(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.vd=f,d.Ud=m,d.J=g):(d=ha(b)?this.g.hh(b):this.g.Tl(b))?a.ba(d.ic(this.touches[c].x,this.touches[c].y,!1)):a.ba(0)}};f.Tb=new g})();
function lc(a){this.g=a;var c=this;this.g.Ab||(jQuery(document).mousemove(function(a){c.Om(a)}),jQuery(document).mousedown(function(a){c.Nm(a)}),jQuery(document).mouseup(function(a){c.Pm(a)}));a=0<this.g.Dd?document:this.g.canvas;this.g.ng?a=window.Canvas:this.g.De&&(a=window);window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Rm(a)},!1),a.addEventListener("pointermove",function(a){c.Qm(a)},!1),a.addEventListener("pointerup",function(a){c.Ah(a)},!1),a.addEventListener("pointercancel",
function(a){c.Ah(a)},!1)):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Rm(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Qm(a)},!1),a.addEventListener("MSPointerUp",function(a){c.Ah(a)},!1),a.addEventListener("MSPointerCancel",function(a){c.Ah(a)},!1)):(a.addEventListener("touchstart",function(a){c.pp(a)},!1),a.addEventListener("touchmove",function(a){c.op(a)},!1),a.addEventListener("touchend",function(a){c.Nk(a)},!1),a.addEventListener("touchcancel",
function(a){c.Nk(a)},!1))}
(function(){function a(a){var c,d;c=0;for(d=a.na.length;c<d;c++)if(a.na[c]instanceof b.Va)return a.na[c];return null}function c(){}var b=lc.prototype,d={left:0,top:0};b.Nm=function(a){1===a.which&&this.$s("leftmouse",a.pageX,a.pageY)};b.Om=function(a){1===a.which&&this.bt("leftmouse",a.pageX,a.pageY)};b.Pm=function(a){1===a.which&&this.ct("leftmouse")};b.pp=function(a){a.preventDefault&&eb(a)&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,
this.$s(e?e.toString():"<none>",d.pageX,d.pageY)};b.op=function(a){a.preventDefault&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,this.bt(e?e.toString():"<none>",d.pageX,d.pageY)};b.Nk=function(a){a.preventDefault&&eb(a)&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=d.identifier,this.ct(d?d.toString():"<none>")};b.Rm=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&
(a.preventDefault&&eb(a)&&a.preventDefault(),this.$s(a.pointerId.toString(),a.pageX,a.pageY))};b.Qm=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&a.preventDefault(),this.bt(a.pointerId.toString(),a.pageX,a.pageY))};b.Ah=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&eb(a)&&a.preventDefault(),this.ct(a.pointerId.toString()))};b.$s=function(b,c,e){var h=this.g.Ab?d:jQuery(this.g.canvas).offset();c-=h.left;
e-=h.top;var n,k,m,q,h=this.vi.Yd(),p,s,t,u=null;p=0;for(s=h.length;p<s;p++)if(t=h[p],n=a(t),n.enabled&&!n.$i&&(n=t.O.ic(c,e,!0),k=t.O.ic(c,e,!1),t.Ha(),t.Cc(n,k)))u?t.O.index>u.O.index?(u=t,m=n,q=k):t.O.index===u.O.index&&t.cf()>u.cf()&&(u=t,m=n,q=k):(u=t,m=n,q=k);u&&a(u).CD(b,m,q)};b.bt=function(b,c,e){var h=this.g.Ab?d:jQuery(this.g.canvas).offset();c-=h.left;e-=h.top;var n,k=this.vi.Yd(),m,q,p;m=0;for(q=k.length;m<q;m++)n=k[m],p=a(n),!p.enabled||!p.$i||p.$i&&p.lr!==b||(h=n.O.ic(c,e,!0),n=n.O.ic(c,
e,!1),p.GD(h,n))};b.ct=function(b){var c=this.vi.Yd(),d,e,n;d=0;for(e=c.length;d<e;d++)n=c[d],n=a(n),n.$i&&n.lr===b&&n.HD()};b.rb=function(a){this.behavior=a;this.g=a.g};b.rb.prototype.Fa=function(){};b.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g};var e=b.Va.prototype;e.Fa=function(){this.$i=!1;this.eb=this.cb=0;this.lr="<none>";this.Nq=this.aa[0];this.enabled=0!==this.aa[1]};e.Kd=function(){return{enabled:this.enabled}};e.ie=function(a){this.enabled=a.enabled;this.$i=
!1};e.CD=function(a,b,c){this.cb=b-this.A.x;this.eb=c-this.A.y;this.$i=!0;this.lr=a;this.g.Gc=!0;this.g.trigger(lc.prototype.V.Az,this.A);this.g.Gc=!1};e.GD=function(a,b){var c=a-this.cb,d=b-this.eb;if(0===this.Nq){if(this.A.x!==c||this.A.y!==d)this.A.x=c,this.A.y=d,this.A.Ga()}else 1===this.Nq?this.A.x!==c&&(this.A.x=c,this.A.Ga()):2===this.Nq&&this.A.y!==d&&(this.A.y=d,this.A.Ga())};e.HD=function(){this.$i=!1;this.g.Gc=!0;this.g.trigger(lc.prototype.V.Bz,this.A);this.g.Gc=!1};e.Wd=function(){};
c.prototype.Az=function(){return!0};c.prototype.Bz=function(){return!0};c.prototype.Gn=function(){return!!this.enabled};b.V=new c;b.ib=new function(){};b.Tb=new function(){}})();function mc(a){this.g=a}
(function(){var a=mc.prototype;a.rb=function(a){this.behavior=a;this.g=a.g};a.rb.prototype.Fa=function(){};a.Va=function(a,c){this.type=a;this.behavior=a.behavior;this.A=c;this.g=a.g;this.Et=this.Dt=this.Ct=this.Ft=this.Nr=this.Cp=this.So=this.no=this.aq=!1;this.ms=this.ls=this.ks=this.os=-1;this.eb=this.cb=0};var c=a.Va.prototype;c.Fa=function(){this.Jm=this.aa[0];this.bg=this.aa[1];this.gg=this.aa[2];this.kr=this.aa[3];this.Lq=this.aa[4];this.PA=1===this.aa[5];this.enabled=0!==this.aa[6];this.PA&&
!this.g.Ab&&(jQuery(document).keydown(function(a){return function(c){a.ED(c)}}(this)),jQuery(document).keyup(function(a){return function(c){a.FD(c)}}(this)))};c.Kd=function(){return{dx:this.cb,dy:this.eb,enabled:this.enabled,maxspeed:this.Jm,acc:this.bg,dec:this.gg,ignoreInput:this.Nr}};c.ie=function(a){this.cb=a.dx;this.eb=a.dy;this.enabled=a.enabled;this.Jm=a.maxspeed;this.bg=a.acc;this.gg=a.dec;this.Nr=a.ignoreInput;this.Et=this.Dt=this.Ct=this.Ft=this.Cp=this.So=this.no=this.aq=!1;this.ms=this.ls=
this.ks=this.os=-1};c.ED=function(a){var c=this.g.Xd;switch(a.which){case 37:a.preventDefault();this.ls<c&&(this.So=!0);break;case 38:a.preventDefault();this.os<c&&(this.aq=!0);break;case 39:a.preventDefault();this.ms<c&&(this.Cp=!0);break;case 40:a.preventDefault(),this.ks<c&&(this.no=!0)}};c.FD=function(a){var c=this.g.Xd;switch(a.which){case 37:a.preventDefault();this.So=!1;this.ls=c;break;case 38:a.preventDefault();this.aq=!1;this.os=c;break;case 39:a.preventDefault();this.Cp=!1;this.ms=c;break;
case 40:a.preventDefault(),this.no=!1,this.ks=c}};c.Wd=function(){var a=this.g.Sl(this.A),c=this.So||this.Dt,e=this.Cp||this.Et,g=this.aq||this.Ft,f=this.no||this.Ct;this.Ct=this.Ft=this.Et=this.Dt=!1;if(this.enabled){var l=this.g.Vk(this.A);if(l&&(this.g.$m(this.A,l),!this.g.TD(this.A)))return;this.Nr&&(f=g=e=c=!1);0===this.kr?e=c=!1:1===this.kr&&(f=g=!1);2===this.kr&&(g||f)&&(e=c=!1);c==e&&(0>this.cb?(this.cb+=this.gg*a,0<this.cb&&(this.cb=0)):0<this.cb&&(this.cb-=this.gg*a,0>this.cb&&(this.cb=
0)));g==f&&(0>this.eb?(this.eb+=this.gg*a,0<this.eb&&(this.eb=0)):0<this.eb&&(this.eb-=this.gg*a,0>this.eb&&(this.eb=0)));c&&!e&&(this.cb=0<this.cb?this.cb-(this.bg+this.gg)*a:this.cb-this.bg*a);e&&!c&&(this.cb=0>this.cb?this.cb+(this.bg+this.gg)*a:this.cb+this.bg*a);g&&!f&&(this.eb=0<this.eb?this.eb-(this.bg+this.gg)*a:this.eb-this.bg*a);f&&!g&&(this.eb=0>this.eb?this.eb+(this.bg+this.gg)*a:this.eb+this.bg*a);if(0!==this.cb||0!==this.eb){Math.sqrt(this.cb*this.cb+this.eb*this.eb)>this.Jm&&(l=Math.atan2(this.eb,
this.cb),this.cb=this.Jm*Math.cos(l),this.eb=this.Jm*Math.sin(l));e=this.A.x;g=this.A.y;c=this.A.J;this.A.x+=this.cb*a;this.A.Ga();if(l=this.g.Vk(this.A))this.A.x=e,this.cb=0,this.A.Ga(),this.g.$m(this.A,l);this.A.y+=this.eb*a;this.A.Ga();if(l=this.g.Vk(this.A))this.A.y=g,this.eb=0,this.A.Ga(),this.g.$m(this.A,l);a=cb(this.cb);l=cb(this.eb);if(0!==a||0!==l)1===this.Lq?this.A.J=Fa(90*Math.round(Ba(Math.atan2(l,a))/90)):2===this.Lq?this.A.J=Fa(45*Math.round(Ba(Math.atan2(l,a))/45)):3===this.Lq&&(this.A.J=
Math.atan2(l,a));this.A.Ga();this.A.J!=c&&(l=this.g.Vk(this.A))&&(this.A.J=c,this.A.Ga(),this.g.$m(this.A,l))}}};a.V=new function(){};a.ib=new function(){};a.Tb=new function(){}})();function nc(a){this.g=a}
(function(){function a(){}var c=nc.prototype;c.rb=function(a){this.behavior=a;this.g=a.g};var b=c.rb.prototype;b.Fa=function(){this.Fj=[]};b.JF=function(a){var b,c,d;b=0;for(c=a.na.length;b<c;++b)if(d=a.na[b],d instanceof nc.prototype.Va&&d.type===this)return d;return null};c.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g};b=c.Va.prototype;b.Fa=function(){this.xD=this.aa[0];this.zp=this.aa[1];this.Zq=z(this.aa[2]);this.uy=0!==this.aa[3]};b.Gj=function(){};b.Kd=function(){var a=
{r:this.zp,c:this.Zq,t:[]},b,c;b=0;for(c=this.type.Fj.length;b<c;b++)a.t.push(this.type.Fj[b].Na);return a};b.ie=function(a){this.zp=a.r;this.Zq=a.c;this.type.Fj.length=0;var b,c,d;b=0;for(c=a.t.length;b<c;b++)(d=this.g.Vl(a.t[b]))&&this.type.Fj.push(d)};b.Wd=function(){};var d=[],e=new ra(0,0,0,0);b.RF=function(a,b){var c=this.A.x,h=this.A.y,n=this.A.J;0>this.A.width&&(n+=Math.PI);if(Ka(c,h,a,b)>this.zp||Ha(n,Ga(c,h,a,b))>this.Zq/2)return!1;var k,m;e.set(c,h,a,b);e.normalize();if(0===this.xD)for(this.uy?
this.g.Vv(this.A.O,e,d):(n=this.g.Gt)&&xa(d,n.vi.Yd()),n=0,k=d.length;n<k;++n){if(m=d[n],m.X.solidEnabled&&m!==this.A&&this.g.$x(c,h,a,b,m))return d.length=0,!1}else{if(this.uy)this.g.Wv(this.A.O,this.type.Fj,e,d);else for(n=0,k=this.type.Fj.length;n<k;++n)xa(d,this.type.Fj[n].C);n=0;for(k=d.length;n<k;++n)if(m=d[n],m!==this.A&&this.g.$x(c,h,a,b,m))return d.length=0,!1}d.length=0;return!0};new ca;new ca;c.V=new function(){};c.ib=new function(){};a.prototype.Range=function(a){a.ba(this.zp)};c.Tb=new a})();
function K(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ea("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.ek;this.sb=new k;this.tb=new k;this.Vf=null;void 0!==a&&(this.L=a);void 0!==b&&(this.N=b);void 0!==d&&this.sb.H(d);void 0!==e&&this.tb.H(e);this.Jk=this.Zw=this.Wt=this.Bs=this.Cg=0;this.fk=this.aj=!1}function c(a){this.L=a.L;this.N=a.N;this.Vf=a.Vf;this.type=a.type;this.next=null}function b(a,
b){this.bp=[];this.Db=[];this.wj=[];this.ph=null;this.dD=[];this.Lb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.Hb=a;this.Cb=b;this.kD=c}function g(a,b){var c=a.Vf;a.Vf=null;this.Ca=b;this.D=new h(a.position,n.Tj(a.J));this.Cm=[];this.ym=a.hc;a.type===g.ye&&(a.Cf=0);this.lc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Lb,a);a.Vf=c}function f(a,b,c,d){this.Am=a;this.Gs=c;this.xh={};this.xh.Fd=k.u(0,0);this.ep=!1;this.cp=d.Cf;this.Is=d.kg;this.Qs=
d.Eg;this.ep=d.Xr}function l(){}function h(a,b){this.position=k.u(0,0);this.n=new n;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.H(a),this.n.vf(b))}function n(){this.j=k.u(0,0);this.k=k.u(0,0);this.Qh()}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}N=k;k.Sg=[];k.u=function(a,b){if(0<N.Sg.length){var c=N.Sg.pop();c.Set(a,b);return c}return new N(a,b)};k.fc=function(a){1E4>N.Sg.length&&N.Sg.push(a)};k.prototype.ga=function(){this.y=this.x=0};k.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};k.prototype.H=function(a){this.x=a.x;this.y=a.y};k.ZE=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return k.u(a,b)};k.prototype.nc=function(){return k.u(this.x,this.y)};k.prototype.Og=function(a){this.x+=a.x;this.y+=a.y};k.prototype.Cq=function(a){this.x-=a.x;this.y-=a.y};k.prototype.zd=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};k.prototype.$f=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};k.prototype.In=function(){return this.x*
this.x+this.y*this.y};k.prototype.Ad=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};k.prototype.sq=function(){this.x=-this.x;this.y=-this.y};O=n;n.Tj=function(a){void 0===a&&(a=0);var b=new n;b.Set(a);return b};n.Zf=function(a,b){var c=new n;c.Aq(a,b);return c};n.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};n.prototype.Aq=function(a,b){this.j.H(a);
this.k.H(b)};n.prototype.nc=function(){var a=new n;a.vf(this);return a};n.prototype.vf=function(a){this.j.H(a.j);this.k.H(a.k)};n.prototype.rn=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};n.prototype.Qh=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};n.prototype.ga=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};n.prototype.xd=function(){return Math.atan2(this.j.y,this.j.x)};n.prototype.lq=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,e=this.k.y,
f=b*e-c*d;0!==f&&(f=1/f);a.j.x=f*e;a.k.x=-f*c;a.j.y=-f*d;a.k.y=f*b;return a};n.prototype.Rh=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,e=this.k.x,f=this.j.y,g=this.k.y,k=d*g-e*f;0!==k&&(k=1/k);a.x=k*(g*b-e*c);a.y=k*(d*c-f*b);return a};n.prototype.Ng=function(){this.j.Ng();this.k.Ng()};oc=h;h.prototype.gc=function(a,b){this.position.H(a);this.n.vf(b)};h.prototype.Qh=function(){this.position.ga();this.n.Qh()};h.prototype.Set=function(a){this.position.H(a.position);this.n.vf(a.n)};
h.prototype.Jn=function(){return Math.atan2(this.n.j.y,this.n.j.x)};P=l;l.Hn=function(a){void 0===a&&(a=0);return isFinite(a)};l.Fb=function(a,b){return a.x*b.x+a.y*b.y};l.Gi=function(a,b){return a.x*b.y-a.y*b.x};l.Pg=function(a,b){void 0===b&&(b=0);return k.u(b*a.y,-b*a.x)};l.hq=function(a,b){void 0===a&&(a=0);return k.u(-a*b.y,a*b.x)};l.Rb=function(a,b){return k.u(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};l.Qg=function(a,b){return k.u(l.Fb(b,a.j),l.Fb(b,a.k))};l.yc=function(a,b){var c=l.Rb(a.n,
b);c.x+=a.position.x;c.y+=a.position.y;return c};l.qq=function(a,b){var c=l.qb(b,a.position),d=c.x*a.n.j.x+c.y*a.n.j.y;c.y=c.x*a.n.k.x+c.y*a.n.k.y;c.x=d;return c};l.el=function(a,b){return k.u(a.x+b.x,a.y+b.y)};l.qb=function(a,b){return k.u(a.x-b.x,a.y-b.y)};l.Zy=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};l.ju=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};l.pz=function(a,b){void 0===a&&(a=0);return k.u(a*b.x,a*b.y)};l.Gy=function(a,b){return n.Zf(l.el(a.j,b.j),l.el(a.k,
b.k))};l.qz=function(a,b){return n.Zf(l.Rb(a,b.j),l.Rb(a,b.k))};l.rz=function(a,b){var c=k.u(l.Fb(a.j,b.j),l.Fb(a.k,b.j)),d=k.u(l.Fb(a.j,b.k),l.Fb(a.k,b.k));return n.Zf(c,d)};l.Ng=function(a){void 0===a&&(a=0);return 0<a?a:-a};l.bl=function(a){return k.u(l.Ng(a.x),l.Ng(a.y))};l.Ey=function(a){return n.Zf(l.bl(a.j),l.bl(a.k))};l.tu=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};l.uu=function(a,b){return k.u(l.tu(a.x,b.x),l.tu(a.y,b.y))};l.ru=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};l.su=function(a,b){return k.u(l.ru(a.x,b.x),l.ru(a.y,b.y))};l.xb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};l.Ny=function(a,b,c){return l.su(b,l.uu(a,c))};l.AF=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};l.mF=function(){return 2*Math.random()-1};l.nF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};l.eF=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};l.WE=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};l.DA=new k(0,0);l.CA=n.Zf(new k(1,0),new k(0,1));l.HF=new h(l.DA,l.CA);Q=function(){this.position=k.u(0,0);this.vs=k.u(0,0);this.Vf=null;this.J=0;this.vs.Set(0,0);this.Ri=this.pj=this.cv=0;this.jv=this.bv=!0;this.Vi=this.tr=!1;this.type=g.ye;this.hc=!0;this.cw=1};pc=f;f.prototype.Pa=function(){return this.Am};f.prototype.xc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};f.prototype.Li=function(){return this.ep};qc=g;g.prototype.Rj=function(a){var b=a.Vf;a.Vf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ca.Lb,this.lc,a);a.Vf=b;a=new f(this,0,c,a);this.Ca.wj[c]=a;this.Cm.push(a);return a};g.prototype.kq=function(){return 0===this.Cm.length?null:this.Cm[0]};g.prototype.iu=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ca.Lb,a.Gs);delete this.Ca.wj[a.Gs]};g.prototype.wl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ca.Lb,this.lc,a.x,a.y,b);this.D.n.Set(b);this.D.position.H(a)};g.prototype.zq=function(a){this.wl(a,this.xd())};g.prototype.Ii=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ca.Lb,this.lc);return k.u(a[0],a[1])};g.prototype.Vj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ca.Lb,this.lc);return k.u(a[0],a[1])};g.prototype.Ji=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ca.Lb,this.lc);return k.u(a[0],a[1])};
g.prototype.dd=function(a){return l.qq(this.D,a)};g.prototype.fl=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyImpulse",this.Ca.Lb,this.lc,a.x,a.y,b.x,b.y,c)};g.prototype.Uj=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ca.Lb,this.lc)};g.prototype.ed=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ca.Lb,this.lc)};g.prototype.Bn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ca.Lb,this.lc)};g.prototype.zc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",
this.Ca.Lb,this.lc,a)};g.prototype.Ni=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.Ca.Lb,this.lc,a.x,a.y)};g.prototype.tf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ca.Lb,this.lc,a.x,a.y,b.x,b.y,c)};g.prototype.sn=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ca.Lb,this.lc,a,b)};g.prototype.tl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ca.Lb,this.lc,a)};g.prototype.Ph=function(){return this.ym};
g.prototype.xd=function(){return this.D.n.xd()};g.prototype.Jn=function(a){void 0===a&&(a=0);this.wl(this.D.position,a)};g.prototype.Mh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ca.Lb,this.lc),b=[],c=0;c<a.length;c++)b.push(this.Ca.bp[a[c]]);return b};qc.ye=0;qc.lv=1;qc.oc=2;e.prototype.oq=function(){return this.kD};rc=d;d.prototype.tn=function(){};rc.kv=new d;sc=function(){};tc=b;b.prototype.Ju=function(a){this.ph=a};b.prototype.Iu=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",
this.Lb,function(c,d){return a.Oi(b.wj[c],b.wj[d])})};b.prototype.gq=function(a){a=new g(a,this);return this.bp[a.lc]=a};b.prototype.yn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Lb,a.lc);delete this.bp[a.lc];for(var b=0;b<a.Cm.length;++b)delete this.wj[a.Cm[b].Gs]};b.prototype.xn=function(a){if(a.L.lc!==a.N.lc){var b=a.L,d=a.N;a.L=b.lc;a.N=d.lc;var e="createDistanceJoint";a.type===c.ek&&(e="createRevoluteJoint");var f=new c(a);f.cD=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Lb,
a);a.L=b;a.N=d;this.dD.push(f);return f}};b.prototype.zn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.Lb,a.cD)};b.prototype.Ku=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setGravity",this.Lb,a.x,a.y)};b.prototype.Rg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Lb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.bp[c[a+0]];if(null===d)break;d.D.position.Set(c[a+1],c[a+2]);d.D.n.Set(c[a+3])}if(null!==this.ph)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",
this.Lb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.wj[c[a+0]],g=this.wj[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.ph.tn(new e(f,g,d))}};b.prototype.hu=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Lb)};uc=function(a){this.xp=a;this.type="circle"};V=function(){};V.prototype.Kn=function(a,b){this.type="box";this.width=a;this.height=b};V.prototype.Gu=function(){this.type="edge"};V.prototype.ul=function(a,
b){this.type="polygon";this.Ay=[];for(var c=0;c<b;c++)this.Ay.push(a[c].x),this.Ay.push(a[c].y)};vc=function(){this.Vf=this.shape=null;this.kg=.2;this.Cf=this.Eg=0;this.Xr=!1;this.filter={ck:1,Hk:65535,ci:0}};Z=c;c.prototype.jl=function(){return this.L};c.prototype.jq=function(){return this.N};c.prototype.Lc=function(){return this.type};c.mr=0;c.ek=1;wc=function(a,b,d,e){this.type=c.mr;this.sb=k.u(0,0);this.tb=k.u(0,0);this.Vf=null;void 0!==a&&(this.L=a);void 0!==b&&(this.N=b);void 0!==d&&this.sb.H(d);
void 0!==e&&this.tb.H(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.jo=this.wo=0};a.prototype.gc=function(a,b,c){this.L=a;this.N=b;this.sb=this.L.dd(c);this.tb=this.N.dd(c);this.Cg=this.N.xd()-this.L.xd()};xc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var P={},yc=2/180*Math.PI,zc=8/180*Math.PI,Ac=.5*Math.PI,Bc=Ac*Ac,Cc=2/180*Math.PI,Dc=Number.MIN_VALUE*Number.MIN_VALUE;P.Fb=function(a,
c){return a.x*c.x+a.y*c.y};P.Gi=function(a,c){return a.x*c.y-a.y*c.x};P.Pg=function(a,c){return N.u(c*a.y,-c*a.x)};P.hq=function(a,c){return N.u(-a*c.y,a*c.x)};P.Rb=function(a,c){return N.u(a.j.x*c.x+a.k.x*c.y,a.j.y*c.x+a.k.y*c.y)};P.Qg=function(a,c){return N.u(P.Fb(c,a.j),P.Fb(c,a.k))};P.yc=function(a,c){var b=P.Rb(a.n,c);b.x+=a.position.x;b.y+=a.position.y;return b};P.qq=function(a,c){var b=P.qb(c,a.position),d=b.x*a.n.j.x+b.y*a.n.j.y;b.y=b.x*a.n.k.x+b.y*a.n.k.y;b.x=d;return b};P.el=function(a,
c){return N.u(a.x+c.x,a.y+c.y)};P.qb=function(a,c){return N.u(a.x-c.x,a.y-c.y)};P.Zy=function(a,c){return Math.sqrt(P.ju(a,c))};P.ju=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};P.pz=function(a,c){return N.u(a*c.x,a*c.y)};P.Gy=function(a,c){return O.Zf(P.el(a.j,c.j),P.el(a.k,c.k))};P.qz=function(a,c){return O.Zf(P.Rb(a,c.j),P.Rb(a,c.k))};P.rz=function(a,c){var b=N.u(P.Fb(a.j,c.j),P.Fb(a.k,c.j)),d=N.u(P.Fb(a.j,c.k),P.Fb(a.k,c.k));return O.Zf(b,d)};P.bl=function(a){return N.u(Math.abs(a.x),
Math.abs(a.y))};P.Ey=function(a){return O.Zf(P.bl(a.j),P.bl(a.k))};P.xb=function(a,c,b){return a<c?c:a>b?b:a};P.Ny=function(a,c,b){return N.u(P.xb(a.x,c.x,b.x),P.xb(a.y,c.y,b.y))};var O=function(){this.j=N.u(0,0);this.k=N.u(0,0);this.Qh()};O.Tj=function(a){var c=new O;c.Set(a);return c};O.Zf=function(a,c){var b=new O;b.Aq(a,c);return b};r=O.prototype;r.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.j.Set(c,a);this.k.Set(-a,c)};r.Aq=function(a,c){this.j.H(a);this.k.H(c)};r.nc=function(){var a=
new O;a.vf(this);return a};r.vf=function(a){this.j.H(a.j);this.k.H(a.k)};r.rn=function(a){this.j.Og(a.j);this.k.Og(a.k)};r.Qh=function(){this.j.Set(1,0);this.k.Set(0,1)};r.ga=function(){this.j.Set(0,0);this.k.Set(0,0)};r.xd=function(){return Math.atan2(this.j.y,this.j.x)};r.lq=function(a){var c=this.j.x*this.k.y-this.k.x*this.j.y;0!==c&&(c=1/c);a.j.x=c*this.k.y;a.k.x=-c*this.k.x;a.j.y=-c*this.j.y;a.k.y=c*this.j.x;return a};r.Rh=function(a,c,b){var d=this.j.x*this.k.y-this.k.x*this.j.y;0!==d&&(d=1/
d);a.x=d*(this.k.y*c-this.k.x*b);a.y=d*(this.j.x*b-this.j.y*c);return a};r.Ng=function(){this.j.Ng();this.k.Ng()};var Fc=function(a,c,b){this.j=new Ec(0,0,0);this.k=new Ec(0,0,0);this.oa=new Ec(0,0,0);a&&this.j.H(a);c&&this.k.H(c);b&&this.oa.H(b)};r=Fc.prototype;r.nc=function(){return new Fc(this.j,this.k,this.oa)};r.vf=function(a){this.j.H(a.j);this.k.H(a.k);this.oa.H(a.oa)};r.rn=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.oa.x+=
a.oa.x;this.oa.y+=a.oa.y;this.oa.z+=a.oa.z};r.Qh=function(){this.j.Set(1,0,0);this.k.Set(0,1,0);this.oa.Set(0,0,1)};r.ga=function(){this.j.Set(0,0,0);this.k.Set(0,0,0);this.oa.Set(0,0,0)};r.Zj=function(a,c,b){var d=this.j.x,e=this.k.x,g=this.j.y,f=this.k.y,l=d*f-e*g;0!=l&&(l=1/l);a.x=l*(f*c-e*b);a.y=l*(d*b-g*c);return a};r.xl=function(a,c,b,d){var e=this.j.x,g=this.j.y,f=this.j.z,l=this.k.x,h=this.k.y,n=this.k.z,k=this.oa.x,m=this.oa.y,q=this.oa.z,p=e*(h*q-n*m)+g*(n*k-l*q)+f*(l*m-h*k);0!=p&&(p=1/
p);a.x=p*(c*(h*q-n*m)+b*(n*k-l*q)+d*(l*m-h*k));a.y=p*(e*(b*q-d*m)+g*(d*k-c*q)+f*(c*m-b*k));a.z=p*(e*(h*d-n*b)+g*(n*c-l*d)+f*(l*b-h*c));return a};var Gc=function(){this.P=N.u(0,0);this.Oc=N.u(0,0);this.B=N.u(0,0)};Gc.prototype.Set=function(a){this.P.H(a.P);this.Oc.H(a.Oc);this.B.H(a.B);this.Re=a.Re;this.M=a.M;this.sd=a.sd};Gc.prototype.nc=function(){var a=new Gc;a.P.H(this.P);a.Oc.H(this.Oc);a.B.H(this.B);a.Re=this.Re;a.M=this.M;a.sd=this.sd;return a};Gc.prototype.Zd=function(a,c){void 0===c&&(c=0);
a.position.x=(1-c)*this.Oc.x+c*this.B.x;a.position.y=(1-c)*this.Oc.y+c*this.B.y;a.n.Set((1-c)*this.Re+c*this.M);var b=a.n;a.position.x-=b.j.x*this.P.x+b.k.x*this.P.y;a.position.y-=b.j.y*this.P.x+b.k.y*this.P.y};Gc.prototype.Lh=function(a){void 0===a&&(a=0);if(this.sd<a&&1-this.sd>Number.MIN_VALUE){var c=(a-this.sd)/(1-this.sd);this.Oc.x=(1-c)*this.Oc.x+c*this.B.x;this.Oc.y=(1-c)*this.Oc.y+c*this.B.y;this.Re=(1-c)*this.Re+c*this.M;this.sd=a}};var oc=function(a,c){this.position=N.u(0,0);this.n=new O;
a&&this.position.H(a);c&&this.n.vf(c)};oc.prototype.gc=function(a,c){this.position.H(a);this.n.vf(c)};oc.prototype.Qh=function(){this.position.ga();this.n.Qh()};oc.prototype.Set=function(a){this.position.H(a.position);this.n.vf(a.n)};oc.prototype.xd=function(){return Math.atan2(this.n.j.y,this.n.j.x)};var N=function(a,c){this.x=a;this.y=c};N.Sg=[];N.u=function(a,c){if(0<N.Sg.length){var b=N.Sg.pop();b.Set(a,c);return b}return new N(a,c)};N.fc=function(a){N.Sg.push(a)};r=N.prototype;r.ga=function(){this.y=
this.x=0};r.Set=function(a,c){this.x=a;this.y=c};r.H=function(a){this.x=a.x;this.y=a.y};r.Nh=function(){return N.u(-this.x,-this.y)};r.sq=function(){this.x=-this.x;this.y=-this.y};r.nc=function(){return N.u(this.x,this.y)};r.Og=function(a){this.x+=a.x;this.y+=a.y};r.Cq=function(a){this.x-=a.x;this.y-=a.y};r.zd=function(a){this.x*=a;this.y*=a};r.Pg=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};r.hq=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};r.uu=function(a){this.x=Math.min(this.x,
a.x);this.y=Math.min(this.y,a.y)};r.su=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};r.Ng=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.$f=function(){return Math.sqrt(this.In())};r.In=function(){return this.x*this.x+this.y*this.y};r.Ad=function(){var a=this.$f();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};r.Hn=function(){return isFinite(this.x)&&isFinite(this.y)};var Ec=function(a,c,b){this.x=a;this.y=c;this.z=b};r=Ec.prototype;r.ga=
function(){this.z=this.y=this.x=0};r.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};r.H=function(a){this.x=a.x;this.y=a.y;this.z=a.z};r.Nh=function(){return new Ec(-this.x,-this.y,-this.z)};r.sq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};r.nc=function(){return new Ec(this.x,this.y,this.z)};r.Og=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};r.Cq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};r.zd=function(a){this.x*=a;this.y*=a;this.z*=a};var Hc=function(){this.Sa=.005};r=Hc.prototype;
r.Ki=function(){};r.nc=function(){};r.Set=function(a){this.Sa=a.Sa};r.Qj=function(){};r.gl=function(){};r.wn=function(){};r.yq=function(){};var uc=function(a){this.Sa=.005;this.Sa=a;this.Ek=a*a;this.fb=N.u(0,0)};K(uc,Hc);r=uc.prototype;r.Ki=function(){return uc.uf};r.nc=function(){var a=new uc(this.Sa);a.Set(this);return a};r.Set=function(a){Hc.prototype.Set.call(this,a);a instanceof uc&&this.fb.H(a.fb)};r.Qj=function(a,c){var b=c.n,d=c.position.x+(b.j.x*this.fb.x+b.k.x*this.fb.y),b=c.position.y+
(b.j.y*this.fb.x+b.k.y*this.fb.y);a.ya.Set(d-this.Sa,b-this.Sa);a.Aa.Set(d+this.Sa,b+this.Sa)};r.gl=function(a,c){a.wg=c*Math.PI*this.Ek;a.Wg.H(this.fb);a.Wj=a.wg*(.5*this.Ek+(this.fb.x*this.fb.x+this.fb.y*this.fb.y))};r.wn=function(a,c,b,d){b=P.yc(b,this.fb);var e=-(P.Fb(a,b)-c);if(e<-this.Sa+Number.MIN_VALUE)return 0;if(e>this.Sa)return d.H(b),Math.PI*this.Ek;c=e*e;e=this.Ek*(Math.asin(e/this.Sa)+Math.PI/2)+e*Math.sqrt(this.Ek-c);c=-2/3*Math.pow(this.Ek-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};
r.yq=function(a){a.K=[this.fb];a.la=1;a.Sa=this.Sa};uc.uf="b2CircleShape";var Ic=function(a,c){this.Sa=.005;this.ma=a;this.Ea=c;this.vj=N.u(this.Ea.x-this.ma.x,this.Ea.y-this.ma.y);this.Ks=this.vj.Ad();this.ra=N.u(this.vj.y,-this.vj.x);N.u(-.04*(this.ra.x-this.vj.x)+this.ma.x,-.04*(this.ra.y-this.vj.y)+this.ma.y);N.u(-.04*(this.ra.x+this.vj.x)+this.Ea.x,-.04*(this.ra.y+this.vj.y)+this.Ea.y);N.u(-this.ra.x,-this.ra.y)};K(Ic,Hc);Ic.prototype.Ki=function(){return"b2EdgeShape"};Ic.prototype.Qj=function(a,
c){var b=c.n,d=c.position.x+(b.j.x*this.ma.x+b.k.x*this.ma.y),e=c.position.y+(b.j.y*this.ma.x+b.k.y*this.ma.y),g=c.position.x+(b.j.x*this.Ea.x+b.k.x*this.Ea.y),b=c.position.y+(b.j.y*this.Ea.x+b.k.y*this.Ea.y);d<g?(a.ya.x=d,a.Aa.x=g):(a.ya.x=g,a.Aa.x=d);e<b?(a.ya.y=e,a.Aa.y=b):(a.ya.y=b,a.Aa.y=e)};Ic.prototype.gl=function(a){a.wg=0;a.Wg.H(this.ma);a.Wj=0};Ic.prototype.wn=function(a,c,b,d){void 0===c&&(c=0);var e=N.u(a.x*c,a.y*c),g=P.yc(b,this.ma);b=P.yc(b,this.Ea);var f=P.Fb(a,g)-c;a=P.Fb(a,b)-c;if(0<
f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*b.x;g.y=-a/(f-a)*g.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*g.x+f/(f-a)*b.x,b.y=-a/(f-a)*g.y+f/(f-a)*b.y);d.x=(e.x+g.x+b.x)/3;d.y=(e.y+g.y+b.y)/3;return.5*((g.x-e.x)*(b.y-e.y)-(g.y-e.y)*(b.x-e.x))};var Jc=function(){this.wg=0;this.Wg=N.u(0,0);this.Wj=0},V=function(){this.Sa=.005;this.Fd=N.u(0,0);this.K=[];this.ta=[]};K(V,Hc);V.prototype.Ki=function(){return V.uf};V.prototype.nc=function(){var a=new V;a.Set(this);return a};V.prototype.Set=function(a){Hc.prototype.Set.call(this,
a);if(a instanceof V){this.Fd.H(a.Fd);this.Ma=a.Ma;this.sl(this.Ma);for(var c=0;c<this.Ma;c++)this.K[c].H(a.K[c]),this.ta[c].H(a.ta[c])}};V.prototype.ul=function(a){this.Hu(a)};V.BE=function(a){var c=new V;c.ul(a);return c};V.prototype.Hu=function(a){var c=a.length;this.Ma=c;this.sl(c);for(c=c=0;c<this.Ma;c++)this.K[c].H(a[c]);for(c=0;c<this.Ma;++c)a=P.qb(this.K[c+1<this.Ma?c+1:0],this.K[c]),this.ta[c].H(P.Pg(a,1)),this.ta[c].Ad();this.Fd=V.Vy(this.K,this.Ma)};V.FE=function(a){var c=new V;c.Hu(a);
return c};V.prototype.Kn=function(a,c){this.Ma=4;this.sl(4);this.K[0].Set(-a,-c);this.K[1].Set(a,-c);this.K[2].Set(a,c);this.K[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.Fd.ga()};V.CE=function(a,c){var b=new V;b.Kn(a,c);return b};V.prototype.Oz=function(a,c,b,d){this.Ma=4;this.sl(4);this.K[0].Set(-a,-c);this.K[1].Set(a,-c);this.K[2].Set(a,c);this.K[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);
this.Fd=b;a=new O;a.Set(d);b=new oc(b,a);for(d=0;d<this.Ma;++d)this.K[d]=P.yc(b,this.K[d]),this.ta[d]=P.Rb(b.n,this.ta[d])};V.EE=function(a,c,b,d){var e=new V;e.Oz(a,c,b,d);return e};V.prototype.Gu=function(a,c){this.Ma=2;this.sl(2);this.K[0].H(a);this.K[1].H(c);this.Fd.x=.5*(a.x+c.x);this.Fd.y=.5*(a.y+c.y);this.ta[0]=P.Pg(P.qb(c,a),1);this.ta[0].Ad();this.ta[1].x=-this.ta[0].x;this.ta[1].y=-this.ta[0].y};V.DE=function(a,c){var b=new V;b.Gu(a,c);return b};r=V.prototype;r.Qj=function(a,c){for(var b=
c.n,d=this.K[0],e=c.position.x+(b.j.x*d.x+b.k.x*d.y),g=c.position.y+(b.j.y*d.x+b.k.y*d.y),f=e,l=g,h=1;h<this.Ma;++h)var d=this.K[h],n=c.position.x+(b.j.x*d.x+b.k.x*d.y),d=c.position.y+(b.j.y*d.x+b.k.y*d.y),e=e<n?e:n,g=g<d?g:d,f=f>n?f:n,l=l>d?l:d;a.ya.x=e-this.Sa;a.ya.y=g-this.Sa;a.Aa.x=f+this.Sa;a.Aa.y=l+this.Sa};r.gl=function(a,c){if(2==this.Ma)a.Wg.x=.5*(this.K[0].x+this.K[1].x),a.Wg.y=.5*(this.K[0].y+this.K[1].y),a.wg=0,a.Wj=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,l=0;l<this.Ma;++l)var h=this.K[l],
n=l+1<this.Ma?this.K[l+1]:this.K[0],k=h.x-0,m=h.y-0,q=n.x-0,p=n.y-0,s=k*p-m*q,t=.5*s,e=e+t,b=b+t*f*(0+h.x+n.x),d=d+t*f*(0+h.y+n.y),h=k,g=g+s*(f*(.25*(h*h+q*h+q*q)+(0*h+0*q))+0+(f*(.25*(m*m+p*m+p*p)+(0*m+0*p))+0));a.wg=c*e;a.Wg.Set(1/e*b,1/e*d);a.Wj=c*g}};r.wn=function(a,c,b,d){var e=P.Qg(b.n,a),g=c-P.Fb(a,b.position),f=[],l=0,h=-1;c=-1;var n=!1;for(a=a=0;a<this.Ma;++a){f[a]=P.Fb(e,this.K[a])-g;var k=f[a]<-Number.MIN_VALUE;0<a&&(k?n||(h=a-1,l++):n&&(c=a-1,l++));n=k}switch(l){case 0:return n?(a=new Jc,
this.gl(a,1),d.H(P.yc(b,a.Wg)),a.wg):0;case 1:-1==h?h=this.Ma-1:c=this.Ma-1}a=(h+1)%this.Ma;e=(c+1)%this.Ma;g=(0-f[h])/(f[a]-f[h]);f=(0-f[c])/(f[e]-f[c]);h=N.u(this.K[h].x*(1-g)+this.K[a].x*g,this.K[h].y*(1-g)+this.K[a].y*g);c=N.u(this.K[c].x*(1-f)+this.K[e].x*f,this.K[c].y*(1-f)+this.K[e].y*f);f=0;g=N.u(0,0);for(l=this.K[a];a!=e;)a=(a+1)%this.Ma,n=a==e?c:this.K[a],k=.5*((l.x-h.x)*(n.y-h.y)-(l.y-h.y)*(n.x-h.x)),f+=k,g.x+=k*(h.x+l.x+n.x)/3,g.y+=k*(h.y+l.y+n.y)/3,l=n;g.zd(1/f);d.H(P.yc(b,g));return f};
r.yq=function(a){a.K=this.K;a.la=this.Ma;a.Sa=this.Sa};r.En=function(a){for(var c=0,b=this.K[0].x*a.x+this.K[0].y*a.y,d=1;d<this.Ma;++d){var e=this.K[d].x*a.x+this.K[d].y*a.y;e>b&&(c=d,b=e)}return c};r.ml=function(a){for(var c=0,b=this.K[0].x*a.x+this.K[0].y*a.y,d=1;d<this.Ma;++d){var e=this.K[d].x*a.x+this.K[d].y*a.y;e>b&&(c=d,b=e)}return this.K[c]};r.sl=function(a){this.K=[];this.ta=[];for(var c=this.K.length;c<a;c++)this.K[c]=N.u(0,0),this.ta[c]=N.u(0,0)};V.Vy=function(a,c){for(var b=N.u(0,0),
d=0,e=1/3,g=0;g<c;++g){var f=a[g],l=g+1<c?a[g+1]:a[0],h=.5*((f.x-0)*(l.y-0)-(f.y-0)*(l.x-0)),d=d+h;b.x+=h*e*(0+f.x+l.x);b.y+=h*e*(0+f.y+l.y)}b.x*=1/d;b.y*=1/d;return b};V.VF=new O;V.uf="b2PolygonShape";var Kc=function(){this.Hq=this.Gq=this.Iq=this.Bd=0};r=Kc.prototype;r.Mi=function(a){this.Bd=a;this.Iq=this.Bd&255;this.Gq=(this.Bd&65280)>>8&255;this.Hq=(this.Bd&16711680)>>16&255;this.Vu=(this.Bd&4278190080)>>24&255};r.Set=function(a){this.Mi(a.Bd)};r.Ou=function(a){this.Iq=a;this.Bd=this.Bd&4294967040|
this.Iq&255};r.Lu=function(a){this.Gq=a;this.Bd=this.Bd&4294902015|this.Gq<<8&65280};r.Mu=function(a){this.Hq=a;this.Bd=this.Bd&4278255615|this.Hq<<16&16711680};r.Pz=function(a){this.Vu=a;this.Bd=this.Bd&16777215|this.Vu<<24&4278190080};r.nc=function(){var a=new Kc;a.Set(this);return a};var Lc=function(){this.Oe=N.u(0,0);this.id=new Kc};Lc.prototype.Set=function(a){this.Oe.H(a.Oe);this.id.Set(a.id)};var Mc=function(){this.ya=N.u(0,0);this.Aa=N.u(0,0)},Nc=[],Oc=function(){if(0<Nc.length){var a=Nc.pop();
a.ga();return a}return new Mc};r=Mc.prototype;r.ga=function(){this.ya.Set(0,0);this.Aa.Set(0,0)};r.Hn=function(){return 0>this.Aa.x-this.ya.x||0>this.Aa.y-this.ya.y?!1:this.ya.Hn()&&this.Aa.Hn()};r.ez=function(){return N.u((this.ya.x+this.Aa.x)/2,(this.ya.y+this.Aa.y)/2)};r.fq=function(a){var c;return c=(c=(c=(c=this.ya.x<=a.ya.x)&&this.ya.y<=a.ya.y)&&a.Aa.x<=this.Aa.x)&&a.Aa.y<=this.Aa.y};r.yl=function(a){return 0<a.ya.x-this.Aa.x||0<a.ya.y-this.Aa.y||0<this.ya.x-a.Aa.x||0<this.ya.y-a.Aa.y?!1:!0};
r.vn=function(a,c){this.ya.x=Math.min(a.ya.x,c.ya.x);this.ya.y=Math.min(a.ya.y,c.ya.y);this.Aa.x=Math.max(a.Aa.x,c.Aa.x);this.Aa.y=Math.max(a.Aa.y,c.Aa.y)};var Pc=function(a,c,b,d){var e=0,g=c[0].Oe,f=c[1].Oe,l=b.x*g.x+b.y*g.y-d;b=b.x*f.x+b.y*f.y-d;0>=l&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);0>l*b&&(b=l/(l-b),d=a[e].Oe,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=0<l?c[0].id:c[1].id,e++);return e},Qc=function(a,c,b,d,e){for(var g=c.n.j.x*a.ta[b].x+c.n.k.x*a.ta[b].y,f=c.n.j.y*a.ta[b].x+c.n.k.y*
a.ta[b].y,l=e.n.j.x*g+e.n.j.y*f,h=e.n.k.x*g+e.n.k.y*f,n=0,k=Number.MAX_VALUE,m=0;m<d.Ma;m++){var q=d.K[m].x*l+d.K[m].y*h;q<k&&(k=q,n=m)}return(e.position.x+(e.n.j.x*d.K[n].x+e.n.k.x*d.K[n].y)-(c.position.x+(c.n.j.x*a.K[b].x+c.n.k.x*a.K[b].y)))*g+(e.position.y+(e.n.j.y*d.K[n].x+e.n.k.y*d.K[n].y)-(c.position.y+(c.n.j.y*a.K[b].x+c.n.k.y*a.K[b].y)))*f},Rc=function(a,c,b,d){for(var e=d.position.x+(d.n.j.x*b.Fd.x+d.n.k.x*b.Fd.y),g=d.position.y+(d.n.j.y*b.Fd.x+d.n.k.y*b.Fd.y),e=e-(c.position.x+(c.n.j.x*
a.Fd.x+c.n.k.x*a.Fd.y)),g=g-(c.position.y+(c.n.j.y*a.Fd.x+c.n.k.y*a.Fd.y)),f=e*c.n.j.x+g*c.n.j.y,g=e*c.n.k.x+g*c.n.k.y,e=0,l=-Number.MAX_VALUE,h=0;h<a.Ma;++h){var n=a.ta[h].x*f+a.ta[h].y*g;n>l&&(l=n,e=h)}f=Qc(a,c,e,b,d);g=e-1;0>g&&(g=a.Ma-1);l=Qc(a,c,g,b,d);h=e+1;h>=a.Ma&&(h=0);var n=Qc(a,c,h,b,d),k=0,m=0;if(l>f&&l>n)for(k=g,m=l;;)if(e=k-1,0>e&&(e=a.Ma-1),f=Qc(a,c,e,b,d),f>m)k=e,m=f;else break;else if(n>f)for(k=h,m=n;;)if(e=k+1,e>=a.Ma&&(e=0),f=Qc(a,c,e,b,d),f>m)k=e,m=f;else break;else k=e,m=f;return{nv:k,
Fp:m}},Tc=function(a,c,b){var d=new Sc;d.Lz(c,b.Ch,b.Vp,b.Dh,b.Wp);for(var e=0;20>e;){for(var g=[],f=0;f<d.la;f++)g[f]={},g[f].jc=d.K[f].jc,g[f].kc=d.K[f].kc;2==d.la?d.Xz():3==d.la&&d.Yz();if(3==d.la)break;f=d.gz();if(f.In()<Dc)break;var l=f.Nh();d.K[d.la].jc=b.Ch.En(P.Qg(b.Vp.n,l));d.K[d.la].bd=P.yc(b.Vp,b.Ch.Wc(d.K[d.la].jc));d.K[d.la].kc=b.Dh.En(P.Qg(b.Wp.n,f));d.K[d.la].sf=P.yc(b.Wp,b.Dh.Wc(d.K[d.la].kc));d.K[d.la].Vc=P.qb(d.K[d.la].sf,d.K[d.la].bd);N.fc(f);N.fc(l);e++;l=!1;for(f=0;f<g.length;f++)if(d.K[d.la].jc==
g[f].jc&&d.K[d.la].kc==g[f].kc){l=!0;break}if(l)break;d.la++}d.hz(a.Of,a.Pf);a.bh=P.qb(a.Of,a.Pf).$f();d.hA(c);b.wy&&(c=b.Ch.Sa,b=b.Dh.Sa,a.bh>c+b&&a.bh>Number.MIN_VALUE?(a.bh-=c+b,d=P.qb(a.Pf,a.Of),d.Ad(),a.Of.x+=c*d.x,a.Of.y+=c*d.y,a.Pf.x-=b*d.x,a.Pf.y-=b*d.y,N.fc(d)):(b=N.u(0,0),b.x=.5*(a.Of.x+a.Pf.x),b.y=.5*(a.Of.y+a.Pf.y),a.Of.x=a.Pf.x=b.x,a.Of.y=a.Pf.y=b.y,a.bh=0,N.fc(b)))},Uc=function(){},Vc=function(){this.Of=N.u(0,0);this.Pf=N.u(0,0);this.bh=0},Wc=function(){};Wc.prototype.Set=function(a){a.yq(this)};
Wc.prototype.En=function(a){for(var c=0,b=this.K[0].x*a.x+this.K[0].y*a.y,d=1;d<this.la;d++){var e=this.K[d].x*a.x+this.K[d].y*a.y;e>b&&(c=d,b=e)}return c};Wc.prototype.ml=function(a){return this.K[this.En(a)]};Wc.prototype.Wc=function(a){void 0===a&&(a=0);return this.K[a]};var Xc=function(){this.vg=null};r=Xc.prototype;r.hl=function(a,c){var b=Yc(c);b.Qa.ya.x=a.ya.x-.1;b.Qa.ya.y=a.ya.y-.1;b.Qa.Aa.x=a.Aa.x+.1;b.Qa.Aa.y=a.Aa.y+.1;this.pu(b);return b};r.il=function(a){this.Du(a);a.wd()};r.pq=function(a,
c,b){if(a.Qa.fq(c))return!1;this.Du(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Qa.ya.x=c.ya.x-d;a.Qa.ya.y=c.ya.y-b;a.Qa.Aa.x=c.Aa.x+d;a.Qa.Aa.y=c.Aa.y+b;this.pu(a);return!0};r.kl=function(a){return a.Qa};r.wq=function(a,c){if(null!==this.vg){var b=[];for(b.push(this.vg);0<b.length;){var d=b.pop();if(d.Qa.yl(c))if(d.qu()){if(!a(d.Ze))break}else b.push(d.de),b.push(d.eg)}}};r.pu=function(a){if(null===this.vg)this.vg=a,this.vg.parent=null;else{var c=this.dz(a),b=c.parent,d=Yc();d.parent=b;d.Qa.vn(a.Qa,
c.Qa);if(b)for(c.parent.de==c?b.de=d:b.eg=d,d.de=c,d.eg=a,c.parent=d,a.parent=d;b&&!b.Qa.fq(d.Qa);)b.Qa.vn(b.de.Qa,b.eg.Qa),d=b,b=b.parent;else d.de=c,d.eg=a,c.parent=d,this.vg=a.parent=d}};r.dz=function(a){a=a.Qa.ez();for(var c=this.vg;!c.qu();)var b=c.de,c=c.eg,d=Math.abs((b.Qa.ya.x+b.Qa.Aa.x)/2-a.x)+Math.abs((b.Qa.ya.y+b.Qa.Aa.y)/2-a.y),e=Math.abs((c.Qa.ya.x+c.Qa.Aa.x)/2-a.x)+Math.abs((c.Qa.ya.y+c.Qa.Aa.y)/2-a.y),c=d<e?b:c;N.fc(a);return c};r.Du=function(a){if(a==this.vg)this.vg=null;else{var c=
a.parent,b=c.parent;a=c.de==a?c.eg:c.de;if(b)for(b.de==c?b.de=a:b.eg=a,a.parent=b;b;){a=b.Qa;b.Qa.vn(b.de.Qa,b.eg.Qa);if(a.fq(b.Qa))break;b=b.parent}else this.vg=a,a.parent=null;c.wd()}};var Zc=function(){this.yh=new Xc;this.ip=[]};r=Zc.prototype;r.hl=function(a,c){var b=this.yh.hl(a,c);this.gu(b);return b};r.il=function(a){this.dA(a);this.yh.il(a)};r.pq=function(a,c,b){this.yh.pq(a,c,b)&&this.gu(a)};r.yl=function(a,c){return this.yh.kl(a).yl(this.yh.kl(c))};r.kl=function(a){return this.yh.kl(a)};
r.eA=function(a){for(var c=[];0<this.ip.length;){var b=this.ip.pop();this.yh.wq(function(a){a!=b.Ze&&c.push(new $c(b.Ze,a));return!0},this.yh.kl(b))}for(var d=0;d<c.length;){var e=c[d];a(e.Ql,e.Rl);for(d++;d<c.length;){var g=c[d];if(!(g.Ql==e.Ql&&g.Rl==e.Rl||g.Ql==e.Rl&&g.Rl==e.Ql))break;d++}}};r.wq=function(a,c){this.yh.wq(a,c)};r.gu=function(a){this.ip.push(a)};r.dA=function(a){Aa(this.ip,a)};var ad=function(a){this.Qa=Oc();this.Ze=this.parent=this.eg=this.de=null;"undefined"!=typeof a&&(this.Ze=
a)},bd=[],Yc=function(a){if(0<bd.length){var c=bd.pop();"undefined"!=typeof a&&(c.Ze=a);c.Qa.ga();return c}return new ad(a)};ad.prototype.wd=function(){this.Ze=this.parent=this.eg=this.de=null;bd.push(this)};ad.prototype.qu=function(){return null===this.de};var $c=function(a,c){this.Ql=a;this.Rl=c},dd=function(){this.Oa=this.Vb=0;this.ka=[];for(var a=0;2>a;a++)this.ka[a]=new cd;this.Sc=N.u(0,0);this.qa=N.u(0,0)};dd.prototype.Mc=function(){for(var a=0;2>a;a++)this.ka[a].Mc();this.Sc.ga();this.qa.ga();
this.Vb=this.Oa=0};dd.prototype.Set=function(a){this.Vb=a.Vb;for(var c=0;2>c;c++)this.ka[c].Set(a.ka[c]);this.Sc.H(a.Sc);this.qa.H(a.qa);this.Oa=a.Oa};dd.prototype.nc=function(){var a=new dd;a.Set(this);return a};var cd=function(){this.qa=N.u(0,0);this.hf=new Kc;this.Mc()};cd.prototype.Mc=function(){this.qa.ga();this.Cj=this.yj=0;this.hf.Mi(0)};cd.prototype.Set=function(a){this.qa.H(a.qa);this.yj=a.yj;this.Cj=a.Cj;this.hf.Set(a.hf)};var ed=function(){this.qa=N.u(0,0);this.R=N.u(0,0)};ed.prototype.gc=
function(a,c,b,d,e){this.oi=c;this.pi=d;var g,f,l,h=l=f=0,n=0;d=c=0;var k,m,h=0;1==a.count?(this.Oa=fd,g=this.oi.Wc(a.jc[0]),a=this.pi.Wc(a.kc[0]),m=g,k=b.n,f=b.position.x+(k.j.x*m.x+k.k.x*m.y),l=b.position.y+(k.j.y*m.x+k.k.y*m.y),m=a,k=e.n,h=e.position.x+(k.j.x*m.x+k.k.x*m.y),n=e.position.y+(k.j.y*m.x+k.k.y*m.y),this.R.x=h-f,this.R.y=n-l,this.R.Ad()):(a.kc[0]==a.kc[1]?(this.Oa=gd,c=this.oi.Wc(a.jc[0]),d=this.oi.Wc(a.jc[1]),a=this.pi.Wc(a.kc[0]),this.qa.x=.5*(c.x+d.x),this.qa.y=.5*(c.y+d.y),this.R=
P.Pg(P.qb(d,c),1),this.R.Ad(),m=this.R,k=b.n,c=k.j.x*m.x+k.k.x*m.y,d=k.j.y*m.x+k.k.y*m.y,m=this.qa,k=b.n,f=b.position.x+(k.j.x*m.x+k.k.x*m.y),l=b.position.y+(k.j.y*m.x+k.k.y*m.y),m=a,k=e.n,h=e.position.x+(k.j.x*m.x+k.k.x*m.y),n=e.position.y+(k.j.y*m.x+k.k.y*m.y),h=(h-f)*c+(n-l)*d):a.jc[0]==a.jc[0]?(this.Oa=hd,f=this.pi.Wc(a.kc[0]),l=this.pi.Wc(a.kc[1]),g=this.oi.Wc(a.jc[0]),this.qa.x=.5*(f.x+l.x),this.qa.y=.5*(f.y+l.y),this.R=P.Pg(P.qb(l,f),1),this.R.Ad(),m=this.R,k=e.n,c=k.j.x*m.x+k.k.x*m.y,d=k.j.y*
m.x+k.k.y*m.y,m=this.qa,k=e.n,h=e.position.x+(k.j.x*m.x+k.k.x*m.y),n=e.position.y+(k.j.y*m.x+k.k.y*m.y),m=g,k=b.n,f=b.position.x+(k.j.x*m.x+k.k.x*m.y),l=b.position.y+(k.j.y*m.x+k.k.y*m.y),h=(f-h)*c+(l-n)*d):(c=this.oi.Wc(a.jc[0]),d=this.oi.Wc(a.jc[1]),f=this.pi.Wc(a.kc[0]),l=this.pi.Wc(a.kc[1]),h=P.Rb(b.n,P.qb(d,c)),n=P.Rb(e.n,P.qb(l,f)),e=h.x*h.x+h.y*h.y,b=n.x*n.x+n.y*n.y,g=P.qb(n,h),a=h.x*g.x+h.y*g.y,g=n.x*g.x+n.y*g.y,n=h.x*n.x+h.y*n.y,k=e*b-n*n,h=0,0!=k&&(h=P.xb((n*g-a*b)/k,0,1)),0>(n*h+g)/b&&
(h=P.xb((n-a)/e,0,1)),g=N.u(0,0),g.x=c.x+h*(d.x-c.x),g.y=c.y+h*(d.y-c.y),a=N.u(0,0),a.x=f.x+h*(l.x-f.x),a.y=f.y+h*(l.y-f.y),0==h||1==h?(this.Oa=hd,this.R=P.Pg(P.qb(l,f),1),this.R.Ad(),this.qa=a):(this.Oa=gd,this.R=P.Pg(P.qb(d,c),1),this.qa=g)),0>h&&this.R.sq())};ed.prototype.Yf=function(a,c){var b,d,e=0;switch(this.Oa){case fd:b=P.Qg(a.n,this.R);d=P.Qg(c.n,this.R.Nh());b=this.oi.ml(b);d=this.pi.ml(d);b=P.yc(a,b);d=P.yc(c,d);e=(d.x-b.x)*this.R.x+(d.y-b.y)*this.R.y;break;case gd:e=P.Rb(a.n,this.R);
b=P.yc(a,this.qa);d=P.Qg(c.n,e.Nh());d=this.pi.ml(d);d=P.yc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case hd:e=P.Rb(c.n,this.R),d=P.yc(c,this.qa),b=P.Qg(a.n,e.Nh()),b=this.oi.ml(b),b=P.yc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var fd=1,gd=2,hd=4,Sc=function(){this.ma=new id;this.Ea=new id;this.je=new id;this.K=[this.ma,this.Ea,this.je]};r=Sc.prototype;r.Lz=function(a,c,b,d,e){var g,f;this.la=a.count;for(var l=this.K,h=0;h<this.la;h++){var n=l[h];n.jc=a.jc[h];n.kc=a.kc[h];g=c.Wc(n.jc);f=d.Wc(n.kc);
n.bd=P.yc(b,g);n.sf=P.yc(e,f);n.Vc=P.qb(n.sf,n.bd);n.M=0}1<this.la&&(a=a.sD,g=this.ou(),g<.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.la=0);0==this.la&&(n=l[0],n.jc=0,n.kc=0,g=c.Wc(0),f=d.Wc(0),n.bd=P.yc(b,g),n.sf=P.yc(e,f),n.Vc=P.qb(n.sf,n.bd),this.la=1)};r.hA=function(a){a.sD=this.ou();a.count=this.la;for(var c=this.K,b=0;b<this.la;b++)a.jc[b]=c[b].jc,a.kc[b]=c[b].kc};r.gz=function(){if(1==this.la)return this.ma.Vc.Nh();if(2==this.la){var a=P.qb(this.Ea.Vc,this.ma.Vc);return 0<P.Gi(a,this.ma.Vc.Nh())?
P.hq(1,a):P.Pg(a,1)}return N.u(0,0)};r.hz=function(a,c){1==this.la?(a.H(this.ma.bd),c.H(this.ma.sf)):2==this.la?(a.x=this.ma.M*this.ma.bd.x+this.Ea.M*this.Ea.bd.x,a.y=this.ma.M*this.ma.bd.y+this.Ea.M*this.Ea.bd.y,c.x=this.ma.M*this.ma.sf.x+this.Ea.M*this.Ea.sf.x,c.y=this.ma.M*this.ma.sf.y+this.Ea.M*this.Ea.sf.y):3==this.la&&(c.x=a.x=this.ma.M*this.ma.bd.x+this.Ea.M*this.Ea.bd.x+this.je.M*this.je.bd.x,c.y=a.y=this.ma.M*this.ma.bd.y+this.Ea.M*this.Ea.bd.y+this.je.M*this.je.bd.y)};r.ou=function(){return 1==
this.la?0:2==this.la?P.qb(this.ma.Vc,this.Ea.Vc).$f():3==this.la?P.Gi(P.qb(this.Ea.Vc,this.ma.Vc),P.qb(this.je.Vc,this.ma.Vc)):0};r.Xz=function(){var a=this.ma.Vc,c=this.Ea.Vc,b=P.qb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.la=this.ma.M=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.la=this.Ea.M=1,this.ma.Set(this.Ea)):(b=1/(c+a),this.ma.M=c*b,this.Ea.M=a*b,this.la=2))};r.Yz=function(){var a=this.ma.Vc,c=this.Ea.Vc,b=this.je.Vc,d=P.qb(c,a),e=P.Fb(c,d),g=-P.Fb(a,d),f=P.qb(b,a),l=P.Fb(b,f),h=-P.Fb(a,f),n=P.qb(b,c),k=P.Fb(b,
n),n=-P.Fb(c,n),f=P.Gi(d,f),d=f*P.Gi(c,b),b=f*P.Gi(b,a),a=f*P.Gi(a,c);0>=g&&0>=h?this.la=this.ma.M=1:0<e&&0<g&&0>=a?(l=1/(e+g),this.ma.M=e*l,this.Ea.M=g*l,this.la=2):0<l&&0<h&&0>=b?(e=1/(l+h),this.ma.M=l*e,this.je.M=h*e,this.la=2,this.Ea.Set(this.je)):0>=e&&0>=n?(this.la=this.Ea.M=1,this.ma.Set(this.Ea)):0>=l&&0>=k?(this.la=this.je.M=1,this.ma.Set(this.je)):0<k&&0<n&&0>=d?(e=1/(k+n),this.Ea.M=k*e,this.je.M=n*e,this.la=2,this.ma.Set(this.je)):(e=1/(d+b+a),this.ma.M=d*e,this.Ea.M=b*e,this.je.M=a*e,
this.la=3)};var jd=function(){this.jc=[0,0,0];this.kc=[0,0,0]},id=function(){};id.prototype.Set=function(a){this.bd.H(a.bd);this.sf.H(a.sf);this.Vc.H(a.Vc);this.M=a.M;this.jc=a.jc;this.kc=a.kc};var kd=function(){this.Ch=new Wc;this.Dh=new Wc;this.Xx=new Gc;this.Yx=new Gc},ld=function(){this.ra=N.u(0,0);this.ka=[];for(var a=this.Vb=0;2>a;a++)this.ka[a]=N.u(0,0)};ld.prototype.gc=function(a,c,b,d,e){if(0!=a.Vb){var g=0,f,l,h=0,n=0,k=0,m=0,q=0;f=0;switch(a.Oa){case 1:l=c.n;f=a.qa;g=c.position.x+l.j.x*
f.x+l.k.x*f.y;c=c.position.y+l.j.y*f.x+l.k.y*f.y;l=d.n;f=a.ka[0].qa;a=d.position.x+l.j.x*f.x+l.k.x*f.y;d=d.position.y+l.j.y*f.x+l.k.y*f.y;f=a-g;l=d-c;h=f*f+l*l;h>Dc?(h=Math.sqrt(h),this.ra.x=f/h,this.ra.y=l/h):(this.ra.x=1,this.ra.y=0);f=c+b*this.ra.y;d-=e*this.ra.y;this.ka[0].x=.5*(g+b*this.ra.x+(a-e*this.ra.x));this.ka[0].y=.5*(f+d);break;case 2:l=c.n;f=a.Sc;h=l.j.x*f.x+l.k.x*f.y;n=l.j.y*f.x+l.k.y*f.y;l=c.n;f=a.qa;k=c.position.x+l.j.x*f.x+l.k.x*f.y;m=c.position.y+l.j.y*f.x+l.k.y*f.y;this.ra.x=h;
this.ra.y=n;for(g=0;g<a.Vb;g++)l=d.n,f=a.ka[g].qa,q=d.position.x+l.j.x*f.x+l.k.x*f.y,f=d.position.y+l.j.y*f.x+l.k.y*f.y,this.ka[g].x=q+.5*(b-(q-k)*h-(f-m)*n-e)*h,this.ka[g].y=f+.5*(b-(q-k)*h-(f-m)*n-e)*n;break;case 4:for(l=d.n,f=a.Sc,h=l.j.x*f.x+l.k.x*f.y,n=l.j.y*f.x+l.k.y*f.y,l=d.n,f=a.qa,k=d.position.x+l.j.x*f.x+l.k.x*f.y,m=d.position.y+l.j.y*f.x+l.k.y*f.y,this.ra.x=-h,this.ra.y=-n,g=0;g<a.Vb;g++)l=c.n,f=a.ka[g].qa,q=c.position.x+l.j.x*f.x+l.k.x*f.y,f=c.position.y+l.j.y*f.x+l.k.y*f.y,this.ka[g].x=
q+.5*(e-(q-k)*h-(f-m)*n-b)*h,this.ka[g].y=f+.5*(e-(q-k)*h-(f-m)*n-b)*n}}};var qc=function(a,c){this.yd="Body"+qc.rq++;this.D=new oc;this.D.position.H(a.position);this.D.n.Set(a.J);this.m=new Gc;this.m.P.ga();this.m.sd=1;this.m.Re=this.m.M=a.J;this.m.B.x=this.D.n.j.x*this.m.P.x+this.D.n.k.x*this.m.P.y;this.m.B.y=this.D.n.j.y*this.m.P.x+this.D.n.k.y*this.m.P.y;this.m.B.x+=this.D.position.x;this.m.B.y+=this.D.position.y;this.m.Oc.H(this.m.B);this.q=a.vs.nc();this.rh=N.u(0,0);this.zk=a.Vi;this.YC=a.tr;
this.Ds=a.bv;this.Es=a.jv;this.ym=a.hc;this.Ca=c;this.Db=null;this.Nd=new md;this.Xi=new nd;this.G=a.cv;this.eD=a.pj;this.TC=a.Ri;this.Im=this.Dj=0;this.Oa=a.type;this.S=this.Oa==Q.oc?1:0;this.I=this.Oa==Q.oc?1:0;this.Q=this.ff=0;this.bD=a.cw;this.jk=new od;this.gp=[]};r=qc.prototype;r.Rj=function(a){a=new pc(this,this.D,a);this.ym&&a.hl(this.Ca.Gd.yk,this.D);this.jk.Fy(a);a.Am=this;0<a.cp&&this.Fu();this.Ca.Ps=!0;return a};r.wd=function(){N.fc(this.q);N.fc(this.rh)};r.iu=function(a){this.jk.Mz(a);
for(var c=this.Nd.Ia(pd);c;c=c.next)a!=c.Bc.Hb&&a!=c.Bc.Cb||this.Ca.Gd.wd(c.Bc);this.ym&&a.il(this.Ca.Gd.yk);a.wd();a.Am=null;this.Fu()};r.wl=function(a,c){this.D.n.Set(c);this.D.position.H(a);var b=this.D.n,d=this.m.P;this.m.B.x=b.j.x*d.x+b.k.x*d.y;this.m.B.y=b.j.y*d.x+b.k.y*d.y;this.m.B.x+=this.D.position.x;this.m.B.y+=this.D.position.y;this.m.Oc.H(this.m.B);this.m.Re=this.m.M=c;b=this.Ca.Gd.yk;for(d=this.jk.Ia();d;d=d.next)d.Ze.Qu(b,this.D,this.D);this.Ca.Gd.An()};r.Zd=function(){return this.D};
r.zq=function(a){this.wl(a,this.xd())};r.xd=function(){return this.m.M};r.Jn=function(a){this.wl(this.D.position,a)};r.Vj=function(){return this.m.B};r.Ji=function(){return this.m.P};r.Ni=function(a){this.Oa!=Q.ye&&this.q.H(a)};r.Ii=function(){return this.q};r.tl=function(a){void 0===a&&(a=0);this.Oa!=Q.ye&&(this.G=a)};r.Bn=function(){return this.G};r.tf=function(a,c){this.Oa==Q.oc&&(this.zc(!0),this.rh.x+=a.x,this.rh.y+=a.y,this.Dj+=(c.x-this.m.B.x)*a.y-(c.y-this.m.B.y)*a.x)};r.sn=function(a){void 0===
a&&(a=0);this.Oa==Q.oc&&(this.zc(!0),this.Dj+=a)};r.fl=function(a,c){this.Oa==Q.oc&&(this.zc(!0),this.q.x+=this.I*a.x,this.q.y+=this.I*a.y,this.G+=this.Q*((c.x-this.m.B.x)*a.y-(c.y-this.m.B.y)*a.x))};r.Uj=function(){return this.S};r.nu=function(a){a||(a=new Jc);a.wg=this.S;a.Wj=this.ff;a.Wg.H(this.m.P);return a};r.Fu=function(){this.Q=this.ff=this.I=this.S=0;this.m.P.ga();if(this.Oa!=Q.ye&&this.Oa!=Q.lv){for(var a=N.u(0,0),c=this.jk.Ia();c;c=c.next){var b=c.Ze;0!=b.cp&&(b=b.nu(),this.S+=b.wg,a.x+=
b.Wg.x*b.wg,a.y+=b.Wg.y*b.wg,this.ff+=b.Wj)}0<this.S?(this.I=1/this.S,a.x*=this.I,a.y*=this.I):this.I=this.S=1;0<this.ff&&!this.YC?(this.ff-=this.S*(a.x*a.x+a.y*a.y),this.ff*=this.bD,this.Q=1/this.ff):this.Q=this.ff=0;c=this.m.B.nc();this.m.P.H(a);this.m.Oc.H(P.yc(this.D,this.m.P));this.m.B.H(this.m.Oc);this.q.x+=this.G*-(this.m.B.y-c.y);this.q.y+=this.G*+(this.m.B.x-c.x);N.fc(a);N.fc(c)}};r.Fn=function(a){var c=this.D.n;a=N.u(c.j.x*a.x+c.k.x*a.y,c.j.y*a.x+c.k.y*a.y);a.x+=this.D.position.x;a.y+=this.D.position.y;
return a};r.nq=function(a){return P.Rb(this.D.n,a)};r.dd=function(a){return P.qq(this.D,a)};r.mq=function(a){return P.Qg(this.D.n,a)};r.fz=function(a){return N.u(this.q.x-this.G*(a.y-this.m.B.y),this.q.y+this.G*(a.x-this.m.B.x))};r.Lc=function(){return this.Oa};r.zc=function(a){if(this.Es!=a)for(this.Es=a,this.Im=0,a||(this.q.ga(),this.G=0,this.rh.ga(),this.Dj=0),a=0;a<this.gp.length;a++)this.gp[a].Tu(this)};r.ed=function(){return this.Es};r.Ph=function(){return this.ym};r.kq=function(){return this.jk};
r.cl=function(a){this.Xi.cl(a)};r.rl=function(a){this.Xi.rl(a)};r.Mh=function(){return this.Nd};r.Ru=function(){var a=qc.cE;a.n.Set(this.m.Re);var c=a.n,b=this.m.P;a.position.x=this.m.Oc.x-(c.j.x*b.x+c.k.x*b.y);a.position.y=this.m.Oc.y-(c.j.y*b.x+c.k.y*b.y);c=this.Ca.Gd.yk;for(b=this.jk.Ia();b;b=b.next)b.Ze.Qu(c,a,this.D)};r.Gb=function(){this.D.n.Set(this.m.M);var a=this.D.n,c=this.m.P;this.D.position.x=this.m.B.x-(a.j.x*c.x+a.k.x*c.y);this.D.position.y=this.m.B.y-(a.j.y*c.x+a.k.y*c.y)};r.Oi=function(a){if(this.Oa!=
Q.oc&&a.Oa!=Q.oc)return!1;for(var c=this.Db;c;c=c.next)if(c.Me==a&&0==c.mh.Sw)return!1;return!0};r.Lh=function(a){this.m.Lh(a);this.m.B.H(this.m.Oc);this.m.M=this.m.Re;this.Gb()};qc.rq=0;var Q=function(){this.position=N.u(0,0);this.vs=N.u(0,0);this.Ri=this.pj=this.cv=this.J=0;this.jv=this.bv=!0;this.Vi=this.tr=!1;this.type=Q.ye;this.hc=!0;this.cw=1};Q.ye=0;Q.lv=1;Q.oc=2;var rd=function(){this.Un=[];for(var a=0;a<=qd;a++)this.Un[a]=null;this.Vn=[];for(a=0;a<=qd;a++)this.Vn[a]=null;this.bk={}};r=rd.prototype;
r.Ia=function(a){return this.Un[a]};r.Oj=function(a){var c=a.yd;null==this.bk[c]&&(this.Xf(a,c,qd),this.Tu(a),a.gp.push(this))};r.Tu=function(a){var c=a.Lc(),b=a.yd,d=a.ed(),e=a.Ph();c==Q.oc?this.Xf(a,b,sd):this.ag(b,sd);c!=Q.ye?this.Xf(a,b,td):this.ag(b,td);c!=Q.ye&&e&&d?this.Xf(a,b,ud):this.ag(b,ud);d?this.Xf(a,b,vd):this.ag(b,vd);e?this.Xf(a,b,wd):this.ag(b,wd)};r.ql=function(a){var c=a.yd;if(null!=this.bk[c]){Aa(a.gp,this);for(a=0;a<=qd;a++)this.ag(c,a);delete this.bk[c]}};r.ag=function(a,c){var b=
this.bk[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.of,d=d.next,null==b?this.Un[c]=d:b.wf(d),null==d?this.Vn[c]=b:d.xf(b))}};r.Xf=function(a,c,b){var d=this.bk[c];if(null==d){for(var d=[],e=0;e<=qd;e++)d[e]=null;this.bk[c]=d}null==d[b]&&(d[b]=new xd(a),a=this.Vn[b],null!=a?a.wf(d[b]):this.Un[b]=d[b],d[b].xf(a),this.Vn[b]=d[b])};var sd=0,td=1,wd=2,ud=3,vd=4,qd=5,xd=function(a){this.body=a;this.of=this.next=null};xd.prototype.wf=function(a){this.next=a};xd.prototype.xf=function(a){this.of=a};
xd.prototype.Pa=function(){return this.body};var sc=function(){};sc.prototype.Oi=function(a,c){var b=a.mu(),d=c.mu();return b.ci==d.ci&&0!=b.ci?0<b.ci:0!=(b.Hk&d.ck)&&0!=(b.ck&d.Hk)};sc.EA=new sc;var yd=function(){this.wD=[];this.kE=[]},rc=function(){};rc.prototype.tn=function(){};var Ad=function(a){this.Ca=a;this.Fs=sc.EA;this.ph=rc.kv;this.Tw=new zd;this.yk=new Zc};Ad.prototype.Hy=function(a,c){var b=a.Pa(),d=c.Pa();if(b!=d&&d.Oi(b)&&this.Fs.Oi(a,c)){for(b=d.Nd.Ia(pd);b;b=b.next)if(d=b.Bc.Hb,d==
a){if(d=b.Bc.Cb,d==c)return}else if(d==c&&(d=b.Bc.Cb,d==a))return;this.Tw.Pe(a,c)}};Ad.prototype.An=function(){var a=this;this.yk.eA(function(c,b){a.Hy(c,b)})};Ad.prototype.wd=function(a){0<a.Ke.Vb&&(a.Hb.Pa().zc(!0),a.Cb.Pa().zc(!0));a.Nz();this.Tw.wd(a)};Ad.prototype.Ry=function(){for(var a=this.Ca.Nd.Ia(pd);a;a=a.next){var c=a.Bc,b=c.Hb,d=c.Cb,e=b.Pa(),g=d.Pa();if(0!=e.ed()||0!=g.ed()){if(c.ro){if(0==g.Oi(e)){this.wd(c);continue}if(0==this.Fs.Oi(b,d)){this.wd(c);continue}c.Qy()}0==this.yk.yl(b.zj,
d.zj)?this.wd(c):c.Su(this.ph)}}};var Bd=function(){this.ck=1;this.Hk=65535;this.ci=0};Bd.prototype.nc=function(){var a=new Bd;a.ck=this.ck;a.Hk=this.Hk;a.ci=this.ci;return a};var pc=function(a,c,b){this.yd="Fixture"+pc.rq++;this.XC=b.filter.nc();this.uj=Oc();this.Am=a;this.xh=b.shape.nc();this.cp=b.Cf;this.Is=b.kg;this.Qs=b.Eg;this.ep=b.Xr};r=pc.prototype;r.xc=function(){return this.xh};r.Li=function(){return this.ep};r.mu=function(){return this.XC.nc()};r.Pa=function(){return this.Am};r.nu=function(a){a||
(a=new Jc);this.xh.gl(a,this.cp);return a};r.wd=function(){Nc.push(this.uj)};r.hl=function(a,c){this.xh.Qj(this.uj,c);this.zj=a.hl(this.uj,this)};r.il=function(a){null!=this.zj&&(a.il(this.zj),this.zj=null)};r.Qu=function(a,c,b){if(this.zj){var d=Oc(),e=Oc();this.xh.Qj(d,c);this.xh.Qj(e,b);this.uj.vn(d,e);Nc.push(d);Nc.push(e);c=P.qb(b.position,c.position);a.pq(this.zj,this.uj,c);N.fc(c)}};pc.rq=0;var vc=function(){this.filter=new Bd;this.filter.ck=1;this.filter.Hk=65535;this.filter.ci=0;this.shape=
null;this.kg=.2;this.Cf=this.Eg=0;this.Xr=!1},od=function(){this.xr=this.ur=null;this.to={}};od.prototype.Ia=function(){return this.ur};od.prototype.Fy=function(a){var c=a.yd;if(null==this.to[c]){a=new Cd(a);var b=this.xr;null!=b?b.wf(a):this.ur=a;a.xf(b);this.xr=a;this.to[c]=a}};od.prototype.Mz=function(a){a=a.yd;var c=this.to[a];if(null!=c){var b=c.of,c=c.next;null==b?this.ur=c:b.wf(c);null==c?this.xr=b:c.xf(b);delete this.to[a]}};var Cd=function(a){this.Ze=a;this.of=this.next=null};Cd.prototype.wf=
function(a){this.next=a};Cd.prototype.xf=function(a){this.of=a};var Dd=function(a,c){this.fD=a;this.Kf=c;this.pg=[];this.dp=[];this.ni=[];this.qh=[];this.pd=[]};r=Dd.prototype;r.un=function(){this.pg=[];this.dp=[];this.ni=[];this.qh=[];this.pd=[]};r.Rh=function(a,c,b){this.lA(a,c);this.Kf.gc(a,this.qh,this.qh.length);this.rA(a);this.nA(a);this.oA(a);this.Eu(this.Kf.qg);b&&this.mA(a)};r.lA=function(a,c){for(var b=0;b<this.dp.length;b++){var d=this.dp[b];d.q.x+=a.Ba*(c.x+d.I*d.rh.x);d.q.y+=a.Ba*(c.y+
d.I*d.rh.y);d.G+=a.Ba*d.Q*d.Dj;d.q.zd(P.xb(1-a.Ba*d.eD,0,1));d.G*=P.xb(1-a.Ba*d.TC,0,1)}};r.rA=function(a){this.Kf.Qe(a);for(var c=0;c<this.pd.length;c++)this.pd[c].Qe(a);for(c=0;c<a.pn;c++){for(var b=0;b<this.pd.length;b++)this.pd[b].ve(a);this.Kf.ve()}for(a=0;a<this.pd.length;a++)this.pd[a].iq();this.Kf.iq()};r.nA=function(a){for(var c=0;c<this.ni.length;++c){var b=this.ni[c],d=a.Ba*b.q.x,e=a.Ba*b.q.y;4<d*d+e*e&&(b.q.Ad(),b.q.x=2*b.q.x*a.jh,b.q.y=2*b.q.y*a.jh);d=a.Ba*b.G;d*d>Bc&&(b.G=0>b.G?-Ac*
a.jh:Ac*a.jh);b.m.Oc.H(b.m.B);b.m.Re=b.m.M;b.m.B.x+=a.Ba*b.q.x;b.m.B.y+=a.Ba*b.q.y;b.m.M+=a.Ba*b.G;b.Gb()}};r.oA=function(a){for(var c=0;c<a.Wm;c++){for(var b=this.Kf.ue(.2),d=!0,e=0;e<this.pd.length;e++)var g=this.pd[e].ue(.2),d=d&&g;if(b&&d)break}};r.mA=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.ni.length;b++){var d=this.ni[b];!d.Ds||Math.abs(d.G)>Cc||1E-4<P.Fb(d.q,d.q)?c=d.Im=0:(d.Im+=a.Ba,c=Math.min(c,d.Im))}if(.5<=c)for(a=0;a<this.pg.length;a++)this.pg[a].zc(!1)};r.Bq=function(a){var c=
0,b=0;this.Kf.gc(a,this.qh,this.qh.length);for(var d=this.Kf,c=0;c<this.pd.length;++c)this.pd[c].Qe(a);for(c=0;c<a.pn;++c)for(d.ve(),b=0;b<this.pd.length;++b)this.pd[b].ve(a);for(c=0;c<this.ni.length;++c){var b=this.ni[c],e=a.Ba*b.q.x,g=a.Ba*b.q.y;4<e*e+g*g&&(b.q.Ad(),b.q.x=2*b.q.x*a.jh,b.q.y=2*b.q.y*a.jh);e=a.Ba*b.G;e*e>Bc&&(b.G=0>b.G?-Ac*a.jh:Ac*a.jh);b.m.Oc.H(b.m.B);b.m.Re=b.m.M;b.m.B.x+=a.Ba*b.q.x;b.m.B.y+=a.Ba*b.q.y;b.m.M+=a.Ba*b.G;b.Gb()}for(c=0;c<a.Wm;++c){e=d.ue(.75);g=!0;for(b=0;b<this.pd.length;++b)var f=
this.pd[b].ue(.2),g=g&&f;if(e&&g)break}this.Eu(d.qg)};r.Eu=function(a){if(null!=this.fD)for(var c=0;c<this.qh.length;++c)for(var b=a[c],d=new yd,e=0;e<b.mf;++e)d.wD[e]=b.Yb[e].Wb,d.kE[e]=b.Yb[e].Ig};r.Oj=function(a){this.pg.push(a);a.Lc()!=Q.ye&&(this.ni.push(a),a.Lc()==Q.oc&&this.dp.push(a))};r.Pj=function(a){this.qh.push(a)};r.eu=function(a){this.pd.push(a)};var Ed=function(a,c,b,d,e){this.Ba=a;var g=0;0<a&&(g=1/a);this.jh=g;this.qc=c;this.Wm=b;this.pn=d;this.Ih=e},tc=function(a,c){this.Gd=new Ad(this);
this.Kf=new Fd;this.Ps=!1;this.Nc=new rd;this.Nd=new md;this.Db=null;this.Xi=new nd;this.fp=0;this.VC=this.lD=!0;this.Ds=c;this.Js=a;this.Uw=0;this.aD=this.gq(new Q)};tc.oz=1-100*Number.MIN_VALUE;r=tc.prototype;r.Iu=function(a){this.Gd.Fs=a};r.Ju=function(a){this.Gd.ph=a};r.gq=function(a){a=new qc(a,this);this.Nc.Oj(a);return a};r.yn=function(a){for(var c=a.Db;c;){var b=c,c=c.next;this.zn(b.mh)}for(c=a.Xi.Ia();c;c=c.next)c.yv.ql(a);for(c=a.Nd.Ia(pd);c;c=c.next)this.Gd.wd(c.Bc);for(c=a.kq().Ia();c;c=
c.next)a.iu(c.Ze);a.wd();this.Nc.ql(a)};r.xn=function(a){var c=Z.Pe(a);c.Bk=null;if(c.mi=this.Db)this.Db.Bk=c;this.Db=c;this.fp++;c.Hd.mh=c;c.Hd.Me=c.U;c.Hd.prev=null;if(c.Hd.next=c.T.Db)c.T.Db.prev=c.Hd;c.T.Db=c.Hd;c.Id.mh=c;c.Id.Me=c.T;c.Id.prev=null;if(c.Id.next=c.U.Db)c.U.Db.prev=c.Id;c.U.Db=c.Id;var b=a.L,d=a.N;if(!a.Yq)for(a=d.Nd.Ia(pd);a;a=a.next)a.Bc.Dn(d)==b&&a.Bc.ku();return c};r.zn=function(a){var c=a.Sw;a.Bk&&(a.Bk.mi=a.mi);a.mi&&(a.mi.Bk=a.Bk);a==this.Db&&(this.Db=a.mi);var b=a.T,d=a.U;
b.zc(!0);d.zc(!0);a.Hd.prev&&(a.Hd.prev.next=a.Hd.next);a.Hd.next&&(a.Hd.next.prev=a.Hd.prev);a.Hd==b.Db&&(b.Db=a.Hd.next);a.Hd.prev=null;a.Hd.next=null;a.Id.prev&&(a.Id.prev.next=a.Id.next);a.Id.next&&(a.Id.next.prev=a.Id.prev);a.Id==d.Db&&(d.Db=a.Id.next);a.Id.prev=null;a.Id.next=null;this.fp--;if(!c)for(a=d.Nd.Ia(pd);a;a=a.next)a.Bc.Dn(d)==b&&a.Bc.ku()};r.cl=function(a){if(null!==a.Ca&&a.Ca!=this)throw Error("Controller can only be a member of one world");this.Xi.cl(a);a.Ca=this;return a};r.rl=
function(a){this.Xi.rl(a);a.Ca=null;a.un()};r.Ku=function(a){this.Js=a};r.Rg=function(a,c,b){this.Ps&&(this.Gd.An(),this.Ps=!1);a=new Ed(a,this.Uw*a,c,b,this.lD);this.Gd.Ry();0<a.Ba&&(this.Rh(a),this.VC&&this.Bq(a),this.Uw=a.jh)};r.hu=function(){for(var a=this.Nc.Ia(sd);a;a=a.next)a.body.rh.ga(),a.body.Dj=0};r.Mh=function(){return this.Nd};var Gd=[];tc.prototype.Rh=function(a){for(var c=this.Xi.Ia();c;c=c.next)c.yv.Rg(a);for(var c=new Dd(this.Gd.ph,this.Kf),b=this.Nc.Ia(qd);b;b=b.next)b.body.ub=!1;
for(var d=this.Nd.Ia(pd);d;d=d.next)d.Bc.ub=!1;for(b=this.Db;b;b=b.mi)b.ub=!1;for(b=this.Nc.Ia(ud);b;b=b.next)if(d=b.body,!d.ub){c.un();Gd.length=0;var e=Gd;e.push(d);for(d.ub=!0;0<e.length;){var g=e.pop();c.Oj(g);g.ed()||g.zc(!0);if(g.Lc()!=Q.ye){for(d=g.Nd.Ia(Hd);d;d=d.next){var f=d.Bc;f.ub||(c.Pj(f),f.ub=!0,f=f.Dn(g),f.ub||(e.push(f),f.ub=!0))}for(d=g.Db;d;d=d.next)!d.mh.ub&&d.Me.Ph()&&(c.eu(d.mh),d.mh.ub=!0,d.Me.ub||(e.push(d.Me),d.Me.ub=!0))}}c.Rh(a,this.Js,this.Ds)}for(b=this.Nc.Ia(ud);b;b=
b.next)b.body.Ru();this.Gd.An()};tc.prototype.Bq=function(a){for(var c=new Dd(this.Gd.ph,this.Kf),b=this.Nc.Ia(qd);b;b=b.next){var d=b.body;d.ub=!1;d.m.sd=0}for(var e=this.Nd.Ia(pd);e;e=e.next)e.Bc.ub=!1,e.Bc.Fk=null;for(b=this.Db;b;b=b.mi)b.ub=!1;for(;;){var b=this.pA(),g=b.tD,b=b.uD;if(null===g||tc.oz<b)break;e=g.Hb.Pa();d=g.Cb.Pa();tc.Jx.Set(e.m);tc.Kx.Set(d.m);e.Lh(b);d.Lh(b);g.Su(this.Gd.ph);g.Fk=null;if(g.Ep||!g.enabled)e.m.Set(tc.Jx),d.m.Set(tc.Kx),e.Gb(),d.Gb();else if(g.ln){e.Lc()!=Q.oc&&
(e=d);c.un();Gd.length=0;g=Gd;g.push(e);for(e.ub=!0;0<g.length;)if(d=g.pop(),c.Oj(d),d.ed()||d.zc(!0),d.Lc()==Q.oc){for(e=d.Nd.Ia(Hd);e&&32!=c.UC;e=e.next){var f=e.Bc;f.ub||(c.Pj(f),f.ub=!0,f=f.Dn(d),f.ub||(f.Lc()!=Q.ye&&(f.Lh(b),f.zc(!0),g.push(f)),f.ub=!0))}for(d=d.Db;d;d=d.next)32!=c.fp&&!d.mh.ub&&d.Me.Ph()&&(c.eu(d.mh),d.mh.ub=!0,d.Me.ub||(d.Me.Lc()!=Q.ye&&(d.Me.Lh(b),d.Me.zc(!0),g.push(d.Me)),d.Me.ub=!0))}c.Bq(new Ed((1-b)*a.Ba,0,a.pn,a.Wm,!1));for(b=0;b<c.pg.length;b++)if(c.pg[b].ub=!1,c.pg[b].ed()&&
c.pg[b].Lc()==Q.oc)for(c.pg[b].Ru(),e=c.pg[b].Nd.Ia(pd);e;e=e.next)e.Bc.Fk=null;for(b=0;b<c.UC;b++)c.qh[b].ub=!1,c.qh[b].Fk=null;for(b=0;b<c.fp;b++)c.pd[b].ub=!1;this.Gd.An()}}};tc.prototype.pA=function(){for(var a=null,c=1,b=this.Nd.Ia(Id);b;b=b.next){var d=b.Bc;if(!this.qA(d)){var e=1;if(null!=d.Fk)e=d.Fk;else{if(d.ln)e=1;else{var e=d.Hb.Pa(),g=d.Cb.Pa(),f=e.m.sd;e.m.sd<g.m.sd?(f=g.m.sd,e.m.Lh(f)):g.m.sd<e.m.sd&&(f=e.m.sd,g.m.Lh(f));e=d.Wy(e.m,g.m);0<e&&1>e&&(e=(1-e)*f+e)}d.Fk=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{tD:a,uD:c}};tc.prototype.qA=function(a){var c=a.Hb.Pa();a=a.Cb.Pa();return c.Lc()==Q.oc&&c.ed()||a.Lc()==Q.oc&&a.ed()?!1:!0};var Kd=function(a,c){this.yd="Contact"+Jd++;this.Ke=new dd;this.Gm=new dd;this.ln=!1;var b=a.Pa(),d=c.Pa();this.$q=b.Lc()!=Q.oc||b.zk||d.Lc()!=Q.oc||d.zk;this.Ep=a.Li()||c.Li();this.ro=!1;this.Hb=a;this.Cb=c;this.enabled=!0;this.Sn=b.Mh();this.Tn=d.Mh();this.dq=d.Ca.Mh();this.fu()};r=Kd.prototype;r.Mc=function(a,c){this.Ke.Mc();this.Gm.Mc();this.ln=
!1;var b=a.Pa(),d=c.Pa();this.$q=b.Lc()!=Q.oc||b.zk||d.Lc()!=Q.oc||d.zk;this.Ep=a.Li()||c.Li();this.ro=!1;this.Hb=a;this.Cb=c;this.enabled=!0;this.Sn=b.Mh();this.Tn=d.Mh();this.dq=d.Ca.Mh();this.fu()};r.fu=function(){this.Sn.Pj(this);this.Tn.Pj(this);this.dq.Pj(this);this.Uu()};r.Uu=function(){var a=!1,c=!1;!this.Li()&&this.Gn()&&(this.oq()&&(a=!0),this.$q&&(c=!0));this.Sn.Dq(this,a,c);this.Tn.Dq(this,a,c);this.dq.Dq(this,a,c)};r.Nz=function(){this.Sn.xq(this);this.Tn.xq(this);this.dq.xq(this)};r.oq=
function(){return this.ln};r.Li=function(){return this.Ep};r.Gn=function(){return this.enabled};r.Dn=function(a){var c=this.Hb.Pa();return c!=a?c:this.Cb.Pa()};r.ku=function(){this.ro=!0};r.Qy=function(){this.ro=!1};r.Su=function(a){var c=this.Gm;this.Gm=this.Ke;this.Ke=c;this.enabled=!0;var b=!1,c=this.oq(),d=this.Hb.Pa(),e=this.Cb.Pa(),g=this.Hb.uj.yl(this.Cb.uj);if(this.Ep){if(g){var b=this.Hb.xc(),d=d.Zd(),g=this.Cb.xc(),f=e.Zd(),e=new Uc;e.Ch=new Wc;e.Ch.Set(b);e.Dh=new Wc;e.Dh.Set(g);e.Vp=d;
e.Wp=f;e.wy=!0;d=new jd;d.count=0;b=new Vc;Tc(b,d,e);b=b.bh<10*Number.MIN_VALUE}this.Ke.Vb=0}else{this.$q=d.Lc()!=Q.oc||d.zk||e.Lc()!=Q.oc||e.zk?!0:!1;if(g)for(this.Yf(),b=0<this.Ke.Vb,g=0;g<this.Ke.Vb;g++){f=this.Ke.ka[g];f.yj=0;for(var l=f.Cj=0;l<this.Gm.Vb;l++){var h=this.Gm.ka[l];if(h.hf.Bd==f.hf.Bd){f.yj=h.yj;f.Cj=h.Cj;break}}}else this.Ke.Vb=0;b!=c&&(d.zc(!0),e.zc(!0))}this.ln=b;b!=c&&this.Uu();!c&&b&&a.tn(this)};r.Yf=function(){};r.Wy=function(a,c){Ld.Ch.Set(this.Hb.xc());Ld.Dh.Set(this.Cb.xc());
Ld.Xx=a;Ld.Yx=c;Ld.qE=.005;var b=Ld;Md++;var d=b.Ch,e=b.Dh,g=b.Xx,f=b.Yx,l=d.Sa+e.Sa,b=b.qE,h=0,n=0,k=0;Nd.count=0;for(Od.wy=!1;;){g.Zd(Pd,h);f.Zd(Qd,h);Od.Ch=d;Od.Dh=e;Od.Vp=Pd;Od.Wp=Qd;Tc(Rd,Nd,Od);if(0>=Rd.bh){h=1;break}Sd.gc(Nd,d,Pd,e,Qd);var m=Sd.Yf(Pd,Qd);if(0>=m){h=1;break}0==n&&(k=m>l?Math.max(l-b,.75*l):Math.max(m-b,.02*l));if(m-k<.5*b){if(0==n){h=1;break}break}var q=h,p=h,s=1;g.Zd(Pd,s);f.Zd(Qd,s);var t=Sd.Yf(Pd,Qd);if(t>=k){h=1;break}for(var u=0;;){var x=0,x=u&1?p+(k-m)*(s-p)/(t-m):.5*
(p+s);g.Zd(Pd,x);f.Zd(Qd,x);var A=Sd.Yf(Pd,Qd);if(Math.abs(A-k)<.025*b){q=x;break}A>k?(p=x,m=A):(s=x,t=A);u++;Td++;if(50==u)break}Ud=Math.max(Ud,u);if(q<(1+100*Number.MIN_VALUE)*h)break;h=q;n++;Vd++;if(1E3==n)break}Wd=Math.max(Wd,n);return h};var Ld=new kd,Jd=0,Xd=function(a,c){Kd.call(this,a,c)};K(Xd,Kd);Xd.prototype.Mc=function(a,c){Kd.prototype.Mc.call(this,a,c)};Xd.prototype.Yf=function(){var a=this.Ke,c=this.Hb.xc(),b=this.Hb.Pa().D,d=this.Cb.xc(),e=this.Cb.Pa().D;a.Vb=0;var g=e.position.x+(e.n.j.x*
d.fb.x+e.n.k.x*d.fb.y)-(b.position.x+(b.n.j.x*c.fb.x+b.n.k.x*c.fb.y)),b=e.position.y+(e.n.j.y*d.fb.x+e.n.k.y*d.fb.y)-(b.position.y+(b.n.j.y*c.fb.x+b.n.k.y*c.fb.y)),e=c.Sa+d.Sa;g*g+b*b>e*e||(a.Oa=1,a.qa.H(c.fb),a.Sc.ga(),a.Vb=1,a.ka[0].qa.H(d.fb),a.ka[0].hf.Mi(0))};var Zd=function(){this.og=N.u(0,0);this.Ub=N.u(0,0);this.qd=N.u(0,0);this.zh=new O;this.$d=new O;this.Yb=[];for(var a=0;2>a;a++)this.Yb[a]=new Yd},Yd=function(){this.Ub=N.u(0,0);this.Mb=N.u(0,0);this.Nb=N.u(0,0)};Yd.prototype.Mc=function(){this.Ub.Set(0,
0);this.Mb.Set(0,0);this.Nb.Set(0,0)};var zd=function(){this.Mf={};this.sh={};this.dl(Xd,uc.uf,uc.uf);this.dl($d,V.uf,uc.uf);this.dl(ae,V.uf,V.uf);this.dl(be,"b2EdgeShape",uc.uf);this.dl(ce,V.uf,"b2EdgeShape")};zd.prototype.dl=function(a,c,b){this.sh[c]=this.sh[c]||{};this.sh[c][b]=this.sh[c][b]||[];this.Mf[c]=this.Mf[c]||{};this.Mf[c][b]=new de;this.Mf[c][b].Cv=a;this.Mf[c][b].Ax=!0;c!=b&&(this.Mf[b]=this.Mf[b]||{},this.Mf[b][c]=new de,this.Mf[b][c].Cv=a,this.Mf[b][c].Ax=!1)};zd.prototype.Pe=function(a,
c){var b=a.xc().Ki(),d=c.xc().Ki(),e=this.Mf[b][d],g=e.Cv;return null!=g?e.Ax?0<this.sh[b][d].length?(b=this.sh[b][d].pop(),b.Mc(a,c),b):new g(a,c):0<this.sh[d][b].length?(b=this.sh[d][b].pop(),b.Mc(c,a),b):new g(c,a):null};zd.prototype.wd=function(a){var c=a.Hb.xc().Ki(),b=a.Cb.xc().Ki();this.sh[c][b].push(a)};var md=function(){this.$n=[];for(var a=0;a<=pd;a++)this.$n[a]=null;this.ao=[];for(a=0;a<=pd;a++)this.ao[a]=null;this.Wi={}};r=md.prototype;r.Ia=function(a){return this.$n[a]};r.Pj=function(a){var c=
a.yd;if(null==this.Wi[c]){this.Wi[c]=[];for(var b=0;b<=pd;b++)this.Wi[c][b]=null;this.Xf(a,c,pd)}};r.Dq=function(a,c,b){c?this.Xf(a,a.yd,Hd):this.ag(a.yd,Hd);b?this.Xf(a,a.yd,Id):this.ag(a.yd,Id)};r.xq=function(a){a=a.yd;if(null!=this.Wi[a]){for(var c=0;c<=pd;c++)this.ag(a,c);delete this.Wi[a]}};r.ag=function(a,c){var b=this.Wi[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.of,e=d.next;null==b?this.$n[c]=e:b.wf(e);null==e?this.ao[c]=b:e.xf(b);ee.push(d)}}};r.Xf=function(a,c,b){c=this.Wi[c];
if(null==c[b]){if(0<ee.length){var d=ee.pop();d.next=null;d.of=null;d.Bc=a;a=d}else a=new fe(a);c[b]=a;a=this.ao[b];null!=a?(a.wf(c[b]),c[b].xf(a)):this.$n[b]=c[b];this.ao[b]=c[b]}};var Hd=0,Id=1,pd=2,fe=function(a){this.Bc=a;this.of=this.next=null},ee=[];fe.prototype.wf=function(a){this.next=a};fe.prototype.xf=function(a){this.of=a};var de=function(){},ge=function(){this.ra=N.u(0,0);this.kp=[];this.ka=[];for(var a=0;2>a;a++)this.ka[a]=N.u(0,0)};ge.prototype.gc=function(a){switch(a.type){case 1:this.iA(a);
break;case 2:this.jA(a);break;case 4:this.kA(a)}};ge.prototype.iA=function(a){var c=a.L.D.n,b=a.Ub,d=a.L.D.position.x+(c.j.x*b.x+c.k.x*b.y),e=a.L.D.position.y+(c.j.y*b.x+c.k.y*b.y),c=a.N.D.n,b=a.Yb[0].Ub,g=a.N.D.position.x+(c.j.x*b.x+c.k.x*b.y),c=a.N.D.position.y+(c.j.y*b.x+c.k.y*b.y),b=g-d,f=c-e,l=b*b+f*f;l>Dc?(l=Math.sqrt(l),this.ra.x=b/l,this.ra.y=f/l):(this.ra.x=1,this.ra.y=0);this.ka[0].x=.5*(d+g);this.ka[0].y=.5*(e+c);this.kp[0]=b*this.ra.x+f*this.ra.y-a.xp};ge.prototype.jA=function(a){this.ra.x=
a.L.D.n.j.x*a.og.x+a.L.D.n.k.x*a.og.y;this.ra.y=a.L.D.n.j.y*a.og.x+a.L.D.n.k.y*a.og.y;for(var c=a.L.D.position.x+(a.L.D.n.j.x*a.Ub.x+a.L.D.n.k.x*a.Ub.y),b=a.L.D.position.y+(a.L.D.n.j.y*a.Ub.x+a.L.D.n.k.y*a.Ub.y),d=0;d<a.mf;d++){var e=a.N.D.position.x+(a.N.D.n.j.x*a.Yb[d].Ub.x+a.N.D.n.k.x*a.Yb[d].Ub.y),g=a.N.D.position.y+(a.N.D.n.j.y*a.Yb[d].Ub.x+a.N.D.n.k.y*a.Yb[d].Ub.y);this.kp[d]=(e-c)*this.ra.x+(g-b)*this.ra.y-a.xp;this.ka[d].x=e;this.ka[d].y=g}};ge.prototype.kA=function(a){this.ra.x=a.N.D.n.j.x*
a.og.x+a.N.D.n.k.x*a.og.y;this.ra.y=a.N.D.n.j.y*a.og.x+a.N.D.n.k.y*a.og.y;for(var c=a.N.D.position.x+(a.N.D.n.j.x*a.Ub.x+a.N.D.n.k.x*a.Ub.y),b=a.N.D.position.y+(a.N.D.n.j.y*a.Ub.x+a.N.D.n.k.y*a.Ub.y),d=0;d<a.mf;d++){var e=a.L.D.position.x+(a.L.D.n.j.x*a.Yb[d].Ub.x+a.L.D.n.k.x*a.Yb[d].Ub.y),g=a.L.D.position.y+(a.L.D.n.j.y*a.Yb[d].Ub.x+a.L.D.n.k.y*a.Yb[d].Ub.y);this.kp[d]=(e-c)*this.ra.x+(g-b)*this.ra.y-a.xp;this.ka[d].Set(e,g)}this.ra.x*=-1;this.ra.y*=-1};var Fd=function(){this.qg=[]};r=Fd.prototype;
r.gc=function(a,c,b){for(this.Bm=b;this.qg.length<this.Bm;)this.qg[this.qg.length]=new Zd;for(a=0;a<b;a++){var d=c[a],e=d.Hb,g=d.Cb,f=e.xh.Sa,l=g.xh.Sa,h=e.Pa(),n=g.Pa(),k=d.Ke,m=Math.sqrt(e.Is*g.Is),q,e=e.Qs,g=g.Qs;q=e>g?e:g;var p=h.q.x,s=h.q.y,t=n.q.x,u=n.q.y,x=h.G,A=n.G;he.gc(k,h.D,f,n.D,l);e=he.ra.x;d=he.ra.y;g=this.qg[a];g.L=h;g.N=n;g.mD=k;g.qd.x=e;g.qd.y=d;g.mf=k.Vb;g.kg=m;g.Eg=q;g.og.x=k.Sc.x;g.og.y=k.Sc.y;g.Ub.x=k.qa.x;g.Ub.y=k.qa.y;g.xp=f+l;g.type=k.Oa;for(f=0;f<g.mf;++f){m=k.ka[f];l=g.Yb[f];
l.Wb=m.yj;l.Ig=m.Cj;l.Ub.H(m.qa);m=l.Mb.x=he.ka[f].x-h.m.B.x;q=l.Mb.y=he.ka[f].y-h.m.B.y;var D=l.Nb.x=he.ka[f].x-n.m.B.x,y=l.Nb.y=he.ka[f].y-n.m.B.y,B=m*d-q*e,E=D*d-y*e,B=B*B,E=E*E;l.zh=1/(h.I+n.I+h.Q*B+n.Q*E);var C=h.S*h.I+n.S*n.I,C=C+(h.S*h.Q*B+n.S*n.Q*E);l.wB=1/C;E=d;C=-e;B=m*C-q*E;E=D*C-y*E;B*=B;E*=E;l.lE=1/(h.I+n.I+h.Q*B+n.Q*E);l.on=0;m=g.qd.x*(t+-A*y-p- -x*q)+g.qd.y*(u+A*D-s-x*m);-1>m&&(l.on+=-g.Eg*m)}2==g.mf&&(u=g.Yb[0],t=g.Yb[1],k=h.I,h=h.Q,p=n.I,n=n.Q,s=u.Mb.x*d-u.Mb.y*e,u=u.Nb.x*d-u.Nb.y*
e,x=t.Mb.x*d-t.Mb.y*e,t=t.Nb.x*d-t.Nb.y*e,e=k+p+h*s*s+n*u*u,d=k+p+h*x*x+n*t*t,n=k+p+h*s*x+n*u*t,e*e<100*(e*d-n*n)?(g.$d.j.Set(e,n),g.$d.k.Set(n,d),g.$d.lq(g.zh)):g.mf=1)}};r.Qe=function(a){for(var c=0;c<this.Bm;++c){var b=this.qg[c],d=b.L,e=b.N,g=d.I,f=d.Q,l=e.I,h=e.Q,n=b.qd.x,k=b.qd.y,m=k,q=-n,p=0,s=0;if(a.Ih)for(s=b.mf,p=0;p<s;++p){var t=b.Yb[p];t.Wb*=a.qc;t.Ig*=a.qc;var u=t.Wb*n+t.Ig*m,x=t.Wb*k+t.Ig*q;d.G-=f*(t.Mb.x*x-t.Mb.y*u);d.q.x-=g*u;d.q.y-=g*x;e.G+=h*(t.Nb.x*x-t.Nb.y*u);e.q.x+=l*u;e.q.y+=
l*x}else for(s=b.mf,p=0;p<s;++p)d=b.Yb[p],d.Wb=0,d.Ig=0}};r.ve=function(){for(var a=0;a<this.Bm;a++)this.Zz(this.qg[a])};r.Zz=function(a){for(var c=a.qd.x,b=a.qd.y,d=0;d<a.mf;d++)Fd.prototype.$z(a,a.Yb[d]);if(1==a.mf){var d=a.Yb[0],e=d.Wb-d.zh*((a.N.q.x-a.N.G*d.Nb.y-a.L.q.x+a.L.G*d.Mb.y)*c+(a.N.q.y+a.N.G*d.Nb.x-a.L.q.y-a.L.G*d.Mb.x)*b-d.on),e=0<e?e:0,g=e-d.Wb,f=g*c,b=g*b;a.L.q.x-=a.L.I*f;a.L.q.y-=a.L.I*b;a.L.G-=a.L.Q*(d.Mb.x*b-d.Mb.y*f);a.N.q.x+=a.N.I*f;a.N.q.y+=a.N.I*b;a.N.G+=a.N.Q*(d.Nb.x*b-d.Nb.y*
f);d.Wb=e}else for(var d=a.Yb[0],e=a.Yb[1],g=d.Wb,f=e.Wb,l=(a.N.q.x-a.N.G*d.Nb.y-a.L.q.x+a.L.G*d.Mb.y)*c+(a.N.q.y+a.N.G*d.Nb.x-a.L.q.y-a.L.G*d.Mb.x)*b-d.on,b=(a.N.q.x-a.N.G*e.Nb.y-a.L.q.x+a.L.G*e.Mb.y)*c+(a.N.q.y+a.N.G*e.Nb.x-a.L.q.y-a.L.G*e.Mb.x)*b-e.on,l=l-(a.$d.j.x*g+a.$d.k.x*f),b=b-(a.$d.j.y*g+a.$d.k.y*f);;){c=-(a.zh.j.x*l+a.zh.k.x*b);if(0<=c){var h=-(a.zh.j.y*l+a.zh.k.y*b);if(0<=h){this.Ln(a,d,e,c-g,h-f);d.Wb=c;e.Wb=h;break}}c=-d.zh*l;if(0<=c&&0<=a.$d.j.y*c+b){this.Ln(a,d,e,c-g,-f);d.Wb=c;e.Wb=
0;break}c=-e.zh*b;if(0<=c&&0<=a.$d.k.x*c+l){this.Ln(a,d,e,-g,c-f);d.Wb=0;e.Wb=c;break}if(0<=l&&0<=b){this.Ln(a,d,e,-g,-f);d.Wb=0;e.Wb=0;break}break}};r.$z=function(a,c){var b=a.qd.y,d=-a.qd.x,e=a.kg*c.Wb,e=P.xb(c.Ig-c.lE*((a.N.q.x-a.N.G*c.Nb.y-a.L.q.x+a.L.G*c.Mb.y)*b+(a.N.q.y+a.N.G*c.Nb.x-a.L.q.y-a.L.G*c.Mb.x)*d),-e,e),g=e-c.Ig,b=g*b,d=g*d;a.L.q.x-=a.L.I*b;a.L.q.y-=a.L.I*d;a.L.G-=a.L.Q*(c.Mb.x*d-c.Mb.y*b);a.N.q.x+=a.N.I*b;a.N.q.y+=a.N.I*d;a.N.G+=a.N.Q*(c.Nb.x*d-c.Nb.y*b);c.Ig=e};r.Ln=function(a,c,
b,d,e){var g=d*a.qd.x;d*=a.qd.y;var f=e*a.qd.x;e*=a.qd.y;a.L.q.x-=a.L.I*(g+f);a.L.q.y-=a.L.I*(d+e);a.L.G-=a.L.Q*(c.Mb.x*d-c.Mb.y*g+b.Mb.x*e-b.Mb.y*f);a.N.q.x+=a.N.I*(g+f);a.N.q.y+=a.N.I*(d+e);a.N.G+=a.N.Q*(c.Nb.x*d-c.Nb.y*g+b.Nb.x*e-b.Nb.y*f);c.Wb=0;b.Wb=0};r.iq=function(){for(var a=0;a<this.Bm;++a)for(var c=this.qg[a],b=c.mD,d=0;d<c.mf;++d){var e=b.ka[d],g=c.Yb[d];e.yj=g.Wb;e.Cj=g.Ig}};r.ue=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.Bm;b++){var d=this.qg[b],e=d.L,g=d.N,f=e.S*e.I,l=e.S*
e.Q,h=g.S*g.I,n=g.S*g.Q;ie.gc(d);for(var k=ie.ra,m=0;m<d.mf;m++){var q=d.Yb[m],p=ie.ka[m],s=ie.kp[m],t=p.x-e.m.B.x,u=p.y-e.m.B.y,x=p.x-g.m.B.x,p=p.y-g.m.B.y,c=c<s?c:s,s=-q.wB*P.xb(a*(s+.005),-.2,0),q=s*k.x,s=s*k.y;e.m.B.x-=f*q;e.m.B.y-=f*s;e.m.M-=l*(t*s-u*q);e.Gb();g.m.B.x+=h*q;g.m.B.y+=h*s;g.m.M+=n*(x*s-p*q);g.Gb()}}return-.0075<c};var be=function(a,c){Kd.call(this,a,c)};K(be,Kd);be.prototype.Mc=function(a,c){Kd.prototype.Mc.call(this,a,c)};be.prototype.Yf=function(){this.Hb.xc();this.Cb.xc()};var $d=
function(a,c){Kd.call(this,a,c)};K($d,Kd);$d.prototype.Mc=function(a,c){Kd.prototype.Mc.call(this,a,c)};$d.prototype.Yf=function(){a:{var a=this.Ke,c=this.Hb.xc(),b=this.Hb.Pa().D,d=this.Cb.xc(),e=this.Cb.Pa().D;a.Vb=0;for(var g=e.position.x+(e.n.j.x*d.fb.x+e.n.k.x*d.fb.y)-b.position.x,f=e.position.y+(e.n.j.y*d.fb.x+e.n.k.y*d.fb.y)-b.position.y,e=g*b.n.j.x+f*b.n.j.y,b=g*b.n.k.x+f*b.n.k.y,g=0,f=-Number.MAX_VALUE,l=c.Sa+d.Sa,h=0;h<c.Ma;++h){var n=c.ta[h].x*(e-c.K[h].x)+c.ta[h].y*(b-c.K[h].y);if(n>l)break a;
n>f&&(f=n,g=h)}n=g+1;n>=c.Ma&&(n=0);var h=c.K[g],k=c.K[n];f<Number.MIN_VALUE?(a.Vb=1,a.Oa=2,a.Sc.H(c.ta[g]),a.qa.x=.5*(h.x+k.x),a.qa.y=.5*(h.y+k.y),a.ka[0].qa.H(d.fb),a.ka[0].hf.Mi(0)):0>=(e-h.x)*(k.x-h.x)+(b-h.y)*(k.y-h.y)?(e-h.x)*(e-h.x)+(b-h.y)*(b-h.y)>l*l||(a.Vb=1,a.Oa=2,a.Sc.x=e-h.x,a.Sc.y=b-h.y,a.Sc.Ad(),a.qa.H(h),a.ka[0].qa.H(d.fb),a.ka[0].hf.Mi(0)):0>=(e-k.x)*(h.x-k.x)+(b-k.y)*(h.y-k.y)?(e-k.x)*(e-k.x)+(b-k.y)*(b-k.y)>l*l||(a.Vb=1,a.Oa=2,a.Sc.x=e-k.x,a.Sc.y=b-k.y,a.Sc.Ad(),a.qa.H(k),a.ka[0].qa.H(d.fb),
a.ka[0].hf.Mi(0)):(n=.5*(h.x+k.x),h=.5*(h.y+k.y),f=(e-n)*c.ta[g].x+(b-h)*c.ta[g].y,f>l||(a.Vb=1,a.Oa=2,a.Sc.x=c.ta[g].x,a.Sc.y=c.ta[g].y,a.Sc.Ad(),a.qa.Set(n,h),a.ka[0].qa.H(d.fb),a.ka[0].hf.Mi(0)))}};var ce=function(a,c){Kd.call(this,a,c)};K(ce,Kd);ce.prototype.Mc=function(a,c){Kd.prototype.Mc.call(this,a,c)};ce.prototype.Yf=function(){this.Hb.xc();this.Cb.xc()};var ae=function(a,c){Kd.call(this,a,c)};K(ae,Kd);ae.prototype.Mc=function(a,c){Kd.prototype.Mc.call(this,a,c)};ae.prototype.Yf=function(){var a=
this.Ke,c=this.Hb.xc(),b=this.Hb.Pa().D,d=this.Cb.xc(),e=this.Cb.Pa().D;a.Vb=0;var g=c.Sa+d.Sa,f=Rc(c,b,d,e),l=f.nv;if(!(f.Fp>g)){var h=Rc(d,e,c,b);if(!(h.Fp>g)){var n=c,k=d,m=b,q=e,p=0;a.Oa=2;h.Fp>.98*f.Fp+.001&&(n=d,k=c,m=e,q=b,l=h.nv,a.Oa=4,p=1);c=l;b=q;d=je;void 0===c&&(c=0);for(var e=m.n.j.x*n.ta[c].x+m.n.k.x*n.ta[c].y,f=m.n.j.y*n.ta[c].x+m.n.k.y*n.ta[c].y,h=b.n.j.x*e+b.n.j.y*f,f=b.n.k.x*e+b.n.k.y*f,e=h,h=0,s=Number.MAX_VALUE,t=0;t<k.Ma;t++){var u=e*k.ta[t].x+f*k.ta[t].y;u<s&&(s=u,h=t)}e=h+1;
e>=k.Ma&&(e=0);d[0].Oe.x=b.position.x+(b.n.j.x*k.K[h].x+b.n.k.x*k.K[h].y);d[0].Oe.y=b.position.y+(b.n.j.y*k.K[h].x+b.n.k.y*k.K[h].y);d[0].id.Ou(c);d[0].id.Lu(h);d[0].id.Mu(0);d[1].Oe.x=b.position.x+(b.n.j.x*k.K[e].x+b.n.k.x*k.K[e].y);d[1].Oe.y=b.position.y+(b.n.j.y*k.K[e].x+b.n.k.y*k.K[e].y);d[1].id.Ou(c);d[1].id.Lu(e);d[1].id.Mu(1);c=n.K[l];l=l+1<n.Ma?n.K[l+1]:n.K[0];ke.Set(l.x-c.x,l.y-c.y);ke.Ad();le.x=ke.y;le.y=-ke.x;me.Set(.5*(c.x+l.x),.5*(c.y+l.y));ne.x=m.n.j.x*ke.x+m.n.k.x*ke.y;ne.y=m.n.j.y*
ke.x+m.n.k.y*ke.y;oe.x=-ne.x;oe.y=-ne.y;pe.x=ne.y;pe.y=-ne.x;qe.x=m.position.x+(m.n.j.x*c.x+m.n.k.x*c.y);qe.y=m.position.y+(m.n.j.y*c.x+m.n.k.y*c.y);re.x=m.position.x+(m.n.j.x*l.x+m.n.k.x*l.y);re.y=m.position.y+(m.n.j.y*l.x+m.n.k.y*l.y);if(!(2>Pc(se,je,oe,-ne.x*qe.x-ne.y*qe.y+g)||2>Pc(te,se,ne,ne.x*re.x+ne.y*re.y+g))){a.Sc.H(le);a.qa.H(me);m=pe.x*qe.x+pe.y*qe.y;for(n=l=0;2>n;++n)pe.x*te[n].Oe.x+pe.y*te[n].Oe.y-m<=g&&(c=te[n].Oe.x-q.position.x,k=te[n].Oe.y-q.position.y,a.ka[l].qa.x=c*q.n.j.x+k*q.n.j.y,
a.ka[l].qa.y=c*q.n.k.x+k*q.n.k.y,a.ka[l].hf.Set(te[n].id),a.ka[l].hf.Pz(p),l++);a.Vb=l}}}};var ve=function(){this.yd="Controller"+ue++;this.Ca=null;this.Nc=new rd};ve.prototype.Rg=function(){};ve.prototype.Oj=function(a){this.Nc.Oj(a);a.cl(this)};ve.prototype.ql=function(a){this.Nc.ql(a);a.rl(this)};ve.prototype.un=function(){for(var a=this.Nc.Ia(qd);a;a=a.next)this.ql(a.body)};var ue=0,we=function(){ve.call(this);this.qd=N.u(0,-1);this.Cf=this.offset=0;this.zy=N.u(0,0);this.QC=2;this.zA=1;this.wE=
!0;this.Yv=null};K(we,ve);we.prototype.Rg=function(){this.wE&&(this.Yv=this.Ca.Js.nc());for(var a=this.Nc.Ia(vd);a;a=a.next){for(var c=a.body,b=N.u(0,0),d=N.u(0,0),e=0,g=0,f=c.kq().Ia();f;f=f.next){var l=N.u(0,0),h=f.Ze.xc().wn(this.qd,this.offset,c.Zd(),l),e=e+h;b.x+=h*l.x;b.y+=h*l.y;var n=0,n=1,g=g+h*n;d.x+=h*l.x*n;d.y+=h*l.y*n}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=g,d.y/=g,g=this.Yv.Nh(),g.zd(this.Cf*e),c.tf(g,d),g=c.fz(b),g.Cq(this.zy),g.zd(-this.QC*e),c.tf(g,b),c.sn(-c.ff/c.Uj()*e*c.Bn()*this.zA),
N.fc(b),N.fc(d))}};var xe=function(){ve.call(this);this.du=N.u(0,0)};K(xe,ve);xe.prototype.Rg=function(a){a=N.u(this.du.x*a.Ba,this.du.y*a.Ba);for(var c=this.Nc.Ia(vd);c;c=c.next){var b=c.body,d=b.Ii();b.Ni(N.u(d.x+a.x,d.y+a.y))}N.fc(a)};var ye=function(){ve.call(this);this.cz=N.u(0,0)};K(ye,ve);ye.prototype.Rg=function(){for(var a=this.Nc.Ia(vd);a;a=a.next){var c=a.body;c.tf(this.cz,c.Vj())}};var nd=function(){this.cr=this.br=null;this.bo={}};nd.prototype.Ia=function(){return this.br};nd.prototype.cl=
function(a){var c=a.yd;if(null==this.bo[c]){a=new ze(a);var b=this.cr;null!=b?b.wf(a):this.br=a;a.xf(b);this.cr=a;this.bo[c]=a}};nd.prototype.rl=function(a){a=a.yd;var c=this.bo[a];if(null!=c){var b=c.of,c=c.next;null==b?this.br=c:b.wf(c);null==c?this.cr=b:c.xf(b);delete this.bo[a]}};var ze=function(a){this.yv=a;this.of=this.next=null};ze.prototype.wf=function(a){this.next=a};ze.prototype.xf=function(a){this.of=a};var Ae=function(){ve.call(this);this.lu=1;this.EC=!0};K(Ae,ve);Ae.prototype.Rg=function(){var a=
null,c=null,b=0,d=null,e=null,g=0,f=0,l=0,g=null;if(this.EC)for(var h=this.Nc.Ia(qd);h;h=h.next)for(var a=h.body,c=a.Vj(),b=a.Uj(),n=this.Nc.Ia(qd);n;n=n.next){if(d=n.body,a.ed()||d.ed())e=d.Vj(),g=e.x-c.x,f=e.y-c.y,l=g*g+f*f,l<Number.MIN_VALUE||(g=N.u(g,f),g.zd(this.lu/l/Math.sqrt(l)*b*d.Uj()),a.ed()&&a.tf(g,c),g.zd(-1),d.ed()&&d.tf(g,e),N.fc(g))}else for(h=this.Nc.Ia(qd);h;h=h.next)for(a=bodyNode.body,c=a.Vj(),b=a.Uj(),n=this.Nc.Ia(qd);n;n=n.next)if(d=bodyNode.body,a.ed()||d.ed())e=d.Vj(),g=e.x-
c.x,f=e.y-c.y,l=g*g+f*f,l<Number.MIN_VALUE||(g=N.u(g,f),g.zd(this.lu/l*b*d.Uj()),a.ed()&&a.tf(g,c),g.zd(-1),d.ed()&&d.tf(g,e),N.fc(g))};var Be=function(){ve.call(this);this.bA=new O;this.Vs=0};K(Be,ve);Be.prototype.Rg=function(a){a=a.Ba;if(!(a<=Number.MIN_VALUE)){a>this.Vs&&0<this.Vs&&(a=this.Vs);for(var c=this.Nc.Ia(vd);c;c=c.next){var b=c.body,d=b.nq(P.Rb(this.bA,b.mq(b.Ii())));b.Ni(N.u(b.Ii().x+d.x*a,b.Ii().y+d.y*a))}}};var Z=function(a){this.Hd=new Ce;this.Id=new Ce;this.tg=N.u(0,0);this.ug=N.u(0,
0);this.Oa=a.type;this.mi=this.Bk=null;this.T=a.L;this.U=a.N;this.Sw=a.Yq};Z.prototype.Lc=function(){return this.Oa};Z.prototype.jl=function(){return this.T};Z.prototype.jq=function(){return this.U};Z.prototype.Ph=function(){return this.T.Ph()&&this.U.Ph()};Z.Pe=function(a){return a.Pe()};Z.prototype.Qe=function(){};Z.prototype.ve=function(){};Z.prototype.iq=function(){};Z.prototype.ue=function(){return!1};Z.qB=0;Z.ek=1;Z.oB=2;Z.mr=3;Z.pB=4;Z.IF=5;Z.mB=6;Z.nB=7;Z.rB=8;Z.lB=9;Z.Cd=0;Z.ig=1;Z.Qc=2;
Z.Zh=3;var De=function(){this.type=Z.qB;this.N=this.L=null;this.Yq=!1},Ce=function(){},Ee=function(a){Z.call(this,a);this.ea=N.u(0,0);this.fa=N.u(0,0);this.sc=N.u(0,0);this.ea.H(a.sb);this.fa.H(a.tb);this.Ks=a.length;this.Hs=a.wo;this.WC=a.jo;this.Rw=this.xj=this.F=0};K(Ee,Z);Ee.prototype.Qe=function(a){var c,b=0,d=this.T,e=this.U;c=d.D.n;var g=this.ea.x-d.m.P.x,f=this.ea.y-d.m.P.y,b=c.j.x*g+c.k.x*f,f=c.j.y*g+c.k.y*f,g=b;c=e.D.n;var l=this.fa.x-e.m.P.x,h=this.fa.y-e.m.P.y,b=c.j.x*l+c.k.x*h,h=c.j.y*
l+c.k.y*h,l=b;this.sc.x=e.m.B.x+l-d.m.B.x-g;this.sc.y=e.m.B.y+h-d.m.B.y-f;b=Math.sqrt(this.sc.x*this.sc.x+this.sc.y*this.sc.y);.005<b?this.sc.zd(1/b):this.sc.ga();c=g*this.sc.y-f*this.sc.x;var n=l*this.sc.y-h*this.sc.x;c=d.I+d.Q*c*c+e.I+e.Q*n*n;this.S=0!=c?1/c:0;if(0<this.Hs){var b=b-this.Ks,n=2*Math.PI*this.Hs,k=this.S*n*n;this.xj=a.Ba*(2*this.S*this.WC*n+a.Ba*k);this.xj=0!=this.xj?1/this.xj:0;this.Rw=b*a.Ba*k*this.xj;this.S=c+this.xj;this.S=0!=this.S?1/this.S:0}a.Ih?(this.F*=a.qc,a=this.F*this.sc.x,
c=this.F*this.sc.y,d.q.x-=d.I*a,d.q.y-=d.I*c,d.G-=d.Q*(g*c-f*a),e.q.x+=e.I*a,e.q.y+=e.I*c,e.G+=e.Q*(l*c-h*a)):this.F=0};Ee.prototype.ve=function(){var a=this.ea.x-this.T.m.P.x,c=this.ea.y-this.T.m.P.y,b=this.T.D.n.j.x*a+this.T.D.n.k.x*c,c=this.T.D.n.j.y*a+this.T.D.n.k.y*c,a=b,d=this.fa.x-this.U.m.P.x,e=this.fa.y-this.U.m.P.y,b=this.U.D.n.j.x*d+this.U.D.n.k.x*e,e=this.U.D.n.j.y*d+this.U.D.n.k.y*e,d=b,g=-this.S*(this.sc.x*(this.U.q.x-this.U.G*e-(this.T.q.x-this.T.G*c))+this.sc.y*(this.U.q.y+this.U.G*
d-(this.T.q.y+this.T.G*a))+this.Rw+this.xj*this.F);this.F+=g;b=g*this.sc.x;g*=this.sc.y;this.T.q.x-=this.T.I*b;this.T.q.y-=this.T.I*g;this.T.G-=this.T.Q*(a*g-c*b);this.U.q.x+=this.U.I*b;this.U.q.y+=this.U.I*g;this.U.G+=this.U.Q*(d*g-e*b)};Ee.prototype.ue=function(){if(0<this.Hs)return!0;var a=this.ea.x-this.T.m.P.x,c=this.ea.y-this.T.m.P.y,b=this.T.D.n.j.x*a+this.T.D.n.k.x*c,c=this.T.D.n.j.y*a+this.T.D.n.k.y*c,a=b,d=this.fa.x-this.U.m.P.x,e=this.fa.y-this.U.m.P.y,b=this.U.D.n.j.x*d+this.U.D.n.k.x*
e,e=this.U.D.n.j.y*d+this.U.D.n.k.y*e,d=b,g=this.U.m.B.x+d-this.T.m.B.x-a,f=this.U.m.B.y+e-this.T.m.B.y-c,l=Math.sqrt(g*g+f*f),b=P.xb(l-this.Ks,-.2,.2),h=-this.S*b;this.sc.Set(g/l,f/l);g=h*this.sc.x;h*=this.sc.y;this.T.m.B.x-=this.T.I*g;this.T.m.B.y-=this.T.I*h;this.T.m.M-=this.T.Q*(a*h-c*g);this.U.m.B.x+=this.U.I*g;this.U.m.B.y+=this.U.I*h;this.U.m.M+=this.U.Q*(d*h-e*g);this.T.Gb();this.U.Gb();return.005>Math.abs(b)};var wc=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.type=Z.mr;
this.length=1;this.jo=this.wo=0};K(wc,De);wc.prototype.gc=function(a,c,b,d){this.L=a;this.N=c;this.sb.H(this.L.dd(b));this.tb.H(this.N.dd(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.jo=this.wo=0};wc.prototype.Pe=function(){return new Ee(this)};var Fe=function(a){Z.call(this,a);this.He=N.u(0,0);this.Ie=N.u(0,0);this.Ns=new O;this.Ge=N.u(0,0);this.He.H(a.sb);this.Ie.H(a.tb);this.Ns.ga();this.zm=0;this.Ge.ga();this.oh=0;this.gD=a.oD;this.iD=a.pD};K(Fe,Z);Fe.prototype.Qe=function(a){var c,
b=0,d=this.T,e=this.U;c=d.D.n;var g=this.He.x-d.m.P.x,f=this.He.y-d.m.P.y,b=c.j.x*g+c.k.x*f,f=c.j.y*g+c.k.y*f,g=b;c=e.D.n;var l=this.Ie.x-e.m.P.x,h=this.Ie.y-e.m.P.y,b=c.j.x*l+c.k.x*h,h=c.j.y*l+c.k.y*h,l=b;c=d.I;var b=e.I,n=d.Q,k=e.Q,m=new O;m.j.x=c+b;m.k.x=0;m.j.y=0;m.k.y=c+b;m.j.x+=n*f*f;m.k.x+=-n*g*f;m.j.y+=-n*g*f;m.k.y+=n*g*g;m.j.x+=k*h*h;m.k.x+=-k*l*h;m.j.y+=-k*l*h;m.k.y+=k*l*l;m.lq(this.Ns);this.zm=n+k;0<this.zm&&(this.zm=1/this.zm);a.Ih?(this.Ge.x*=a.qc,this.Ge.y*=a.qc,this.oh*=a.qc,a=this.Ge,
d.q.x-=c*a.x,d.q.y-=c*a.y,d.G-=n*(g*a.y-f*a.x+this.oh),e.q.x+=b*a.x,e.q.y+=b*a.y,e.G+=k*(l*a.y-h*a.x+this.oh)):(this.Ge.ga(),this.oh=0)};Fe.prototype.ve=function(a){var c,b=0,d=this.T,e=this.U,g=d.q,f=d.G,l=e.q,h=e.G,n=d.I,k=e.I,m=d.Q,q=e.Q;c=d.D.n;var p=this.He.x-d.m.P.x,s=this.He.y-d.m.P.y,b=c.j.x*p+c.k.x*s,s=c.j.y*p+c.k.y*s,p=b;c=e.D.n;var t=this.Ie.x-e.m.P.x,u=this.Ie.y-e.m.P.y,b=c.j.x*t+c.k.x*u,u=c.j.y*t+c.k.y*u,t=b;c=0;var b=-this.zm*(h-f),x=this.oh;c=a.Ba*this.iD;this.oh=P.xb(this.oh+b,-c,
c);b=this.oh-x;f-=m*b;h+=q*b;c=P.Rb(this.Ns,N.u(-(l.x-h*u-g.x+f*s),-(l.y+h*t-g.y-f*p)));b=this.Ge.nc();this.Ge.Og(c);c=a.Ba*this.gD;this.Ge.In()>c*c&&(this.Ge.Ad(),this.Ge.zd(c));c=P.qb(this.Ge,b);g.x-=n*c.x;g.y-=n*c.y;f-=m*(p*c.y-s*c.x);l.x+=k*c.x;l.y+=k*c.y;h+=q*(t*c.y-u*c.x);d.G=f;e.G=h};Fe.prototype.ue=function(){return!0};var Ge=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.type=Z.lB;this.pD=this.oD=0};K(Ge,De);Ge.prototype.gc=function(a,c,b){this.L=a;this.N=c;this.sb.H(this.L.dd(b));
this.tb.H(this.N.dd(b))};Ge.prototype.Pe=function(){return new Fe(this)};var Ie=function(a){Z.call(this,a);this.uh=N.u(0,0);this.vh=N.u(0,0);this.ea=N.u(0,0);this.fa=N.u(0,0);this.Bb=new He;var c=a.rk.Oa,b=a.sk.Oa;this.Dk=this.Bj=this.Ck=this.Aj=null;var d=0,e=0;this.ZC=a.rk.jl();this.T=a.rk.jq();c==Z.ek?(this.Aj=a.rk,this.uh.H(this.Aj.ea),this.ea.H(this.Aj.fa),d=this.Aj.Cn()):(this.Ck=a.rk,this.uh.H(this.Ck.ea),this.ea.H(this.Ck.fa),d=this.Ck.ll());this.$C=a.sk.jl();this.U=a.sk.jq();b==Z.ek?(this.Bj=
a.sk,this.vh.H(this.Bj.ea),this.fa.H(this.Bj.fa),e=this.Bj.Cn()):(this.Dk=a.sk,this.vh.H(this.Dk.ea),this.fa.H(this.Dk.fa),e=this.Dk.ll());this.Kb=a.ne;this.Ak=d+this.Kb*e;this.F=0};K(Ie,Z);Ie.prototype.Qe=function(a){var c=this.ZC,b=this.$C,d=this.T,e=this.U,g=0,f=0,l=0,h=0,n=l=0,k=0;this.Bb.ga();this.Aj?(this.Bb.Pi=-1,k+=d.Q):(c=c.D.n,f=this.Ck.Qd,g=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=d.D.n,l=this.ea.x-d.m.P.x,h=this.ea.y-d.m.P.y,n=c.j.x*l+c.k.x*h,h=c.j.y*l+c.k.y*h,l=n*f-h*g,this.Bb.If.Set(-g,
-f),this.Bb.Pi=-l,k+=d.I+d.Q*l*l);this.Bj?(this.Bb.Qi=-this.Kb,k+=this.Kb*this.Kb*e.Q):(c=b.D.n,f=this.Dk.Qd,g=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=e.D.n,l=this.fa.x-e.m.P.x,h=this.fa.y-e.m.P.y,n=c.j.x*l+c.k.x*h,h=c.j.y*l+c.k.y*h,l=n*f-h*g,this.Bb.Jf.Set(-this.Kb*g,-this.Kb*f),this.Bb.Qi=-this.Kb*l,k+=this.Kb*this.Kb*(e.I+e.Q*l*l));this.S=0<k?1/k:0;a.Ih?(d.q.x+=d.I*this.F*this.Bb.If.x,d.q.y+=d.I*this.F*this.Bb.If.y,d.G+=d.Q*this.F*this.Bb.Pi,e.q.x+=e.I*this.F*this.Bb.Jf.x,e.q.y+=e.I*this.F*
this.Bb.Jf.y,e.G+=e.Q*this.F*this.Bb.Qi):this.F=0};Ie.prototype.ve=function(){var a=this.T,c=this.U,b=-this.S*this.Bb.Uy(a.q,a.G,c.q,c.G);this.F+=b;a.q.x+=a.I*b*this.Bb.If.x;a.q.y+=a.I*b*this.Bb.If.y;a.G+=a.Q*b*this.Bb.Pi;c.q.x+=c.I*b*this.Bb.Jf.x;c.q.y+=c.I*b*this.Bb.Jf.y;c.G+=c.Q*b*this.Bb.Qi};Ie.prototype.ue=function(){var a=this.T,c=this.U,b=0,d=0,b=this.Aj?this.Aj.Cn():this.Ck.ll(),d=this.Bj?this.Bj.Cn():this.Dk.ll(),b=-this.S*(this.Ak-(b+this.Kb*d));a.m.B.x+=a.I*b*this.Bb.If.x;a.m.B.y+=a.I*
b*this.Bb.If.y;a.m.M+=a.Q*b*this.Bb.Pi;c.m.B.x+=c.I*b*this.Bb.Jf.x;c.m.B.y+=c.I*b*this.Bb.Jf.y;c.m.M+=c.Q*b*this.Bb.Qi;a.Gb();c.Gb();return!0};var Je=function(){De.call(this);this.type=Z.mB;this.sk=this.rk=null;this.ne=1};K(Je,De);Je.prototype.gc=function(a,c,b){this.rk=a;this.L=a.jl();this.sk=c;this.N=c.jl();this.ne=b};Je.prototype.Pe=function(){return new Ie(this)};var He=function(){this.If=N.u(0,0);this.Jf=N.u(0,0)};He.prototype.ga=function(){this.If.ga();this.Pi=0;this.Jf.ga();this.Qi=0};He.prototype.Set=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.If.H(a);this.Pi=c;this.Jf.H(b);this.Qi=d};He.prototype.Uy=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.If.x*a.x+this.If.y*a.y+this.Pi*c+(this.Jf.x*b.x+this.Jf.y*b.y)+this.Qi*d};var Ke=function(a){Z.call(this,a);this.ea=N.u(0,0);this.fa=N.u(0,0);this.Qd=N.u(0,0);this.wh=N.u(0,0);this.R=N.u(0,0);this.ia=N.u(0,0);this.ca=new O;this.F=N.u(0,0);this.ea.H(a.sb);this.fa.H(a.tb);this.Qd.H(a.sj);this.wh.x=-this.Qd.y;this.wh.y=
this.Qd.x;this.F.ga();this.La=this.Jd=0;this.Je=a.Cs;this.Le=a.Xt;this.Os=a.Us;this.Fm=a.Jk;this.Lf=a.aj;this.li=a.fk;this.xa=Z.Cd;this.R.ga();this.ia.ga()};K(Ke,Z);Ke.prototype.ll=function(){var a=this.T,c=this.U,b=a.Fn(this.ea),d=c.Fn(this.fa),c=d.x-b.x,b=d.y-b.y,a=a.nq(this.Qd);return a.x*c+a.y*b};Ke.prototype.Qe=function(a){var c=this.T,b=this.U,d,e=0;this.tg.H(c.Ji());this.ug.H(b.Ji());var g=c.Zd();b.Zd();d=c.D.n;var f=this.ea.x-this.tg.x,l=this.ea.y-this.tg.y,e=d.j.x*f+d.k.x*l,l=d.j.y*f+d.k.y*
l,f=e;d=b.D.n;var h=this.fa.x-this.ug.x,n=this.fa.y-this.ug.y,e=d.j.x*h+d.k.x*n,n=d.j.y*h+d.k.y*n,h=e;d=b.m.B.x+h-c.m.B.x-f;e=b.m.B.y+n-c.m.B.y-l;this.Ib=c.I;this.Jb=b.I;this.nd=c.Q;this.od=b.Q;this.R.H(P.Rb(g.n,this.Qd));this.Ta=(d+f)*this.R.y-(e+l)*this.R.x;this.Ua=h*this.R.y-n*this.R.x;this.Jd=this.Ib+this.Jb+this.nd*this.Ta*this.Ta+this.od*this.Ua*this.Ua;this.Jd=this.Jd>Number.MIN_VALUE?1/this.Jd:0;this.ia.H(P.Rb(g.n,this.wh));this.$a=(d+f)*this.ia.y-(e+l)*this.ia.x;this.ab=h*this.ia.y-n*this.ia.x;
g=this.Ib;f=this.Jb;l=this.nd;h=this.od;this.ca.j.x=g+f+l*this.$a*this.$a+h*this.ab*this.ab;this.ca.j.y=l*this.$a*this.Ta+h*this.ab*this.Ua;this.ca.k.x=this.ca.j.y;this.ca.k.y=g+f+l*this.Ta*this.Ta+h*this.Ua*this.Ua;this.Lf?(d=this.R.x*d+this.R.y*e,.01>Math.abs(this.Le-this.Je)?this.xa=Z.Zh:d<=this.Je?this.xa!=Z.ig&&(this.xa=Z.ig,this.F.y=0):d>=this.Le?this.xa!=Z.Qc&&(this.xa=Z.Qc,this.F.y=0):(this.xa=Z.Cd,this.F.y=0)):this.xa=Z.Cd;0==this.li&&(this.La=0);a.Ih?(this.F.x*=a.qc,this.F.y*=a.qc,this.La*=
a.qc,a=this.F.x*this.ia.x+(this.La+this.F.y)*this.R.x,d=this.F.x*this.ia.y+(this.La+this.F.y)*this.R.y,e=this.F.x*this.$a+(this.La+this.F.y)*this.Ta,g=this.F.x*this.ab+(this.La+this.F.y)*this.Ua,c.q.x-=this.Ib*a,c.q.y-=this.Ib*d,c.G-=this.nd*e,b.q.x+=this.Jb*a,b.q.y+=this.Jb*d,b.G+=this.od*g):(this.F.ga(),this.La=0)};Ke.prototype.ve=function(a){var c=this.T,b=this.U,d=c.q,e=c.G,g=b.q,f=b.G,l=0,h=0,n=0,k=0;this.li&&this.xa!=Z.Zh&&(k=this.Jd*(this.Fm-(this.R.x*(g.x-d.x)+this.R.y*(g.y-d.y)+this.Ua*f-
this.Ta*e)),l=this.La,h=a.Ba*this.Os,this.La=P.xb(this.La+k,-h,h),k=this.La-l,l=k*this.R.x,h=k*this.R.y,n=k*this.Ta,k*=this.Ua,d.x-=this.Ib*l,d.y-=this.Ib*h,e-=this.nd*n,g.x+=this.Jb*l,g.y+=this.Jb*h,f+=this.od*k);h=this.ia.x*(g.x-d.x)+this.ia.y*(g.y-d.y)+this.ab*f-this.$a*e;this.Lf&&this.xa!=Z.Cd?(n=this.R.x*(g.x-d.x)+this.R.y*(g.y-d.y)+this.Ua*f-this.Ta*e,l=this.F.nc(),a=this.ca.Rh(N.u(0,0),-h,-n),this.F.Og(a),this.xa==Z.ig?this.F.y=Math.max(this.F.y,0):this.xa==Z.Qc&&(this.F.y=Math.min(this.F.y,
0)),h=-h-(this.F.y-l.y)*this.ca.k.x,n=0,n=0!=this.ca.j.x?h/this.ca.j.x+l.x:l.x,this.F.x=n,a.x=this.F.x-l.x,a.y=this.F.y-l.y,l=a.x*this.ia.x+a.y*this.R.x,h=a.x*this.ia.y+a.y*this.R.y,n=a.x*this.$a+a.y*this.Ta,k=a.x*this.ab+a.y*this.Ua):(a=0,a=0!=this.ca.j.x?-h/this.ca.j.x:0,this.F.x+=a,l=a*this.ia.x,h=a*this.ia.y,n=a*this.$a,k=a*this.ab);d.x-=this.Ib*l;d.y-=this.Ib*h;e-=this.nd*n;g.x+=this.Jb*l;g.y+=this.Jb*h;f+=this.od*k;c.q.H(d);c.G=e;b.q.H(g);b.G=f};Ke.prototype.ue=function(){var a=this.T,c=this.U,
b=a.m.B,d=a.m.M,e=c.m.B,g=c.m.M,f,l=0,h=0,n=0,k=0,m=f=0,q=0,h=!1,p=0,s=O.Tj(d),n=O.Tj(g);f=s;var q=this.ea.x-this.tg.x,t=this.ea.y-this.tg.y,l=f.j.x*q+f.k.x*t,t=f.j.y*q+f.k.y*t,q=l;f=n;n=this.fa.x-this.ug.x;k=this.fa.y-this.ug.y;l=f.j.x*n+f.k.x*k;k=f.j.y*n+f.k.y*k;n=l;f=e.x+n-b.x-q;l=e.y+k-b.y-t;if(this.Lf){this.R=P.Rb(s,this.Qd);this.Ta=(f+q)*this.R.y-(l+t)*this.R.x;this.Ua=n*this.R.y-k*this.R.x;var u=this.R.x*f+this.R.y*l;.01>Math.abs(this.Le-this.Je)?(p=P.xb(u,-.2,.2),m=Math.abs(u),h=!0):u<=this.Je?
(p=P.xb(u-this.Je+.005,-.2,0),m=this.Je-u,h=!0):u>=this.Le&&(p=P.xb(u-this.Le+.005,0,.2),m=u-this.Le,h=!0)}this.ia=P.Rb(s,this.wh);this.$a=(f+q)*this.ia.y-(l+t)*this.ia.x;this.ab=n*this.ia.y-k*this.ia.x;s=N.u(0,0);t=this.ia.x*f+this.ia.y*l;m=Math.max(m,Math.abs(t));q=0;h?(h=this.Ib,n=this.Jb,k=this.nd,f=this.od,this.ca.j.x=h+n+k*this.$a*this.$a+f*this.ab*this.ab,this.ca.j.y=k*this.$a*this.Ta+f*this.ab*this.Ua,this.ca.k.x=this.ca.j.y,this.ca.k.y=h+n+k*this.Ta*this.Ta+f*this.Ua*this.Ua,this.ca.Rh(s,
-t,-p)):(h=this.Ib,n=this.Jb,k=this.nd,f=this.od,p=h+n+k*this.$a*this.$a+f*this.ab*this.ab,s.x=0!=p?-t/p:0,s.y=0);p=s.x*this.ia.x+s.y*this.R.x;h=s.x*this.ia.y+s.y*this.R.y;t=s.x*this.$a+s.y*this.Ta;s=s.x*this.ab+s.y*this.Ua;b.x-=this.Ib*p;b.y-=this.Ib*h;d-=this.nd*t;e.x+=this.Jb*p;e.y+=this.Jb*h;g+=this.od*s;a.m.M=d;c.m.M=g;a.Gb();c.Gb();return.005>=m&&q<=yc};var Le=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.sj=N.u(0,0);this.type=Z.nB;this.sj.Set(1,0);this.aj=!1;this.Xt=this.Cs=
0;this.fk=!1;this.Jk=this.Us=0};K(Le,De);Le.prototype.gc=function(a,c,b,d){this.L=a;this.N=c;this.sb=this.L.dd(b);this.tb=this.N.dd(b);this.sj=this.L.mq(d)};Le.prototype.Pe=function(){return new Ke(this)};var Me=function(a){Z.call(this,a);this.ea=N.u(0,0);this.fa=N.u(0,0);this.Qd=N.u(0,0);this.wh=N.u(0,0);this.R=N.u(0,0);this.ia=N.u(0,0);this.ca=new Fc;this.F=new Ec(0,0,0);this.ea.H(a.sb);this.fa.H(a.tb);this.Qd.H(a.sj);this.wh.x=-this.Qd.y;this.wh.y=this.Qd.x;this.jD=a.Cg;this.F.ga();this.La=this.Jd=
0;this.Je=a.Cs;this.Le=a.Xt;this.Os=a.Us;this.Fm=a.Jk;this.Lf=a.aj;this.li=a.fk;this.xa=Z.Cd;this.R.ga();this.ia.ga()};K(Me,Z);Me.prototype.ll=function(){var a=this.T,c=this.U,b=a.Fn(this.ea),d=c.Fn(this.fa),c=d.x-b.x,b=d.y-b.y,a=a.nq(this.Qd);return a.x*c+a.y*b};Me.prototype.Qe=function(a){var c=this.T,b=this.U,d,e=0;this.tg.H(c.Ji());this.ug.H(b.Ji());var g=c.Zd();b.Zd();d=c.D.n;var f=this.ea.x-this.tg.x,l=this.ea.y-this.tg.y,e=d.j.x*f+d.k.x*l,l=d.j.y*f+d.k.y*l,f=e;d=b.D.n;var h=this.fa.x-this.ug.x,
n=this.fa.y-this.ug.y,e=d.j.x*h+d.k.x*n,n=d.j.y*h+d.k.y*n,h=e;d=b.m.B.x+h-c.m.B.x-f;e=b.m.B.y+n-c.m.B.y-l;this.Ib=c.I;this.Jb=b.I;this.nd=c.Q;this.od=b.Q;this.R.H(P.Rb(g.n,this.Qd));this.Ta=(d+f)*this.R.y-(e+l)*this.R.x;this.Ua=h*this.R.y-n*this.R.x;this.Jd=this.Ib+this.Jb+this.nd*this.Ta*this.Ta+this.od*this.Ua*this.Ua;this.Jd>Number.MIN_VALUE&&(this.Jd=1/this.Jd);this.ia.H(P.Rb(g.n,this.wh));this.$a=(d+f)*this.ia.y-(e+l)*this.ia.x;this.ab=h*this.ia.y-n*this.ia.x;g=this.Ib;f=this.Jb;l=this.nd;h=
this.od;this.ca.j.x=g+f+l*this.$a*this.$a+h*this.ab*this.ab;this.ca.j.y=l*this.$a+h*this.ab;this.ca.j.z=l*this.$a*this.Ta+h*this.ab*this.Ua;this.ca.k.x=this.ca.j.y;this.ca.k.y=l+h;this.ca.k.z=l*this.Ta+h*this.Ua;this.ca.oa.x=this.ca.j.z;this.ca.oa.y=this.ca.k.z;this.ca.oa.z=g+f+l*this.Ta*this.Ta+h*this.Ua*this.Ua;this.Lf?(d=this.R.x*d+this.R.y*e,.01>Math.abs(this.Le-this.Je)?this.xa=Z.Zh:d<=this.Je?this.xa!=Z.ig&&(this.xa=Z.ig,this.F.z=0):d>=this.Le?this.xa!=Z.Qc&&(this.xa=Z.Qc,this.F.z=0):(this.xa=
Z.Cd,this.F.z=0)):this.xa=Z.Cd;0==this.li&&(this.La=0);a.Ih?(this.F.x*=a.qc,this.F.y*=a.qc,this.La*=a.qc,a=this.F.x*this.ia.x+(this.La+this.F.z)*this.R.x,d=this.F.x*this.ia.y+(this.La+this.F.z)*this.R.y,e=this.F.x*this.$a+this.F.y+(this.La+this.F.z)*this.Ta,g=this.F.x*this.ab+this.F.y+(this.La+this.F.z)*this.Ua,c.q.x-=this.Ib*a,c.q.y-=this.Ib*d,c.G-=this.nd*e,b.q.x+=this.Jb*a,b.q.y+=this.Jb*d,b.G+=this.od*g):(this.F.ga(),this.La=0)};Me.prototype.ve=function(a){var c=this.T,b=this.U,d=c.q,e=c.G,g=
b.q,f=b.G,l=0,h=0,n=0,k=0;this.li&&this.xa!=Z.Zh&&(k=this.Jd*(this.Fm-(this.R.x*(g.x-d.x)+this.R.y*(g.y-d.y)+this.Ua*f-this.Ta*e)),l=this.La,a=a.Ba*this.Os,this.La=P.xb(this.La+k,-a,a),k=this.La-l,l=k*this.R.x,h=k*this.R.y,n=k*this.Ta,k*=this.Ua,d.x-=this.Ib*l,d.y-=this.Ib*h,e-=this.nd*n,g.x+=this.Jb*l,g.y+=this.Jb*h,f+=this.od*k);n=this.ia.x*(g.x-d.x)+this.ia.y*(g.y-d.y)+this.ab*f-this.$a*e;h=f-e;this.Lf&&this.xa!=Z.Cd?(a=this.R.x*(g.x-d.x)+this.R.y*(g.y-d.y)+this.Ua*f-this.Ta*e,l=this.F.nc(),a=
this.ca.xl(new Ec(0,0,0),-n,-h,-a),this.F.Og(a),this.xa==Z.ig?this.F.z=Math.max(this.F.z,0):this.xa==Z.Qc&&(this.F.z=Math.min(this.F.z,0)),n=-n-(this.F.z-l.z)*this.ca.oa.x,h=-h-(this.F.z-l.z)*this.ca.oa.y,h=this.ca.Zj(N.u(0,0),n,h),h.x+=l.x,h.y+=l.y,this.F.x=h.x,this.F.y=h.y,a.x=this.F.x-l.x,a.y=this.F.y-l.y,a.z=this.F.z-l.z,l=a.x*this.ia.x+a.z*this.R.x,h=a.x*this.ia.y+a.z*this.R.y,n=a.x*this.$a+a.y+a.z*this.Ta,k=a.x*this.ab+a.y+a.z*this.Ua):(a=this.ca.Zj(N.u(0,0),-n,-h),this.F.x+=a.x,this.F.y+=a.y,
l=a.x*this.ia.x,h=a.x*this.ia.y,n=a.x*this.$a+a.y,k=a.x*this.ab+a.y);d.x-=this.Ib*l;d.y-=this.Ib*h;e-=this.nd*n;g.x+=this.Jb*l;g.y+=this.Jb*h;f+=this.od*k;c.q.H(d);c.G=e;b.q.H(g);b.G=f};Me.prototype.ue=function(){var a=this.T,c=this.U,b=a.m.B,d=a.m.M,e=c.m.B,g=c.m.M,f,l=0,h=0,n=0,k=l=f=0,m=0,h=!1,q=0,p=O.Tj(d),s=O.Tj(g);f=p;var m=this.ea.x-this.tg.x,t=this.ea.y-this.tg.y,l=f.j.x*m+f.k.x*t,t=f.j.y*m+f.k.y*t,m=l;f=s;s=this.fa.x-this.ug.x;n=this.fa.y-this.ug.y;l=f.j.x*s+f.k.x*n;n=f.j.y*s+f.k.y*n;s=l;
f=e.x+s-b.x-m;l=e.y+n-b.y-t;if(this.Lf){this.R=P.Rb(p,this.Qd);this.Ta=(f+m)*this.R.y-(l+t)*this.R.x;this.Ua=s*this.R.y-n*this.R.x;var u=this.R.x*f+this.R.y*l;.01>Math.abs(this.Le-this.Je)?(q=P.xb(u,-.2,.2),k=Math.abs(u),h=!0):u<=this.Je?(q=P.xb(u-this.Je+.005,-.2,0),k=this.Je-u,h=!0):u>=this.Le&&(q=P.xb(u-this.Le+.005,0,.2),k=u-this.Le,h=!0)}this.ia=P.Rb(p,this.wh);this.$a=(f+m)*this.ia.y-(l+t)*this.ia.x;this.ab=s*this.ia.y-n*this.ia.x;p=new Ec(0,0,0);t=this.ia.x*f+this.ia.y*l;s=g-d-this.jD;k=Math.max(k,
Math.abs(t));m=Math.abs(s);h?(h=this.Ib,n=this.Jb,f=this.nd,l=this.od,this.ca.j.x=h+n+f*this.$a*this.$a+l*this.ab*this.ab,this.ca.j.y=f*this.$a+l*this.ab,this.ca.j.z=f*this.$a*this.Ta+l*this.ab*this.Ua,this.ca.k.x=this.ca.j.y,this.ca.k.y=f+l,this.ca.k.z=f*this.Ta+l*this.Ua,this.ca.oa.x=this.ca.j.z,this.ca.oa.y=this.ca.k.z,this.ca.oa.z=h+n+f*this.Ta*this.Ta+l*this.Ua*this.Ua,this.ca.xl(p,-t,-s,-q)):(h=this.Ib,n=this.Jb,f=this.nd,l=this.od,q=f*this.$a+l*this.ab,u=f+l,this.ca.j.Set(h+n+f*this.$a*this.$a+
l*this.ab*this.ab,q,0),this.ca.k.Set(q,u,0),q=this.ca.Zj(N.u(0,0),-t,-s),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.ia.x+p.z*this.R.x;h=p.x*this.ia.y+p.z*this.R.y;t=p.x*this.$a+p.y+p.z*this.Ta;p=p.x*this.ab+p.y+p.z*this.Ua;b.x-=this.Ib*q;b.y-=this.Ib*h;d-=this.nd*t;e.x+=this.Jb*q;e.y+=this.Jb*h;g+=this.od*p;a.m.M=d;c.m.M=g;a.Gb();c.Gb();return.005>=k&&m<=yc};var Ne=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.sj=N.u(0,0);this.type=Z.oB;this.sj.Set(1,0);this.Cg=0;this.aj=!1;this.Xt=this.Cs=
0;this.fk=!1;this.Jk=this.Us=0};K(Ne,De);Ne.prototype.gc=function(a,c,b,d){this.L=a;this.N=c;this.sb=this.L.dd(b);this.tb=this.N.dd(b);this.sj=this.L.mq(d);this.Cg=this.N.xd()-this.L.xd()};Ne.prototype.Pe=function(){return new Me(this)};var Pe=function(a){Z.call(this,a);this.uh=N.u(0,0);this.vh=N.u(0,0);this.ea=N.u(0,0);this.fa=N.u(0,0);this.gb=N.u(0,0);this.hb=N.u(0,0);this.gf=this.T.Ca.aD;this.uh.x=a.Ao.x-this.gf.D.position.x;this.uh.y=a.Ao.y-this.gf.D.position.y;this.vh.x=a.Bo.x-this.gf.D.position.x;
this.vh.y=a.Bo.y-this.gf.D.position.y;this.ea.H(a.sb);this.fa.H(a.tb);this.Kb=a.ne;this.Ak=a.ss+this.Kb*a.ts;this.Vw=Math.min(a.Xw,this.Ak-this.Kb*Oe);this.Ww=Math.min(a.Yw,(this.Ak-Oe)/this.Kb);this.sg=this.rg=this.F=0};K(Pe,Z);Pe.prototype.Qe=function(a){var c=this.T,b=this.U,d;d=c.D.n;var e=this.ea.x-c.m.P.x,g=this.ea.y-c.m.P.y,f=d.j.x*e+d.k.x*g,g=d.j.y*e+d.k.y*g,e=f;d=b.D.n;var l=this.fa.x-b.m.P.x,h=this.fa.y-b.m.P.y,f=d.j.x*l+d.k.x*h,h=d.j.y*l+d.k.y*h,l=f;d=b.m.B.x+l;var f=b.m.B.y+h,n=this.gf.D.position.x+
this.vh.x,k=this.gf.D.position.y+this.vh.y;this.gb.Set(c.m.B.x+e-(this.gf.D.position.x+this.uh.x),c.m.B.y+g-(this.gf.D.position.y+this.uh.y));this.hb.Set(d-n,f-k);d=this.gb.$f();f=this.hb.$f();.005<d?this.gb.zd(1/d):this.gb.ga();.005<f?this.hb.zd(1/f):this.hb.ga();0<this.Ak-d-this.Kb*f?(this.Rs=Z.Cd,this.F=0):this.Rs=Z.Qc;d<this.Vw?(this.Ls=Z.Cd,this.rg=0):this.Ls=Z.Qc;f<this.Ww?(this.Ms=Z.Cd,this.sg=0):this.Ms=Z.Qc;d=e*this.gb.y-g*this.gb.x;f=l*this.hb.y-h*this.hb.x;this.Dm=c.I+c.Q*d*d;this.Em=b.I+
b.Q*f*f;this.jp=this.Dm+this.Kb*this.Kb*this.Em;this.Dm=1/this.Dm;this.Em=1/this.Em;this.jp=1/this.jp;a.Ih?(this.F*=a.qc,this.rg*=a.qc,this.sg*=a.qc,a=(-this.F-this.rg)*this.gb.x,d=(-this.F-this.rg)*this.gb.y,f=(-this.Kb*this.F-this.sg)*this.hb.x,n=(-this.Kb*this.F-this.sg)*this.hb.y,c.q.x+=c.I*a,c.q.y+=c.I*d,c.G+=c.Q*(e*d-g*a),b.q.x+=b.I*f,b.q.y+=b.I*n,b.G+=b.Q*(l*n-h*f)):this.sg=this.rg=this.F=0};Pe.prototype.ve=function(){var a=this.T,c=this.U,b;b=a.D.n;var d=this.ea.x-a.m.P.x,e=this.ea.y-a.m.P.y,
g=b.j.x*d+b.k.x*e,e=b.j.y*d+b.k.y*e,d=g;b=c.D.n;var f=this.fa.x-c.m.P.x,l=this.fa.y-c.m.P.y,g=b.j.x*f+b.k.x*l,l=b.j.y*f+b.k.y*l,f=g,h=g=b=0,n=0;b=n=b=n=h=g=b=0;this.Rs==Z.Qc&&(b=a.q.x+-a.G*e,g=a.q.y+a.G*d,h=c.q.x+-c.G*l,n=c.q.y+c.G*f,b=-(this.gb.x*b+this.gb.y*g)-this.Kb*(this.hb.x*h+this.hb.y*n),n=this.jp*-b,b=this.F,this.F=Math.max(0,this.F+n),n=this.F-b,b=-n*this.gb.x,g=-n*this.gb.y,h=-this.Kb*n*this.hb.x,n=-this.Kb*n*this.hb.y,a.q.x+=a.I*b,a.q.y+=a.I*g,a.G+=a.Q*(d*g-e*b),c.q.x+=c.I*h,c.q.y+=c.I*
n,c.G+=c.Q*(f*n-l*h));this.Ls==Z.Qc&&(b=a.q.x+-a.G*e,g=a.q.y+a.G*d,b=-(this.gb.x*b+this.gb.y*g),n=-this.Dm*b,b=this.rg,this.rg=Math.max(0,this.rg+n),n=this.rg-b,b=-n*this.gb.x,g=-n*this.gb.y,a.q.x+=a.I*b,a.q.y+=a.I*g,a.G+=a.Q*(d*g-e*b));this.Ms==Z.Qc&&(h=c.q.x+-c.G*l,n=c.q.y+c.G*f,b=-(this.hb.x*h+this.hb.y*n),n=-this.Em*b,b=this.sg,this.sg=Math.max(0,this.sg+n),n=this.sg-b,h=-n*this.hb.x,n=-n*this.hb.y,c.q.x+=c.I*h,c.q.y+=c.I*n,c.G+=c.Q*(f*n-l*h))};Pe.prototype.ue=function(){var a=this.T,c=this.U,
b,d=this.gf.D.position.x+this.uh.x,e=this.gf.D.position.y+this.uh.y,g=this.gf.D.position.x+this.vh.x,f=this.gf.D.position.y+this.vh.y,l=0,h=0,n=0,k=0,m=b=0,q=0,p=0,s=m=p=b=m=b=0;this.Rs==Z.Qc&&(b=a.D.n,l=this.ea.x-a.m.P.x,h=this.ea.y-a.m.P.y,m=b.j.x*l+b.k.x*h,h=b.j.y*l+b.k.y*h,l=m,b=c.D.n,n=this.fa.x-c.m.P.x,k=this.fa.y-c.m.P.y,m=b.j.x*n+b.k.x*k,k=b.j.y*n+b.k.y*k,n=m,b=a.m.B.x+l,m=a.m.B.y+h,q=c.m.B.x+n,p=c.m.B.y+k,this.gb.Set(b-d,m-e),this.hb.Set(q-g,p-f),b=this.gb.$f(),m=this.hb.$f(),.005<b?this.gb.zd(1/
b):this.gb.ga(),.005<m?this.hb.zd(1/m):this.hb.ga(),b=this.Ak-b-this.Kb*m,s=Math.max(s,-b),b=P.xb(b+.005,-.2,0),p=-this.jp*b,b=-p*this.gb.x,m=-p*this.gb.y,q=-this.Kb*p*this.hb.x,p=-this.Kb*p*this.hb.y,a.m.B.x+=a.I*b,a.m.B.y+=a.I*m,a.m.M+=a.Q*(l*m-h*b),c.m.B.x+=c.I*q,c.m.B.y+=c.I*p,c.m.M+=c.Q*(n*p-k*q),a.Gb(),c.Gb());this.Ls==Z.Qc&&(b=a.D.n,l=this.ea.x-a.m.P.x,h=this.ea.y-a.m.P.y,m=b.j.x*l+b.k.x*h,h=b.j.y*l+b.k.y*h,l=m,b=a.m.B.x+l,m=a.m.B.y+h,this.gb.Set(b-d,m-e),b=this.gb.$f(),.005<b?(this.gb.x*=
1/b,this.gb.y*=1/b):this.gb.ga(),b=this.Vw-b,s=Math.max(s,-b),b=P.xb(b+.005,-.2,0),p=-this.Dm*b,b=-p*this.gb.x,m=-p*this.gb.y,a.m.B.x+=a.I*b,a.m.B.y+=a.I*m,a.m.M+=a.Q*(l*m-h*b),a.Gb());this.Ms==Z.Qc&&(b=c.D.n,n=this.fa.x-c.m.P.x,k=this.fa.y-c.m.P.y,m=b.j.x*n+b.k.x*k,k=b.j.y*n+b.k.y*k,n=m,q=c.m.B.x+n,p=c.m.B.y+k,this.hb.Set(q-g,p-f),m=this.hb.$f(),.005<m?(this.hb.x*=1/m,this.hb.y*=1/m):this.hb.ga(),b=this.Ww-m,s=Math.max(s,-b),b=P.xb(b+.005,-.2,0),p=-this.Em*b,q=-p*this.hb.x,p=-p*this.hb.y,c.m.B.x+=
c.I*q,c.m.B.y+=c.I*p,c.m.M+=c.Q*(n*p-k*q),c.Gb());return.005>s};var Oe=1,Qe=function(){De.call(this);this.Ao=N.u(0,0);this.Bo=N.u(0,0);this.sb=N.u(0,0);this.tb=N.u(0,0);this.type=Z.pB;this.Ao.Set(-1,1);this.Bo.Set(1,1);this.sb.Set(-1,0);this.tb.Set(1,0);this.Yw=this.ts=this.Xw=this.ss=0;this.ne=1;this.Yq=!0};K(Qe,De);Qe.prototype.gc=function(a,c,b,d,e,g,f){void 0===f&&(f=0);this.L=a;this.N=c;this.Ao.H(b);this.Bo.H(d);this.sb=this.L.dd(e);this.tb=this.N.dd(g);a=e.x-b.x;b=e.y-b.y;this.ss=Math.sqrt(a*
a+b*b);b=g.x-d.x;d=g.y-d.y;this.ts=Math.sqrt(b*b+d*d);this.ne=f;f=this.ss+this.ne*this.ts;this.Xw=f-this.ne*Oe;this.Yw=(f-Oe)/this.ne};Qe.prototype.Pe=function(){return new Pe(this)};var Re=function(a){Z.call(this,a);this.$d=new O;this.nl=new O;this.ol=new O;this.pl=new O;this.Ec=new Ec(0,0,0);this.Df=N.u(0,0);this.Bg=N.u(0,0);this.ea=N.u(0,0);this.fa=N.u(0,0);this.F=new Ec(0,0,0);this.S=new Fc;this.ea.H(a.sb);this.fa.H(a.tb);this.Hm=a.Cg;this.F.ga();this.La=0;this.hp=a.Bs;this.Ss=a.Wt;this.hD=a.Zw;
this.Fm=a.Jk;this.Lf=a.aj;this.li=a.fk;this.xa=Z.Cd};K(Re,Z);Re.prototype.Cn=function(){return this.U.m.M-this.T.m.M-this.Hm};Re.prototype.Qe=function(a){var c=this.T,b=this.U,d,e=0;d=c.D.n;var g=this.ea.x-c.m.P.x,f=this.ea.y-c.m.P.y,e=d.j.x*g+d.k.x*f,f=d.j.y*g+d.k.y*f,g=e;d=b.D.n;var l=this.fa.x-b.m.P.x,h=this.fa.y-b.m.P.y,e=d.j.x*l+d.k.x*h,h=d.j.y*l+d.k.y*h,l=e;d=c.I;var e=b.I,n=c.Q,k=b.Q;this.S.j.x=d+e+f*f*n+h*h*k;this.S.k.x=-f*g*n-h*l*k;this.S.oa.x=-f*n-h*k;this.S.j.y=this.S.k.x;this.S.k.y=d+
e+g*g*n+l*l*k;this.S.oa.y=g*n+l*k;this.S.j.z=this.S.oa.x;this.S.k.z=this.S.oa.y;this.S.oa.z=n+k;this.Jd=1/(n+k);this.li||(this.La=0);if(this.Lf){var m=b.m.M-c.m.M-this.Hm;Math.abs(this.Ss-this.hp)<2*yc?this.xa=Z.Zh:m<=this.hp?(this.xa!=Z.ig&&(this.F.z=0),this.xa=Z.ig):m>=this.Ss?(this.xa!=Z.Qc&&(this.F.z=0),this.xa=Z.Qc):(this.xa=Z.Cd,this.F.z=0)}else this.xa=Z.Cd;a.Ih?(this.F.x*=a.qc,this.F.y*=a.qc,this.La*=a.qc,a=this.F.x,m=this.F.y,c.q.x-=d*a,c.q.y-=d*m,c.G-=n*(g*m-f*a+this.La+this.F.z),b.q.x+=
e*a,b.q.y+=e*m,b.G+=k*(l*m-h*a+this.La+this.F.z)):(this.F.ga(),this.La=0)};Re.prototype.ve=function(a){var c=this.T,b=this.U,d=0,e=d=0,g=0,f=0,l=0,h=c.q,n=c.G,k=b.q,m=b.G,q=c.I,p=b.I,s=c.Q,t=b.Q;this.li&&this.xa!=Z.Zh&&(e=this.Jd*-(m-n-this.Fm),g=this.La,f=a.Ba*this.hD,this.La=P.xb(this.La+e,-f,f),e=this.La-g,n-=s*e,m+=t*e);if(this.Lf&&this.xa!=Z.Cd){a=c.D.n;e=this.ea.x-c.m.P.x;g=this.ea.y-c.m.P.y;d=a.j.x*e+a.k.x*g;g=a.j.y*e+a.k.y*g;e=d;a=b.D.n;f=this.fa.x-b.m.P.x;l=this.fa.y-b.m.P.y;d=a.j.x*f+a.k.x*
l;l=a.j.y*f+a.k.y*l;f=d;a=k.x+-m*l-h.x- -n*g;var u=k.y+m*f-h.y-n*e;this.S.xl(this.Ec,-a,-u,-(m-n));this.xa==Z.Zh?this.F.Og(this.Ec):this.xa==Z.ig?(d=this.F.z+this.Ec.z,0>d&&(this.S.Zj(this.Bg,-a,-u),this.Ec.x=this.Bg.x,this.Ec.y=this.Bg.y,this.Ec.z=-this.F.z,this.F.x+=this.Bg.x,this.F.y+=this.Bg.y,this.F.z=0)):this.xa==Z.Qc&&(d=this.F.z+this.Ec.z,0<d&&(this.S.Zj(this.Bg,-a,-u),this.Ec.x=this.Bg.x,this.Ec.y=this.Bg.y,this.Ec.z=-this.F.z,this.F.x+=this.Bg.x,this.F.y+=this.Bg.y,this.F.z=0));h.x-=q*this.Ec.x;
h.y-=q*this.Ec.y;n-=s*(e*this.Ec.y-g*this.Ec.x+this.Ec.z);k.x+=p*this.Ec.x;k.y+=p*this.Ec.y;m+=t*(f*this.Ec.y-l*this.Ec.x+this.Ec.z)}else a=c.D.n,e=this.ea.x-c.m.P.x,g=this.ea.y-c.m.P.y,d=a.j.x*e+a.k.x*g,g=a.j.y*e+a.k.y*g,e=d,a=b.D.n,f=this.fa.x-b.m.P.x,l=this.fa.y-b.m.P.y,d=a.j.x*f+a.k.x*l,l=a.j.y*f+a.k.y*l,f=d,this.S.Zj(this.Df,-(k.x+-m*l-h.x- -n*g),-(k.y+m*f-h.y-n*e)),this.F.x+=this.Df.x,this.F.y+=this.Df.y,h.x-=q*this.Df.x,h.y-=q*this.Df.y,n-=s*(e*this.Df.y-g*this.Df.x),k.x+=p*this.Df.x,k.y+=
p*this.Df.y,m+=t*(f*this.Df.y-l*this.Df.x);c.q.H(h);c.G=n;b.q.H(k);b.G=m};Re.prototype.ue=function(){var a=0,c,b=this.T,d=this.U,e=0,g=c=0,f=0,l=0;if(this.Lf&&this.xa!=Z.Cd){var a=d.m.M-b.m.M-this.Hm,h=0;this.xa==Z.Zh?(a=P.xb(a-this.hp,-zc,zc),h=-this.Jd*a,e=Math.abs(a)):this.xa==Z.ig?(a-=this.hp,e=-a,a=P.xb(a+yc,-zc,0),h=-this.Jd*a):this.xa==Z.Qc&&(e=a-=this.Ss,a=P.xb(a-yc,0,zc),h=-this.Jd*a);b.m.M-=b.Q*h;d.m.M+=d.Q*h;b.Gb();d.Gb()}c=b.D.n;h=this.ea.x-b.m.P.x;a=this.ea.y-b.m.P.y;g=c.j.x*h+c.k.x*
a;a=c.j.y*h+c.k.y*a;h=g;c=d.D.n;var n=this.fa.x-d.m.P.x,k=this.fa.y-d.m.P.y,g=c.j.x*n+c.k.x*k,k=c.j.y*n+c.k.y*k,n=g,f=d.m.B.x+n-b.m.B.x-h,l=d.m.B.y+k-b.m.B.y-a,m=f*f+l*l;c=Math.sqrt(m);var g=b.I,q=d.I,p=b.Q,s=d.Q;m>.05*.05&&(m=1/(g+q),f=m*-f,l=m*-l,b.m.B.x-=.5*g*f,b.m.B.y-=.5*g*l,d.m.B.x+=.5*q*f,d.m.B.y+=.5*q*l,f=d.m.B.x+n-b.m.B.x-h,l=d.m.B.y+k-b.m.B.y-a);this.nl.j.x=g+q;this.nl.k.x=0;this.nl.j.y=0;this.nl.k.y=g+q;this.ol.j.x=p*a*a;this.ol.k.x=-p*h*a;this.ol.j.y=-p*h*a;this.ol.k.y=p*h*h;this.pl.j.x=
s*k*k;this.pl.k.x=-s*n*k;this.pl.j.y=-s*n*k;this.pl.k.y=s*n*n;this.$d.vf(this.nl);this.$d.rn(this.ol);this.$d.rn(this.pl);this.$d.Rh(Se,-f,-l);f=Se.x;l=Se.y;b.m.B.x-=b.I*f;b.m.B.y-=b.I*l;b.m.M-=b.Q*(h*l-a*f);d.m.B.x+=d.I*f;d.m.B.y+=d.I*l;d.m.M+=d.Q*(n*l-k*f);b.Gb();d.Gb();return.005>=c&&e<=yc};var Se=N.u(0,0),xc=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.type=Z.ek;this.sb.ga();this.tb.ga();this.Jk=this.Zw=this.Wt=this.Bs=this.Cg=0;this.fk=this.aj=!1};K(xc,De);xc.prototype.gc=
function(a,c,b){this.L=a;this.N=c;this.sb=this.L.dd(b);this.tb=this.N.dd(b);this.Cg=this.N.xd()-this.L.xd()};xc.prototype.Pe=function(){return new Re(this)};var Te=function(a){Z.call(this,a);this.He=N.u(0,0);this.Ie=N.u(0,0);this.F=new Ec(0,0,0);this.S=new Fc;this.He.H(a.sb);this.Ie.H(a.tb);this.Hm=a.Cg};K(Te,Z);Te.prototype.Qe=function(a){var c,b=0,d=this.T,e=this.U;c=d.D.n;var g=this.He.x-d.m.P.x,f=this.He.y-d.m.P.y,b=c.j.x*g+c.k.x*f,f=c.j.y*g+c.k.y*f,g=b;c=e.D.n;var l=this.Ie.x-e.m.P.x,h=this.Ie.y-
e.m.P.y,b=c.j.x*l+c.k.x*h,h=c.j.y*l+c.k.y*h,l=b;c=d.I;var b=e.I,n=d.Q,k=e.Q;this.S.j.x=c+b+f*f*n+h*h*k;this.S.k.x=-f*g*n-h*l*k;this.S.oa.x=-f*n-h*k;this.S.j.y=this.S.k.x;this.S.k.y=c+b+g*g*n+l*l*k;this.S.oa.y=g*n+l*k;this.S.j.z=this.S.oa.x;this.S.k.z=this.S.oa.y;this.S.oa.z=n+k;a.Ih?(this.F.x*=a.qc,this.F.y*=a.qc,this.F.z*=a.qc,d.q.x-=c*this.F.x,d.q.y-=c*this.F.y,d.G-=n*(g*this.F.y-f*this.F.x+this.F.z),e.q.x+=b*this.F.x,e.q.y+=b*this.F.y,e.G+=k*(l*this.F.y-h*this.F.x+this.F.z)):this.F.ga()};Te.prototype.ve=
function(){var a,c=0,b=this.T,d=this.U,e=b.q,g=b.G,f=d.q,l=d.G,h=b.I,n=d.I,k=b.Q,m=d.Q;a=b.D.n;var q=this.He.x-b.m.P.x,p=this.He.y-b.m.P.y,c=a.j.x*q+a.k.x*p,p=a.j.y*q+a.k.y*p,q=c;a=d.D.n;var s=this.Ie.x-d.m.P.x,t=this.Ie.y-d.m.P.y,c=a.j.x*s+a.k.x*t,t=a.j.y*s+a.k.y*t,s=c;a=new Ec(0,0,0);this.S.xl(a,-(f.x-l*t-e.x+g*p),-(f.y+l*s-e.y-g*q),-(l-g));this.F.Og(a);e.x-=h*a.x;e.y-=h*a.y;g-=k*(q*a.y-p*a.x+a.z);f.x+=n*a.x;f.y+=n*a.y;l+=m*(s*a.y-t*a.x+a.z);b.G=g;d.G=l};Te.prototype.ue=function(){var a,c=0,b=this.T,
d=this.U;a=b.D.n;var e=this.He.x-b.m.P.x,g=this.He.y-b.m.P.y,c=a.j.x*e+a.k.x*g,g=a.j.y*e+a.k.y*g,e=c;a=d.D.n;var f=this.Ie.x-d.m.P.x,l=this.Ie.y-d.m.P.y,c=a.j.x*f+a.k.x*l,l=a.j.y*f+a.k.y*l,f=c;a=b.I;var c=d.I,h=b.Q,n=d.Q,k=d.m.B.x+f-b.m.B.x-e,m=d.m.B.y+l-b.m.B.y-g,q=d.m.M-b.m.M-this.Hm,p=Math.sqrt(k*k+m*m),s=Math.abs(q);.05<p&&(h*=1,n*=1);this.S.j.x=a+c+g*g*h+l*l*n;this.S.k.x=-g*e*h-l*f*n;this.S.oa.x=-g*h-l*n;this.S.j.y=this.S.k.x;this.S.k.y=a+c+e*e*h+f*f*n;this.S.oa.y=e*h+f*n;this.S.j.z=this.S.oa.x;
this.S.k.z=this.S.oa.y;this.S.oa.z=h+n;var t=new Ec(0,0,0);this.S.xl(t,-k,-m,-q);b.m.B.x-=a*t.x;b.m.B.y-=a*t.y;b.m.M-=h*(e*t.y-g*t.x+t.z);d.m.B.x+=c*t.x;d.m.B.y+=c*t.y;d.m.M+=n*(f*t.y-l*t.x+t.z);b.Gb();d.Gb();return.005>=p&&s<=yc};var Ue=function(){De.call(this);this.sb=N.u(0,0);this.tb=N.u(0,0);this.type=Z.rB;this.Cg=0};K(Ue,De);Ue.prototype.gc=function(a,c,b){this.L=a;this.N=c;this.sb.H(this.L.dd(b));this.tb.H(this.N.dd(b));this.Cg=this.N.xd()-this.L.xd()};Ue.prototype.Pe=function(){return new Te(this)};
var je=[new Lc,new Lc],se=[new Lc,new Lc],te=[new Lc,new Lc],ke=N.u(0,0),le=N.u(0,0),me=N.u(0,0),pe=N.u(0,0),ne=N.u(0,0),oe=N.u(0,0),qe=N.u(0,0),re=N.u(0,0),Md=0,Vd=0,Wd=0,Td=0,Ud=0,Nd=new jd,Od=new Uc,Pd=new oc,Qd=new oc,Sd=new ed,Rd=new Vc;qc.cE=new oc;rc.kv=new rc;new function(){this.position=N.u(0,0);this.zy=N.u(0,0);this.qd=N.u(0,0);this.id=new Kc};tc.WF=new oc;tc.Jx=new Gc;tc.Kx=new Gc;var Ld=new kd,he=new ld,ie=new ge}
function Ve(a,c,b,d,e,g){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=g-.1||d-.1<=c&&c<=g+.1))f=.1<Math.abs(e-b)?.1>Math.abs((g-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}function We(a,c){var b=N,d=Xe(a),e=[],g,f,l,h,n,k,m,q,p;n=0;for(k=d.length;n<k;n++){f=d[n];g=[];g.length=f.length;m=p=0;for(q=f.length;m<q;m++)l=f[m],h=f[(m+1)%q],p+=l.x*h.y-l.y*h.x,g[m]=b.u(l.x,l.y);p=Math.abs(p/2);p>=.001*c&&e.push(g)}return e}
function Xe(a){var c=[],b=0,d=0,e=0,g=0,f=0,l=f=0,h=0,n=0,k=0,g=0,m,q,p,s,t,u=g=b=0,x=0,e=[],h=[],A=!1,D=[],y=[];for(y.push(a);y.length;){c=y[0];d=c.length;A=!0;for(b=0;b<d;b++)if(n=b,k=b<d-1?b+1:b+1-d,g=b<d-2?b+2:b+2-d,a=c[n],m=c[k],q=c[g],g=a.x,e=a.y,h=m.x,f=m.y,l=q.x,q=q.y,g=g*f+h*q+l*e-e*h-f*l-q*g,0>g){A=!1;h=1E9;for(e=0;e<d;e++)if(e!==n&&e!==k){b=e;g=e<d-1?e+1:0;p=c[b];s=c[g];l=a.x;q=a.y;var B=m.x,E=m.y,f=p.x;p=p.y;var C=s.x;s=s.y;var G=B-l,F=E-q,H=C-f,X=s-p,H=(H*(p-q)-X*(f-l))/(F*H-G*X),G=l+
H*G,F=q+H*F,l=Ve(B,E,l,q,G,F),f=Ve(G,F,f,p,C,s);if(q=l&&f?N.u(G,F):null)f=m.x-q.x,l=m.y-q.y,f=f*f+l*l,f<h&&(x=b,u=g,t=q,h=f)}if(1E9===h)return[];e=[];h=[];b=x;g=u;p=c[b];s=c[g];u=t.y;x=s.y;.1>Math.abs(s.x-t.x)&&.1>Math.abs(x-u)||e.push(t);u=t.y;x=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(x-u)||h.push(t);x=-1;for(u=n;;){if(u!==g)e.push(c[u]);else{if(0>x||x>=d)return[];Ve(s.x,s.y,c[x].x,c[x].y,a.x,a.y)||e.push(c[u]);break}x=u;0>u-1?u=d-1:u--}e.reverse();x=-1;for(u=k;;){if(u!==b)h.push(c[u]);else{if(0>x||
x>=d)return[];u!==b||Ve(p.x,p.y,c[x].x,c[x].y,m.x,m.y)||h.push(c[u]);break}x=u;u+1>d-1?u=0:u++}y.push(e,h);y.shift();break}A&&D.push(y.shift())}return D}
function Ye(a){for(var c=0;4E3>c;c++)N.Sg.push(new N(0,0));this.g=a;this.Ld=new tc(N.u(0,10),!0);this.Dy=10;this.hs=-1;a=new rc;a.behavior=this;a.tn=function(a){this.behavior.g.$m(a.Hb.Pa().dg.A,a.Cb.Pa().dg.A)};this.Ld.Ju(a);a=new sc;a.behavior=this;a.Oi=function(a,c){if(this.behavior.wA)return!0;var e=a.Pa().dg.A.type,g=c.Pa().dg.A.type,f=e.X.Physics_DisabledCollisions;return f&&f.contains(g)?!1:(f=g.X.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.Ld.Iu(a);this.iE=0;this.pn=8;this.Wm=3;
this.wA=!0}
(function(){function a(){}function c(){}var b=N,d=Q,e=vc,g=V,f=uc,l=wc,h=xc,n=Ye.prototype;n.rb=function(a){this.behavior=a;this.g=a.g};n.rb.prototype.Fa=function(){};n.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g;this.Ld=this.behavior.Ld};var k=n.Va.prototype;k.Fa=function(){this.Pr=0!==this.aa[0];this.vv=this.aa[1];this.kt=0!==this.aa[2];this.Cf=this.aa[3];this.kg=this.aa[4];this.Eg=this.aa[5];this.pj=this.aa[6];this.Ri=this.aa[7];this.Vi=0!==this.aa[8];this.enabled=0!==
this.aa[9];this.body=null;this.A.Ha();this.tk=this.A.x;this.uk=this.A.y;this.es=this.A.J;this.ds=this.js=0;this.Fx=this.lm=!1;this.as=null;this.bs=-1;this.ke?(this.ke.length=0,this.kf.length=0,this.lh.clear()):(this.ke=[],this.kf=[],this.lh=new ca);var a=this;this.Ne||(this.hx=function(b){a.DD(b)});this.g.$u(this.hx)};k.zx=function(){this.A.Ha();this.er();this.as=this.A.zb;this.bs=this.A.da};k.Gj=function(){this.lo();this.kf.length=0;this.lh.clear();this.body&&(this.Ld.yn(this.body),this.body=null);
this.g.UD(this.hx)};k.Kd=function(){var a={e:this.enabled,im:this.Pr,pr:this.kt,d:this.Cf,fr:this.kg,re:this.Eg,ld:this.pj,ad:this.Ri,b:this.Vi,mcj:this.kf};if(this.enabled){var c=b.u(0,0);c.H(this.body.Ii());a.vx=c.x;a.vy=c.y;a.om=this.body.Bn()}return a};k.ie=function(a){this.lo();this.kf.length=0;this.lh.clear();this.body&&(this.Ld.yn(this.body),this.body=null);this.enabled=a.e;this.Pr=a.im;this.kt=a.pr;this.Cf=a.d;this.kg=a.fr;this.Eg=a.re;this.pj=a.ld;this.Ri=a.ad;this.Vi=a.b;this.tk=this.A.x;
this.uk=this.A.y;this.es=this.A.J;this.js=this.A.width;this.ds=this.A.height;this.enabled&&(this.er(),this.body.Ni(b.u(a.vx,a.vy)),this.body.tl(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.zc(!0),this.kf=a.mcj)};k.Tg=function(){this.enabled&&this.pt();this.behavior.hs=this.g.Xd-1};k.DD=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.kf.length;b<c;b++)this.kf[d]=this.kf[b],d<this.ke.length&&(this.ke[d]=this.ke[b]),this.kf[b].Nf[1]==e?this.Ld.zn(this.ke[b]):d++;this.kf.length=d;d<this.ke.length&&(this.ke.length=
d);this.lh.remove(a)};k.lo=function(){var a,b;a=0;for(b=this.ke.length;a<b;a++)this.Ld.zn(this.ke[a]);this.ke.length=0};k.pt=function(){var a,b,c;a=0;for(b=this.kf.length;a<b;a++)switch(c=this.kf[a],c.type){case 0:this.VA(c.Nf[0],c.Nf[1],c.Nf[2],c.Nf[3],c.Nf[4]);break;case 1:this.XA(c.Nf[0],c.Nf[1]);break;case 2:this.WA(c.Nf[0],c.Nf[1],c.Nf[2],c.Nf[3])}};k.RA=function(){this.body&&(this.lo(),this.Ld.yn(this.body),this.body=null,this.A.X.be=null)};var m=[];k.er=function(){if(this.enabled){var a=this.A,
c=!1,k=null,l=null,h,n,A,D,y,B,E,C,G,F,H,X,na;if(this.body){c=!0;k=b.u(0,0);k.H(this.body.Ii());l=this.body.Bn();C=this.lh.Yd();h=0;for(n=C.length;h<n;h++)G=C[h].X.be.dg,G.lo();this.RA()}G=new e;G.Cf=this.Cf;G.kg=this.kg;G.Eg=this.Eg;h=new d;h.type=this.Pr?0:2;a.Ha();h.position.x=.02*a.lb.qi();h.position.y=.02*a.lb.ri();h.J=a.J;h.tr=this.kt;h.pj=this.pj;h.Ri=this.Ri;h.Vi=this.Vi;C=this.A.ua&&!this.A.ua.gi();this.body=this.Ld.gq(h);this.body.dg=this;h=this.vv;C||this.A.Jg||0!==this.vv||(h=1);n=Math.max(Math.abs(a.width),
1);A=Math.max(Math.abs(a.height),1);F=0>a.width;H=0>a.height;if(0===h)if(a.Jg)for(X=a.lb.qi()-a.x,E=a.lb.ri()-a.y,a.KF(m),C=[],h=0,n=m.length;h<n;++h){F=m[h];H=F.Ex;if(F.nf){if(!F.nf.co){y=F.nf.Zb;D=F.nf.me;for(A=0;A<D;++A)C.push(b.u(y[2*A],y[2*A+1]));A=F.id&3758096384;(-2147483648===A||1073741824===A||536870912===A||A&-2147483648&&A&1073741824&&A&536870912)&&C.reverse();F.nf.co=We(C,(H.right-H.left)*(H.bottom-H.top));A=0;for(D=C.length;A<D;++A)b.fc(C[A]);C.length=0}A=0;for(D=F.nf.co.length;A<D;++A){na=
F.nf.co[A];y=0;for(B=na.length;y<B;++y)C.push(b.u(.02*(H.left+na[y].x-X),.02*(H.top+na[y].y-E)));G.shape=new g;G.shape.ul(C,C.length);this.body.Rj(G);y=0;for(B=C.length;y<B;++y)b.fc(C[y]);C.length=0}}else C.push(b.u(.02*(H.left-X),.02*(H.top-E))),C.push(b.u(.02*(H.right-X),.02*(H.top-E))),C.push(b.u(.02*(H.right-X),.02*(H.bottom-E))),C.push(b.u(.02*(H.left-X),.02*(H.bottom-E))),G.shape=new g,G.shape.ul(C,C.length),this.body.Rj(G);A=0;for(D=C.length;A<D;++A)b.fc(C[A]);C.length=0}else{h=a.J;a.J=0;a.Ga();
a.Ha();X=a.lb.qi()-a.x;E=a.lb.ri()-a.y;a.J=h;a.Ga();a.ua.Vh(F?-n:n,H?-A:A,0);y=a.ua.Zb;D=a.ua.me;C=[];C.length=D;for(h=0;h<D;h++)C[h]=b.u(y[2*h]-X,y[2*h+1]-E);F!==H&&C.reverse();X=We(C,n*A);for(h=0;h<D;h++)b.fc(C[h]);if(X.length)for(h=0,n=X.length;h<n;h++){C=X[h];A=0;for(D=C.length;A<D;A++)E=C[A],E.x*=.02,E.y*=.02;G.shape=new g;G.shape.ul(C,C.length);this.body.Rj(G);A=0;for(D=C.length;A<D;A++)b.fc(C[A])}else G.shape=new g,G.shape.Kn(.01*n,.01*A),this.body.Rj(G)}else 1===h?(G.shape=new g,G.shape.Kn(.01*
n,.01*A)):G.shape=new f(.01*Math.min(n,A)),this.body.Rj(G);a.X.be=this.body;this.js=a.width;this.ds=a.height;if(c)for(this.body.Ni(k),this.body.tl(l),b.fc(k),this.pt(),C=this.lh.Yd(),h=0,n=C.length;h<n;h++)G=C[h].X.be.dg,G.pt();m.length=0}};k.Wd=function(){if(this.enabled){var a=this.A,c;0===this.behavior.iE?c=this.g.Mj/60:(c=this.g.Sl(this.A),c>1/30&&(c=1/30));this.g.Xd>this.behavior.hs&&0<this.g.Mj&&(this.Ld.Rg(c,this.behavior.pn,this.behavior.Wm),this.Ld.hu(),this.behavior.hs=this.g.Xd);if(this.Fx||
a.width!==this.js||a.height!==this.ds||a.zb!==this.as||a.da!==this.bs||a.Jg&&a.ux)this.er(),this.Fx=!1,this.as=a.zb,this.bs=a.da,a.Jg&&a.ux&&(a.ux=!1);c=a.J!==this.es;if(a.x!==this.tk||a.y!==this.uk){a.Ha();var d=a.lb.qi(),e=a.lb.ri(),f=d-this.tk,g=e-this.uk;this.body.zq(b.u(.02*d,.02*e));this.body.Ni(b.u(f,g));this.lm=!0;this.body.zc(!0)}else this.lm&&(this.lm=!1,this.body.Ni(b.u(0,0)),this.body.zq(b.u(.02*a.lb.qi(),.02*a.lb.ri())));c&&(this.body.Jn(a.J),this.body.zc(!0));d=this.body.D.position;
c=d.x/.02;d=d.y/.02;e=this.body.xd();if(c!==a.x||d!==a.y||e!==a.J)if(a.x=c,a.y=d,a.J=e,a.Ga(),a.Ha(),c=a.lb.qi()-a.x,d=a.lb.ri()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.Ga();this.tk=a.x;this.uk=a.y;this.es=a.J}};k.dj=function(a){return-1!==a&&this.A.lg?0===a&&this.body?(this.body.D.position.x+this.body.Ji().x)/.02:this.A.lg(a,!0):this.A.x};k.ej=function(a){return-1!==a&&this.A.lg?0===a&&this.body?(this.body.D.position.y+this.body.Ji().y)/.02:this.A.lg(a,!1):this.A.y};a.prototype.Gn=function(){return this.enabled};
n.V=new a;c.prototype.tf=function(a,c,d){if(this.enabled){var e=this.dj(d);d=this.ej(d);this.body.tf(b.u(a,c),b.u(.02*e,.02*d))}};c.prototype.Jy=function(a,c,d,e){if(this.enabled){var f=this.dj(e);e=this.ej(e);c=Ga(f,e,c,d);this.body.tf(b.u(Math.cos(c)*a,Math.sin(c)*a),b.u(.02*f,.02*e))}};c.prototype.fl=function(a,c,d){if(this.enabled){var e=this.dj(d);d=this.ej(d);this.body.fl(b.u(a,c),b.u(.02*e,.02*d));this.lm=!1;this.tk=this.A.x;this.uk=this.A.y}};c.prototype.Ky=function(a,c,d,e){if(this.enabled){var f=
this.dj(e);e=this.ej(e);c=Ga(f,e,c,d);this.body.fl(b.u(Math.cos(c)*a,Math.sin(c)*a),b.u(.02*f,.02*e));this.lm=!1;this.tk=this.A.x;this.uk=this.A.y}};c.prototype.sn=function(a){this.enabled&&this.body.sn(z(a))};c.prototype.tl=function(a){this.enabled&&(this.body.tl(z(a)),this.body.zc(!0))};k.VA=function(a,c,d,e,f){if(this.enabled&&(c=this.g.Ul(c))&&c!=this.A&&c.X.be){c.X.be.dg.lh.add(this.A);var g=this.dj(a);a=this.ej(a);var h;c.lg?(h=c.lg(d,!0),d=c.lg(d,!1)):(h=c.x,d=c.y);var k=g-h,m=a-d,n=new l;
n.gc(this.body,c.X.be,b.u(.02*g,.02*a),b.u(.02*h,.02*d));n.length=.02*Math.sqrt(k*k+m*m);n.jo=e;n.wo=f;this.ke.push(this.Ld.xn(n))}};k.XA=function(a,c){if(this.enabled){var d=this.g.Ul(c);if(d&&d!=this.A&&d.X.be){d.X.be.dg.lh.add(this.A);var e=this.dj(a),f=this.ej(a),g=new h;g.gc(this.body,d.X.be,b.u(.02*e,.02*f));this.ke.push(this.Ld.xn(g))}}};k.WA=function(a,c,d,e){if(this.enabled&&(c=this.g.Ul(c))&&c!=this.A&&c.X.be){c.X.be.dg.lh.add(this.A);var f=this.dj(a);a=this.ej(a);var g=new h;g.gc(this.body,
c.X.be,b.u(.02*f,.02*a));g.aj=!0;g.Bs=z(d);g.Wt=z(e);this.ke.push(this.Ld.xn(g))}};c.prototype.Uz=function(a){if(a!==this.behavior.Dy){this.Ld.Ku(b.u(0,a));this.behavior.Dy=a;var c,d=this.behavior.vi.Yd();a=0;for(c=d.length;a<c;a++)d[a].X.be&&d[a].X.be.zc(!0)}};n.ib=new c;n.Tb=new function(){}})();function Ze(a){this.g=a}
(function(){function a(){}var c=Ze.prototype;c.rb=function(a){this.behavior=a;this.g=a.g};c.rb.prototype.Fa=function(){};c.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g;this.Dc=0};var b=c.Va.prototype,d=2*Math.PI,e=Math.PI/2,g=3*Math.PI/2;b.Fa=function(){this.hc=1===this.aa[0];this.Km=this.aa[1];this.au=this.aa[2];this.Bh=this.aa[3];this.Bh+=Math.random()*this.aa[4];0===this.Bh?this.Dc=0:(this.Dc=this.aa[5]/this.Bh*d,this.Dc+=Math.random()*this.aa[6]/this.Bh*d);this.Rd=
this.aa[7];this.Rd+=Math.random()*this.aa[8];this.ne=this.hj=this.Ra=0;this.init()};b.Kd=function(){return{i:this.Dc,a:this.hc,mv:this.Km,w:this.au,p:this.Bh,mag:this.Rd,iv:this.Ra,iv2:this.hj,r:this.ne,lkv:this.ge,lkv2:this.jm}};b.ie=function(a){this.Dc=a.i;this.hc=a.a;this.Km=a.mv;this.au=a.w;this.Bh=a.p;this.Rd=a.mag;this.Ra=a.iv;this.hj=a.iv2||0;this.ne=a.r;this.ge=a.lkv;this.jm=a.lkv2||0};b.init=function(){switch(this.Km){case 0:this.Ra=this.A.x;break;case 1:this.Ra=this.A.y;break;case 2:this.Ra=
this.A.width;this.ne=this.A.height/this.A.width;break;case 3:this.Ra=this.A.width;break;case 4:this.Ra=this.A.height;break;case 5:this.Ra=this.A.J;this.Rd=z(this.Rd);break;case 6:this.Ra=this.A.opacity;break;case 7:this.Ra=0;break;case 8:this.Ra=this.A.x,this.hj=this.A.y}this.ge=this.Ra;this.jm=this.hj};b.Jh=function(a){a%=d;switch(this.au){case 0:return Math.sin(a);case 1:return a<=e?a/e:a<=g?1-2*(a-e)/Math.PI:(a-g)/e-1;case 2:return 2*a/d-1;case 3:return-2*a/d+1;case 4:return a<Math.PI?-1:1}return 0};
b.Wd=function(){var a=this.g.Sl(this.A);if(this.hc&&0!==a){0===this.Bh?this.Dc=0:(this.Dc+=a/this.Bh*d,this.Dc%=d);switch(this.Km){case 0:this.A.x!==this.ge&&(this.Ra+=this.A.x-this.ge);this.A.x=this.Ra+this.Jh(this.Dc)*this.Rd;this.ge=this.A.x;break;case 1:this.A.y!==this.ge&&(this.Ra+=this.A.y-this.ge);this.A.y=this.Ra+this.Jh(this.Dc)*this.Rd;this.ge=this.A.y;break;case 2:this.A.width=this.Ra+this.Jh(this.Dc)*this.Rd;this.A.height=this.A.width*this.ne;break;case 3:this.A.width=this.Ra+this.Jh(this.Dc)*
this.Rd;break;case 4:this.A.height=this.Ra+this.Jh(this.Dc)*this.Rd;break;case 5:this.A.J!==this.ge&&(this.Ra=Da(this.Ra+(this.A.J-this.ge)));this.A.J=Da(this.Ra+this.Jh(this.Dc)*this.Rd);this.ge=this.A.J;break;case 6:this.A.opacity=this.Ra+this.Jh(this.Dc)*this.Rd/100;0>this.A.opacity?this.A.opacity=0:1<this.A.opacity&&(this.A.opacity=1);break;case 8:this.A.x!==this.ge&&(this.Ra+=this.A.x-this.ge),this.A.y!==this.jm&&(this.hj+=this.A.y-this.jm),this.A.x=this.Ra+Math.cos(this.A.J)*this.Jh(this.Dc)*
this.Rd,this.A.y=this.hj+Math.sin(this.A.J)*this.Jh(this.Dc)*this.Rd,this.ge=this.A.x,this.jm=this.A.y}this.A.Ga()}};b.ox=function(a,b){switch(this.Km){case 2:this.Ra*=b.width/a.width;this.ne=b.height/b.width;break;case 3:this.Ra*=b.width/a.width;break;case 4:this.Ra*=b.height/a.height}};a.prototype.Ph=function(){return this.hc};c.V=new a;c.ib=new function(){};c.Tb=new function(){}})();function $e(a){this.g=a}
(function(){var a=$e.prototype;a.rb=function(a){this.behavior=a;this.g=a.g};a.rb.prototype.Fa=function(){};a.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g;this.mode=0};a=a.Va.prototype;a.Fa=function(){this.mode=this.aa[0]};a.Wd=function(){};a.Rp=function(){this.A.Ha();var a=this.A.yb,b=this.A.O.rc,d=!1;0===this.mode?(0>this.A.x&&(this.A.x=0,d=!0),0>this.A.y&&(this.A.y=0,d=!0),this.A.x>b.width&&(this.A.x=b.width,d=!0),this.A.y>b.height&&(this.A.y=b.height,d=!0)):(0>a.left&&
(this.A.x-=a.left,d=!0),0>a.top&&(this.A.y-=a.top,d=!0),a.right>b.width&&(this.A.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.A.y-=a.bottom-b.height,d=!0));d&&this.A.Ga()}})();function af(a){this.g=a}
(function(){var a=af.prototype;a.rb=function(a){this.behavior=a;this.g=a.g};a.rb.prototype.Fa=function(){};a.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g};a=a.Va.prototype;a.Fa=function(){};a.Wd=function(){this.A.Ha();var a=this.A.yb,b=this.A.O.rc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.g.Hi(this.A)}})();function fc(a){this.g=a}
(function(){function a(){}var c=fc.prototype;c.rb=function(a){this.behavior=a;this.g=a.g};c.rb.prototype.Fa=function(){};c.Va=function(a,b){this.type=a;this.behavior=a.behavior;this.A=b;this.g=a.g};var b=c.Va.prototype;b.Fa=function(){this.A.X.solidEnabled=0!==this.aa[0]};b.Wd=function(){};a.prototype.Gn=function(){return this.A.X.solidEnabled};c.V=new a;c.ib=new function(){}})();
function ec(){return[hc,kc,jc,ic,gc,mc,$e,fc,Ye,lc,af,nc,Ze,J.prototype.V.bz,gc.prototype.ib.Vz,gc.prototype.Tb.Eq,gc.prototype.ib.Wz,gc.prototype.Tb.Fq,gc.prototype.ib.Nu,Ye.prototype.ib.Uz,Ye.prototype.ib.Jy,ic.prototype.ib.Nu,J.prototype.V.Ty,ic.prototype.ib.Rz,gc.prototype.Tb.My,J.prototype.V.az,ic.prototype.ib.aA,J.prototype.V.Sy,ic.prototype.ib.Qz,J.prototype.ib.Sz,gc.prototype.V.kz,gc.prototype.ib.Pu,ic.prototype.ib.Pu,gc.prototype.V.wz,Ye.prototype.ib.Ky,J.prototype.ib.Yy,Ye.prototype.ib.fl,
J.prototype.Tb.random,J.prototype.Tb.PC,J.prototype.Tb.OC,gc.prototype.Tb.Xy,gc.prototype.ib.wd,gc.prototype.V.lz]};
